"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[398],{3905:(t,e,n)=>{n.d(e,{Zo:()=>k,kt:()=>s});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),m=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},k=function(t){var e=m(t.components);return a.createElement(p.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,k=o(t,["components","mdxType","originalType","parentName"]),c=m(n),s=r,u=c["".concat(p,".").concat(s)]||c[s]||d[s]||l;return n?a.createElement(u,i(i({ref:e},k),{},{components:n})):a.createElement(u,i({ref:e},k))}));function s(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var m=2;m<l;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},59357:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>m});var a=n(87462),r=(n(67294),n(3905));const l={title:"Objective-C (iOS) (0.4.0)",date:"2020-03-02",sidebar_position:970},i=void 0,o={unversionedId:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0/index",id:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0/index",title:"Objective-C (iOS) (0.4.0)",description:"1\\. Overview",source:"@site/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0",slug:"/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0/",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0/index.md",tags:[],version:"current",lastUpdatedAt:1662725915,formattedLastUpdatedAt:"Sep 9, 2022",sidebarPosition:970,frontMatter:{title:"Objective-C (iOS) (0.4.0)",date:"2020-03-02",sidebar_position:970},sidebar:"defaultSidebar",previous:{title:"Objective-C (iOS) (0.5.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-5-0/"},next:{title:"Objective-C (iOS) (0.3.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-3-0/"}},p={},m=[{value:"1. Overview",id:"1-overview",level:2},{value:"2. Initialization",id:"2-initialization",level:2},{value:"2.1 Importing the library",id:"21-importing-the-library",level:2},{value:"2.2 Creating a tracker",id:"22-creating-a-tracker",level:3},{value:"2.2.1\xa0<code>collector</code>",id:"221collector",level:4},{value:"2.2.2\xa0<code>namespace</code>",id:"222namespace",level:4},{value:"2.2.3\xa0<code>appId</code>",id:"223appid",level:4},{value:"2.2.4\xa0<code>base64Encoded</code>",id:"224base64encoded",level:4},{value:"3. Adding extra data",id:"3-adding-extra-data",level:2},{value:"3.1 Set user ID with\xa0<code>setUserId</code>",id:"31-set-user-id-withsetuserid",level:3},{value:"3.2 Sending IFA",id:"32-sending-ifa",level:3},{value:"4. Tracking specific events",id:"4-tracking-specific-events",level:2},{value:"4.1 Common",id:"41-common",level:3},{value:"4.1.1 Custom contexts",id:"411-custom-contexts",level:3},{value:"4.1.2 Optional timestamp &amp; context argument",id:"412-optional-timestamp--context-argument",level:3},{value:"4.1.3 Tracker method return values",id:"413-tracker-method-return-values",level:3},{value:"4.2 Track screen views with\xa0<code>trackScreenView:</code>",id:"42-track-screen-views-withtrackscreenview",level:3},{value:"4.3 Track pageviews with\xa0<code>trackPageView:</code>",id:"43-track-pageviews-withtrackpageview",level:3},{value:"4.4 Track ecommerce transactions with\xa0<code>trackEcommerceTransaction:</code>",id:"44-track-ecommerce-transactions-withtrackecommercetransaction",level:3},{value:"4.5 Track structured events with\xa0<code>trackStructuredEvent:</code>",id:"45-track-structured-events-withtrackstructuredevent",level:3},{value:"4.6 Track unstructured events with\xa0<code>trackUnstructuredEvent:</code>",id:"46-track-unstructured-events-withtrackunstructuredevent",level:3},{value:"4.7 Track user timings with\xa0<code>trackTimingWithCategory:</code>",id:"47-track-user-timings-withtracktimingwithcategory",level:3},{value:"5. Sending events:\xa0<code>SnowplowEmitter</code>",id:"5-sending-eventssnowplowemitter",level:2},{value:"5.1 Using a buffer",id:"51-using-a-buffer",level:3},{value:"5.2 Choosing the HTTP method",id:"52-choosing-the-http-method",level:3},{value:"5.3 Sending HTTP requests",id:"53-sending-http-requests",level:3},{value:"1. Overview",id:"1-overview-1",level:2},{value:"1.1 Demonstration App",id:"11-demonstration-app",level:3},{value:"2. Initialization",id:"2-initialization-1",level:2},{value:"2.1 Importing the library",id:"21-importing-the-library-1",level:2},{value:"2.2 Creating a tracker",id:"22-creating-a-tracker-1",level:3},{value:"2.2.1\xa0<code>collector</code>",id:"221collector-1",level:4},{value:"2.2.2\xa0<code>namespace</code>",id:"222namespace-1",level:4},{value:"2.2.3\xa0<code>appId</code>",id:"223appid-1",level:4},{value:"2.2.4\xa0<code>base64Encoded</code>",id:"224base64encoded-1",level:4},{value:"3. Adding extra data",id:"3-adding-extra-data-1",level:2},{value:"3.1 Set user ID with\xa0<code>setUserId</code>",id:"31-set-user-id-withsetuserid-1",level:3},{value:"3.2 Sending IFA",id:"32-sending-ifa-1",level:3},{value:"4. Tracking specific events",id:"4-tracking-specific-events-1",level:2},{value:"4.1 Common",id:"41-common-1",level:3},{value:"4.1.1 Custom contexts",id:"411-custom-contexts-1",level:3},{value:"4.1.2 Optional timestamp &amp; context argument",id:"412-optional-timestamp--context-argument-1",level:3},{value:"4.1.3 Tracker method return values",id:"413-tracker-method-return-values-1",level:3},{value:"4.2 Track screen views with\xa0<code>trackScreenView:</code>",id:"42-track-screen-views-withtrackscreenview-1",level:3},{value:"4.3 Track pageviews with\xa0<code>trackPageView:</code>",id:"43-track-pageviews-withtrackpageview-1",level:3},{value:"4.4 Track ecommerce transactions with\xa0<code>trackEcommerceTransaction:</code>",id:"44-track-ecommerce-transactions-withtrackecommercetransaction-1",level:3},{value:"4.5 Track structured events with\xa0<code>trackStructuredEvent:</code>",id:"45-track-structured-events-withtrackstructuredevent-1",level:3},{value:"4.6 Track unstructured events with\xa0<code>trackUnstructuredEvent:</code>",id:"46-track-unstructured-events-withtrackunstructuredevent-1",level:3},{value:"4.7 Track user timings with\xa0<code>trackTimingWithCategory:</code>",id:"47-track-user-timings-withtracktimingwithcategory-1",level:3},{value:"5. Sending events:\xa0<code>SnowplowEmitter</code>",id:"5-sending-eventssnowplowemitter-1",level:2},{value:"5.1 Using a buffer",id:"51-using-a-buffer-1",level:3},{value:"5.2 Choosing the HTTP method",id:"52-choosing-the-http-method-1",level:3},{value:"5.3 Adding an Emitter Callback",id:"53-adding-an-emitter-callback",level:3},{value:"5.4 Sending HTTP requests",id:"54-sending-http-requests",level:3}],k={toc:m};function d(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},k,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-overview"},"1","."," Overview"),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow-ios-tracker"},"Snowplow iOS Tracker"),"\xa0allows you to track Snowplow events from your iOS apps and games. It supports iOS 7.0+."),(0,r.kt)("p",null,"The tracker should be straightforward to use if you are comfortable with iOS development; its API is modelled after Snowplow's\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Python-Tracker"},"Python Tracker"),"\xa0so any prior experience with that tracker is helpful but not necessary. If you haven't already, have a look at the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-Setup"},"iOS Tracker Setup"),"\xa0guide before continuing."),(0,r.kt)("p",null,"You can also find detailed documentation for the method calls in the tracker classes available as part of the\xa0",(0,r.kt)("a",{parentName:"p",href:"http://cocoadocs.org/docsets/SnowplowTracker/"},"CocoaPods documentation"),"."),(0,r.kt)("h2",{id:"2-initialization"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#2-initialization"}),"2","."," Initialization"),(0,r.kt)("p",null,"Assuming you have completed the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-Setup"},"iOS Tracker Setup"),"\xa0for your project, you are now ready to initialze the Snowplow Tracker."),(0,r.kt)("h2",{id:"21-importing-the-library"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#21-importing-the-library"}),"2.1 Importing the library"),(0,r.kt)("p",null,"Adding the library into your project is as simple as adding the headers into your class file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#import <SnowplowTracker.h>\n#import <SnowplowEmitter.h>\n")),(0,r.kt)("p",null,"If you have manually copied the library into your project, don't forget to change your import syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'#import "SnowplowTracker.h"\n#import "SnowplowEmitter.h"\n')),(0,r.kt)("p",null,"That's it - you are now ready to initialize a tracker instance."),(0,r.kt)("h3",{id:"22-creating-a-tracker"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#22-creating-a-tracker"}),"2.2 Creating a tracker"),(0,r.kt)("p",null,"To instantiate a tracker in your code simply instantiate the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowTracker"),"\xa0class with the constructor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (id) initWithCollector:(SnowplowEmitter *)collector_\n                   appId:(NSString *)appId_\n           base64Encoded:(Boolean)encoded\n               namespace:(NSString *)namespace_\n")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'SnowplowTracker *t1 = [[SnowplowTracker alloc] initWithCollector:collector appId:@"AF003" base64Encoded:false namespace:@"cloudfront"];\n')),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument Name")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"collector")),(0,r.kt)("td",{parentName:"tr",align:null},"The SnowplowEmitter object you create")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"namespace")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the tracker instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"appId")),(0,r.kt)("td",{parentName:"tr",align:null},"The application ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"base64Encoded")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable\xa0",(0,r.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/Base64"},"base 64 encoding"))))),(0,r.kt)("h4",{id:"221collector"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#221-collector"}),"2.2.1\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"collector")),(0,r.kt)("p",null,"This is a single\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0object that will be used to send all the tracking events created by the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowTracker"),"\xa0to a collector. See\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#emitters"},"Sending events"),"\xa0for more on its configuration."),(0,r.kt)("h4",{id:"222namespace"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#222-namespace"}),"2.2.2\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"namespace")),(0,r.kt)("p",null,"If provided, the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"namespace"),"\xa0argument will be attached to every event fired by the new tracker. This allows you to later identify which tracker fired which event if you have multiple trackers running."),(0,r.kt)("h4",{id:"223appid"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#223-appid"}),"2.2.3\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"appId")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"appId"),"\xa0argument lets you set the application ID to any string."),(0,r.kt)("h4",{id:"224base64encoded"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#224-base64encoded"}),"2.2.4\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"base64Encoded")),(0,r.kt)("p",null,"By default, unstructured events and custom contexts are encoded into Base64 to ensure that no data is lost or corrupted. You can turn encoding on or off using the Boolean\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"base64Encoded"),"\xa0argument."),(0,r.kt)("h2",{id:"3-adding-extra-data"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#3-adding-extra-data"}),"3","."," Adding extra data"),(0,r.kt)("p",null,"Unlike the other Trackers, the iOS tracker automatically collects your platform, screen resolution, viewport, color depth, timezone and language from the device. You can still however, set your user ID to properly track different users if you require it."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#set-user-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#sending-ifa"},"Sending IFA"))),(0,r.kt)("h3",{id:"31-set-user-id-withsetuserid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#31-set-user-id-with-setuserid"}),"3.1 Set user ID with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setUserId")),(0,r.kt)("p",null,"You can set the user ID to any string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'s1.setUserId( "{{USER ID}}" )\n')),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[tracker setUserId:@"alexd"];\n')),(0,r.kt)("h3",{id:"32-sending-ifa"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#32-sending-ifa"}),"3.2 Sending IFA"),(0,r.kt)("p",null,"Apps that do not display advertisements are not allowed to access Apple's Identifier For Advertisers (IFA). For this reason, the Snowplow iOS Tracker will only send IFA as part of the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"mobile_context"),"\xa0which is attached to each event\xa0",(0,r.kt)("strong",{parentName:"p"},"if"),"\xa0you have the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"AdSupport.framework"),"\xa0included in your app (and are therefore intending to serve ads)."),(0,r.kt)("p",null,"For the avoidance of doubt, you can also avoid sending IFA regardless of your advertising situation, thus:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click on\xa0",(0,r.kt)("strong",{parentName:"li"},"Build Settings"),"\xa0to your app's project in Xcode"),(0,r.kt)("li",{parentName:"ul"},"Search for\xa0",(0,r.kt)("strong",{parentName:"li"},"Preprocessor Macros")),(0,r.kt)("li",{parentName:"ul"},"Add a macro defined as",(0,r.kt)("inlineCode",{parentName:"li"},"SNOWPLOW_NO_IFA = 1"))),(0,r.kt)("h2",{id:"4-tracking-specific-events"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#4-tracking-specific-events"}),"4","."," Tracking specific events"),(0,r.kt)("p",null,"Snowplow has been built to enable you to track a wide range of events that occur when users interact with your websites and apps. We are constantly growing the range of functions available in order to capture that data more richly."),(0,r.kt)("p",null,"Tracking methods supported by the iOS Tracker at a glance:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Function")),(0,r.kt)("th",{parentName:"tr",align:null},"*",(0,r.kt)("em",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#screen-view"},(0,r.kt)("inlineCode",{parentName:"a"},"trackScreenView:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track the user viewing a screen within the application")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#page-view"},(0,r.kt)("inlineCode",{parentName:"a"},"trackPageView:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track and record views of web pages.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#ecommerce-transaction"},(0,r.kt)("inlineCode",{parentName:"a"},"trackEcommerceTransaction:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track an ecommerce transaction and its items")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#struct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"trackStructuredEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom structured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#unstruct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"trackUnstructuredEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom unstructured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#timing"},(0,r.kt)("inlineCode",{parentName:"a"},"trackTiming:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow user timing event")))),(0,r.kt)("h3",{id:"41-common"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#41-common"}),"4.1 Common"),(0,r.kt)("p",null,"All events are tracked with specific methods on the tracker instance, of the form\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackXXX()"),", where\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"XXX"),"\xa0is the name of the event to track."),(0,r.kt)("h3",{id:"411-custom-contexts"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#411-custom-contexts"}),"4.1.1 Custom contexts"),(0,r.kt)("p",null,"In short, custom contexts let you add additional information about the circumstances surrounding an event in the form of an NSDictionary object. Each tracking method accepts an additional optional contexts parameter after all the parameters specific to that method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer;\n- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer\n               context:(NSMutableArray *)context;\n- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer\n             timestamp:(double)timestamp;\n- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer\n               context:(NSMutableArray *)context\n             timestamp:(double)timestamp;\n")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"context"),"\xa0argument should consist of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSArray"),"\xa0of\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0representing an array of one or more contexts. The format of each individual context element is the same as for an\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#unstruct-event"},"unstructured event"),"."),(0,r.kt)("p",null,"If a visitor arrives on a page advertising a movie, the context dictionary might look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "schema": "iglu:com.acme_company/movie_poster/jsonschema/2.1.1",\n  "data": {\n    "movieName": "The Guns of Navarone",\n    "posterCountry": "US",\n    "posterYear": "1961"\n  }\n}\n')),(0,r.kt)("p",null,"The corresponding\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0would look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSDictionary *poster = @{\n                         @"schema":@"iglu:com.acme_company/movie_poster/jsonschema/1-0-0",\n                         @"data": @{\n                                 @"movieName": @"The Guns of Navarone",\n                                 @"posterCountry": @"US",\n                                 @"posterYear": @"1961"\n                                 }\n                         };\n')),(0,r.kt)("p",null,"Sending the movie poster context with an event looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[tracker trackStructuredEvent:@"Product"\n                       action:@"View"\n                        label:nil\n                     property:nil\n                        value:0\n                      context:[NSMutableArray arrayWithArray:@[poster]]];\n')),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note that even if there is only one custom context attached to the event, it still needs to be placed in an array.")),(0,r.kt)("h3",{id:"412-optional-timestamp--context-argument"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#412-optional-timestamp--context-argument"}),"4.1.2 Optional timestamp & context argument"),(0,r.kt)("p",null,"In all the trackers, we offer a way to set the timestamp if you want the event to show as tracked at a specific time. If you don't, we create a timestamp while the event is being tracked."),(0,r.kt)("p",null,"Here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[tracker trackPageView:@"www.page.com" title:@"Example Page" referrer:@"www.referrer.com"];\n')),(0,r.kt)("p",null,"[",'tracker trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.page.com%22"},'www.page.com"'),' title:@"Example Page" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22"},'www.referrer.com"')," context:contextArray","]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"[",'tracker trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.page.com%22"},'www.page.com"'),' title:@"Example Page" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22"},'www.referrer.com"')," timestamp:1234567890","]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"[",'tracker trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.page.com%22"},'www.page.com"'),' title:@"Example Page" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22"},'www.referrer.com"')," context:contextArray timestamp:1234567890","]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"413-tracker-method-return-values"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#413-tracker-method-return-values"}),"4.1.3 Tracker method return values"),(0,r.kt)("p",null,"To be confirmed. As of now, trackers do not return anything."),(0,r.kt)("h3",{id:"42-track-screen-views-withtrackscreenview"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#42-track-screen-views-with-trackscreenview"}),"4.2 Track screen views with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackScreenView:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackScreenView:"),"\xa0to track a user viewing a screen (or equivalent) within your app. Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"Human-readable name for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"id_")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackScreenView:@"HUD > Save Game" screen:@"screen23"];\n')),(0,r.kt)("p",null,"[",'t1 trackScreenView:@"HUD > Save Game" screen:nil timestamp:12435678',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"[",'t1 trackScreenView:@"HUD > Save Game" screen:@"screen23" timestamp:12435678',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"43-track-pageviews-withtrackpageview"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#43-track-pageviews-with-trackpageview"}),"4.3 Track pageviews with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackPageView:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackPageView:"),"\xa0to track a user viewing a page within your app."),(0,r.kt)("p",null,"Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pageUrl")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pageTitle")),(0,r.kt)("td",{parentName:"tr",align:null},"The title of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"referrer")),(0,r.kt)("td",{parentName:"tr",align:null},"The address which linked to the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackPageView:@"www.example.com" title:@"example" referrer:@"www.referrer.com" context:contextList];\n')),(0,r.kt)("p",null,"[",'t1 trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.example.com%22"},'www.example.com"'),' title:@"example" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22%5C%5D"},'www.referrer.com"\\]')),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"44-track-ecommerce-transactions-withtrackecommercetransaction"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#44-track-ecommerce-transactions-with-trackecommercetransaction"}),"4.4 Track ecommerce transactions with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackEcommerceTransaction:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceTransaction:"),"\xa0to track an ecommerce transaction. Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"orderId")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the eCommerce transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"totalValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Total transaction value"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"affiliation")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction affiliation"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"taxValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction tax value"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"shipping")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery cost charged"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"city")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address city"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"state")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address state"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"country")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address country"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"items")),(0,r.kt)("td",{parentName:"tr",align:null},"Items in the transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tstamp")),(0,r.kt)("td",{parentName:"tr",align:null},"When the transaction event occurred"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceTransaction:"),'\xa0fires multiple events: one "transaction" event for the transaction as a whole, and one "transaction item" event for each element of the\xa0',(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0array. Each transaction item event will have the same timestamp, orderId, and currency as the main transaction event."),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0argument is an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSMutableArray"),"\xa0containing an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0for each item in the transaction. There is a convenience constructor for each item called\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceTransactionItem:"),". Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Field")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sku")),(0,r.kt)("td",{parentName:"tr",align:null},"Item SKU"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"price")),(0,r.kt)("td",{parentName:"tr",align:null},"Item price"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"quantity")),(0,r.kt)("td",{parentName:"tr",align:null},"Item quantity"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"Item name"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"Item category"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tstamp")),(0,r.kt)("td",{parentName:"tr",align:null},"When the transaction event occurred"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example of tracking a transaction containing one item:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSString *transactionID = @"6a8078be";\nNSMutableArray *itemArray = [NSMutableArray array];\n\n[itemArray addObject:[t trackEcommerceTransactionItem:transactionID\n                                                  sku:@"pbz0026"\n                                                 name:@"Hot Chocolate"\n                                             category:@"Drink"\n                                                price:0.75F\n                                             quantity:1\n                                             currency:@"USD"]];\n')),(0,r.kt)("p",null,"[",'t trackEcommerceTransaction:transactionID totalValue:350 affiliation:@"no',"_",'affiliate" taxValue:10 shipping:15 city:@"Boston" state:@"Massachusetts" country:@"USA" currency:@"USD" items:itemArray',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"45-track-structured-events-withtrackstructuredevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#45-track-structured-events-with-trackstructuredevent"}),"4.5 Track structured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackStructuredEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackStructuredEvent:"),"\xa0to track a custom event happening in your app which fits the Google Analytics-style structure of having up to five fields (with only the first two required):"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"The grouping of structured events which this\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"action"),"\xa0belongs to"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"action")),(0,r.kt)("td",{parentName:"tr",align:null},"Defines the type of user interaction which this event involves"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"A string to provide additional dimensions to the event data"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"property")),(0,r.kt)("td",{parentName:"tr",align:null},"A string describing the object or the action performed on it"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:null},"A value to provide numerical data about the event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"int")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackStructuredEvent:@"shop" action:@"add-to-basket" label:@"Add To Basket" property:@"pcs" value:27];\n')),(0,r.kt)("p",null,"[",'t1 trackStructuredEvent:@"shop" action:@"add-to-basket" label:@"Add To Basket" property:@"pcs" value:27 timestamp:1234569',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"46-track-unstructured-events-withtrackunstructuredevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#46-track-unstructured-events-with-trackunstructuredevent"}),"4.6 Track unstructured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackUnstructuredEvent:")),(0,r.kt)("p",null,"Custom unstructured events are a flexible tool that enable Snowplow users to define their own event types and send them into Snowplow."),(0,r.kt)("p",null,"When a user sends in a custom unstructured event, they do so as a JSON of name-value properties, that conforms to a JSON schema defined for the event earlier."),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackUnstructuredEvent:"),"\xa0to track a custom event which consists of a name and an unstructured set of properties. This is useful when:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You want to track event types which are proprietary/specific to your business (i.e. not already part of Snowplow), or"),(0,r.kt)("li",{parentName:"ul"},"You want to track events which have unpredictable or frequently changing properties")),(0,r.kt)("p",null,"The arguments are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventJson")),(0,r.kt)("td",{parentName:"tr",align:null},"The properties of the event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSDictionary","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (void) trackUnstructuredEvent:(NSDictionary *)eventJson\n                        context:(NSMutableArray *)context\n                      timestamp:(double)timestamp;\n")),(0,r.kt)("p",null,"If you supply a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary*"),", make sure that this top-level contains your\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"schema"),"\xa0and\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"data"),"\xa0keys, and then store your\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"data"),"\xa0properties as a child\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary*"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSDictionary *event = @{\n                          @"schema":@"iglu:com.acme/save_game/jsonschema/1-0-0",\n                          @"data": @{\n                                  @"level": @23,\n                                  @"score": @56473\n                                  }\n                          };\ntracker trackUnstructuredEvent:event\n                        context:nil\n                      timestamp:12345678;\n')),(0,r.kt)("p",null,"For more on JSON schema, see the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://snowplow.io/blog/2014/05/15/introducing-self-describing-jsons/"},"blog post"),"."),(0,r.kt)("h3",{id:"47-track-user-timings-withtracktimingwithcategory"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#47-track-user-timings-with-tracktimingwithcategory"}),"4.7 Track user timings with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackTimingWithCategory:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackTiming:"),"\xa0to track a user timing in your app - for example, how long a game took to load, or how long an in-app purchase took to download. The fields are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"Categorizing timing variables into logical groups (e.g API calls, asset loading)"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"variable")),(0,r.kt)("td",{parentName:"tr",align:null},"Identify the timing being recorded"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timing")),(0,r.kt)("td",{parentName:"tr",align:null},"The number of milliseconds in elapsed time to report"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSUInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional description of this timing"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackTimingWithCategory:@"Application"\n                   variable:@"Background"\n                     timing:324\n                      label:@"5231804123"];\n\n')),(0,r.kt)("p",null,"[",'t1 trackTimingWithCategory:@"Application" variable:@"Background" timing:324 label:@"5231804123" timestamp:1234569',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h2",{id:"5-sending-eventssnowplowemitter"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#5-sending-events-snowplowemitter"}),"5","."," Sending events:\xa0",(0,r.kt)("inlineCode",{parentName:"h2"},"SnowplowEmitter")),(0,r.kt)("p",null,"Events created by the Tracker are sent to a collector using a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0instance. You can create one using one of the init methods:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (id) initWithURLRequest:(NSURL *)url\n               httpMethod:(NSString *)method\n             bufferOption:(enum SnowplowBufferOptions)option;\n- (id) initWithURLRequest:(NSURL *)url\n               httpMethod:(NSString* )method;\n")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant];\nSnowplowEmitter emitter2 = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                            httpMethod:@"GET"];\n')),(0,r.kt)("h3",{id:"51-using-a-buffer"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#51-using-a-buffer"}),"5.1 Using a buffer"),(0,r.kt)("p",null,"A buffer is used to group events together in bulk before sending them. This is especially handy to reduce network usage. By default, the SnowplowEmitter buffers up to 10 events before sending them."),(0,r.kt)("p",null,"You can set this during the creation of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0object or using the setter\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"-(void)setBufferOption:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant];\nSnowplowEmitter emitter2 = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferDefault];\n')),(0,r.kt)("p",null,"[","emitter setBufferOption:SnowplowBufferInstant","]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SnowplowBufferInstant")),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent as soon as they are created")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SnowplowBufferDefault")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events in a group when 10 events are created")))),(0,r.kt)("h3",{id:"52-choosing-the-http-method"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#52-choosing-the-http-method"}),"5.2 Choosing the HTTP method"),(0,r.kt)("p",null,"Snowplow supports receiving events via GET requests, but will soon have POST support. In a GET request, each event is sent in individual request. With POST requests, events are bundled together in one request."),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'@"GET"')),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent individually as GET requests")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'@"POST"')),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent in a group when 10 events are received in one POST request")))),(0,r.kt)("h3",{id:"53-sending-http-requests"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.3#53-sending-http-requests"}),"5.3 Sending HTTP requests"),(0,r.kt)("p",null,"You can set this during the creation of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant];\nSnowplowEmitter emitter2 = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"GET"\n                                                         bufferOption:SnowplowBufferDefault];\n')),(0,r.kt)("h2",{id:"1-overview-1"},"1","."," Overview"),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow-ios-tracker"},"Snowplow iOS Tracker"),"\xa0allows you to track Snowplow events from your iOS apps and games. It supports iOS 6.0+."),(0,r.kt)("p",null,"The tracker should be straightforward to use if you are comfortable with iOS development; its API is modelled after Snowplow's\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Python-Tracker"},"Python Tracker"),"\xa0so any prior experience with that tracker is helpful but not necessary. If you haven't already, have a look at the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-Setup"},"iOS Tracker Setup"),"\xa0guide before continuing."),(0,r.kt)("p",null,"You can also find detailed documentation for the method calls in the tracker classes available as part of the\xa0",(0,r.kt)("a",{parentName:"p",href:"http://cocoadocs.org/docsets/SnowplowTracker/"},"CocoaPods documentation"),"."),(0,r.kt)("h3",{id:"11-demonstration-app"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#11-demonstration-app"}),"1.1 Demonstration App"),(0,r.kt)("p",null,"If you would like to see the Tracker in action you can launch the demo app like so:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Download the github repo:\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"git clone https://github.com/snowplow/snowplow-objc-tracker.git")),(0,r.kt)("li",{parentName:"ul"},"In XCode open the\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"SnowplowDemo.xcworkspace"),"\xa0file."),(0,r.kt)("li",{parentName:"ul"},"Select the device you want to launch the SnowplowDemo into!")),(0,r.kt)("p",null,"You will then need to simply enter a valid endpoint URL and hit the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Start Demo!"),"\xa0button."),(0,r.kt)("h2",{id:"2-initialization-1"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#2-initialization"}),"2","."," Initialization"),(0,r.kt)("p",null,"Assuming you have completed the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-Setup"},"iOS Tracker Setup"),"\xa0for your project, you are now ready to initialze the Snowplow Tracker."),(0,r.kt)("h2",{id:"21-importing-the-library-1"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#21-importing-the-library"}),"2.1 Importing the library"),(0,r.kt)("p",null,"Adding the library into your project is as simple as adding the headers into your class file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#import <SnowplowTracker.h>\n#import <SnowplowEmitter.h>\n")),(0,r.kt)("p",null,"If you have manually copied the library into your project, don't forget to change your import syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'#import "SnowplowTracker.h"\n#import "SnowplowEmitter.h"\n')),(0,r.kt)("p",null,"If you have statically added the library you will need to further amend your syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'#import "SnowplowTracker/SnowplowTracker.h"\n#import "SnowplowTracker/SnowplowEmitter.h"\n')),(0,r.kt)("p",null,"That's it - you are now ready to initialize a tracker instance."),(0,r.kt)("h3",{id:"22-creating-a-tracker-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#22-creating-a-tracker"}),"2.2 Creating a tracker"),(0,r.kt)("p",null,"To instantiate a tracker in your code simply instantiate the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowTracker"),"\xa0class with the constructor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (id) initWithCollector:(SnowplowEmitter *)collector_\n                   appId:(NSString *)appId_\n           base64Encoded:(Boolean)encoded\n               namespace:(NSString *)namespace_\n")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'SnowplowTracker *t1 = [[SnowplowTracker alloc] initWithCollector:collector appId:@"AF003" base64Encoded:false namespace:@"cloudfront"];\n')),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument Name")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"collector")),(0,r.kt)("td",{parentName:"tr",align:null},"The SnowplowEmitter object you create")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"namespace")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the tracker instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"appId")),(0,r.kt)("td",{parentName:"tr",align:null},"The application ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"base64Encoded")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable\xa0",(0,r.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/Base64"},"base 64 encoding"))))),(0,r.kt)("h4",{id:"221collector-1"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#221-collector"}),"2.2.1\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"collector")),(0,r.kt)("p",null,"This is a single\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0object that will be used to send all the tracking events created by the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowTracker"),"\xa0to a collector. See\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#emitters"},"Sending events"),"\xa0for more on its configuration."),(0,r.kt)("h4",{id:"222namespace-1"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#222-namespace"}),"2.2.2\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"namespace")),(0,r.kt)("p",null,"If provided, the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"namespace"),"\xa0argument will be attached to every event fired by the new tracker. This allows you to later identify which tracker fired which event if you have multiple trackers running."),(0,r.kt)("h4",{id:"223appid-1"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#223-appid"}),"2.2.3\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"appId")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"appId"),"\xa0argument lets you set the application ID to any string."),(0,r.kt)("h4",{id:"224base64encoded-1"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#224-base64encoded"}),"2.2.4\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"base64Encoded")),(0,r.kt)("p",null,"By default, unstructured events and custom contexts are encoded into Base64 to ensure that no data is lost or corrupted. You can turn encoding on or off using the Boolean\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"base64Encoded"),"\xa0argument."),(0,r.kt)("h2",{id:"3-adding-extra-data-1"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#3-adding-extra-data"}),"3","."," Adding extra data"),(0,r.kt)("p",null,"Unlike the other Trackers, the iOS tracker automatically collects your platform, screen resolution, viewport, color depth, timezone and language from the device. You can still however, set your user ID to properly track different users if you require it."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#set-user-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#sending-ifa"},"Sending IFA"))),(0,r.kt)("h3",{id:"31-set-user-id-withsetuserid-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#31-set-user-id-with-setuserid"}),"3.1 Set user ID with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setUserId")),(0,r.kt)("p",null,"You can set the user ID to any string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'s1.setUserId( "{{USER ID}}" )\n')),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[tracker setUserId:@"alexd"];\n')),(0,r.kt)("h3",{id:"32-sending-ifa-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#32-sending-ifa"}),"3.2 Sending IFA"),(0,r.kt)("p",null,"Apps that do not display advertisements are not allowed to access Apple's Identifier For Advertisers (IFA). For this reason, the Snowplow iOS Tracker will only send IFA as part of the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"mobile_context"),"\xa0which is attached to each event\xa0",(0,r.kt)("strong",{parentName:"p"},"if"),"\xa0you have the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"AdSupport.framework"),"\xa0included in your app (and are therefore intending to serve ads)."),(0,r.kt)("p",null,"For the avoidance of doubt, you can also avoid sending IFA regardless of your advertising situation, thus:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click on\xa0",(0,r.kt)("strong",{parentName:"li"},"Build Settings"),"\xa0to your app's project in Xcode"),(0,r.kt)("li",{parentName:"ul"},"Search for\xa0",(0,r.kt)("strong",{parentName:"li"},"Preprocessor Macros")),(0,r.kt)("li",{parentName:"ul"},"Add a macro defined as",(0,r.kt)("inlineCode",{parentName:"li"},"SNOWPLOW_NO_IFA = 1"))),(0,r.kt)("h2",{id:"4-tracking-specific-events-1"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#4-tracking-specific-events"}),"4","."," Tracking specific events"),(0,r.kt)("p",null,"Snowplow has been built to enable you to track a wide range of events that occur when users interact with your websites and apps. We are constantly growing the range of functions available in order to capture that data more richly."),(0,r.kt)("p",null,"Tracking methods supported by the iOS Tracker at a glance:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Function")),(0,r.kt)("th",{parentName:"tr",align:null},"*",(0,r.kt)("em",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#screen-view"},(0,r.kt)("inlineCode",{parentName:"a"},"trackScreenView:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track the user viewing a screen within the application")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#page-view"},(0,r.kt)("inlineCode",{parentName:"a"},"trackPageView:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track and record views of web pages.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#ecommerce-transaction"},(0,r.kt)("inlineCode",{parentName:"a"},"trackEcommerceTransaction:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track an ecommerce transaction and its items")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#struct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"trackStructuredEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom structured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#unstruct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"trackUnstructuredEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom unstructured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#timing"},(0,r.kt)("inlineCode",{parentName:"a"},"trackTiming:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow user timing event")))),(0,r.kt)("h3",{id:"41-common-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#41-common"}),"4.1 Common"),(0,r.kt)("p",null,"All events are tracked with specific methods on the tracker instance, of the form\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackXXX()"),", where\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"XXX"),"\xa0is the name of the event to track."),(0,r.kt)("h3",{id:"411-custom-contexts-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#411-custom-contexts"}),"4.1.1 Custom contexts"),(0,r.kt)("p",null,"In short, custom contexts let you add additional information about the circumstances surrounding an event in the form of an NSDictionary object. Each tracking method accepts an additional optional contexts parameter after all the parameters specific to that method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer;\n- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer\n               context:(NSMutableArray *)context;\n- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer\n             timestamp:(double)timestamp;\n- (void) trackPageView:(NSString *)pageUrl\n                 title:(NSString *)pageTitle\n              referrer:(NSString *)referrer\n               context:(NSMutableArray *)context\n             timestamp:(double)timestamp;\n")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"context"),"\xa0argument should consist of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSArray"),"\xa0of\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0representing an array of one or more contexts. The format of each individual context element is the same as for an\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#unstruct-event"},"unstructured event"),"."),(0,r.kt)("p",null,"If a visitor arrives on a page advertising a movie, the context dictionary might look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "schema": "iglu:com.acme_company/movie_poster/jsonschema/2.1.1",\n  "data": {\n    "movieName": "The Guns of Navarone",\n    "posterCountry": "US",\n    "posterYear": "1961"\n  }\n}\n')),(0,r.kt)("p",null,"The corresponding\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0would look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSDictionary *poster = @{\n                         @"schema":@"iglu:com.acme_company/movie_poster/jsonschema/1-0-0",\n                         @"data": @{\n                                 @"movieName": @"The Guns of Navarone",\n                                 @"posterCountry": @"US",\n                                 @"posterYear": @"1961"\n                                 }\n                         };\n')),(0,r.kt)("p",null,"Sending the movie poster context with an event looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[tracker trackStructuredEvent:@"Product"\n                       action:@"View"\n                        label:nil\n                     property:nil\n                        value:0\n                      context:[NSMutableArray arrayWithArray:@[poster]]];\n')),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note that even if there is only one custom context attached to the event, it still needs to be placed in an array.")),(0,r.kt)("h3",{id:"412-optional-timestamp--context-argument-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#412-optional-timestamp--context-argument"}),"4.1.2 Optional timestamp & context argument"),(0,r.kt)("p",null,"In all the trackers, we offer a way to set the timestamp if you want the event to show as tracked at a specific time. If you don't, we create a timestamp while the event is being tracked."),(0,r.kt)("p",null,"Here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[tracker trackPageView:@"www.page.com" title:@"Example Page" referrer:@"www.referrer.com"];\n')),(0,r.kt)("p",null,"[",'tracker trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.page.com%22"},'www.page.com"'),' title:@"Example Page" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22"},'www.referrer.com"')," context:contextArray","]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"[",'tracker trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.page.com%22"},'www.page.com"'),' title:@"Example Page" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22"},'www.referrer.com"')," timestamp:1234567890","]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"[",'tracker trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.page.com%22"},'www.page.com"'),' title:@"Example Page" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22"},'www.referrer.com"')," context:contextArray timestamp:1234567890","]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"413-tracker-method-return-values-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#413-tracker-method-return-values"}),"4.1.3 Tracker method return values"),(0,r.kt)("p",null,"To be confirmed. As of now, trackers do not return anything."),(0,r.kt)("h3",{id:"42-track-screen-views-withtrackscreenview-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#42-track-screen-views-with-trackscreenview"}),"4.2 Track screen views with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackScreenView:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackScreenView:"),"\xa0to track a user viewing a screen (or equivalent) within your app. Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"Human-readable name for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"id_")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackScreenView:@"HUD > Save Game" screen:@"screen23"];\n')),(0,r.kt)("p",null,"[",'t1 trackScreenView:@"HUD > Save Game" screen:nil timestamp:12435678',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"[",'t1 trackScreenView:@"HUD > Save Game" screen:@"screen23" timestamp:12435678',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"43-track-pageviews-withtrackpageview-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#43-track-pageviews-with-trackpageview"}),"4.3 Track pageviews with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackPageView:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackPageView:"),"\xa0to track a user viewing a page within your app."),(0,r.kt)("p",null,"Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pageUrl")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pageTitle")),(0,r.kt)("td",{parentName:"tr",align:null},"The title of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"referrer")),(0,r.kt)("td",{parentName:"tr",align:null},"The address which linked to the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackPageView:@"www.example.com" title:@"example" referrer:@"www.referrer.com" context:contextList];\n')),(0,r.kt)("p",null,"[",'t1 trackPageView:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.example.com%22"},'www.example.com"'),' title:@"example" referrer:@"',(0,r.kt)("a",{parentName:"p",href:"http://www.referrer.com%22%5C%5D"},'www.referrer.com"\\]')),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"44-track-ecommerce-transactions-withtrackecommercetransaction-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#44-track-ecommerce-transactions-with-trackecommercetransaction"}),"4.4 Track ecommerce transactions with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackEcommerceTransaction:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceTransaction:"),"\xa0to track an ecommerce transaction. Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"orderId")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the eCommerce transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"totalValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Total transaction value"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"affiliation")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction affiliation"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"taxValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction tax value"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"shipping")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery cost charged"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"city")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address city"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"state")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address state"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"country")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address country"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"items")),(0,r.kt)("td",{parentName:"tr",align:null},"Items in the transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tstamp")),(0,r.kt)("td",{parentName:"tr",align:null},"When the transaction event occurred"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceTransaction:"),'\xa0fires multiple events: one "transaction" event for the transaction as a whole, and one "transaction item" event for each element of the\xa0',(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0array. Each transaction item event will have the same timestamp, orderId, and currency as the main transaction event."),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0argument is an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSMutableArray"),"\xa0containing an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0for each item in the transaction. There is a convenience constructor for each item called\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceTransactionItem:"),". Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Field")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sku")),(0,r.kt)("td",{parentName:"tr",align:null},"Item SKU"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"price")),(0,r.kt)("td",{parentName:"tr",align:null},"Item price"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"quantity")),(0,r.kt)("td",{parentName:"tr",align:null},"Item quantity"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"float")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"Item name"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"Item category"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tstamp")),(0,r.kt)("td",{parentName:"tr",align:null},"When the transaction event occurred"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example of tracking a transaction containing one item:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSString *transactionID = @"6a8078be";\nNSMutableArray *itemArray = [NSMutableArray array];\n\n[itemArray addObject:[t trackEcommerceTransactionItem:transactionID\n                                                  sku:@"pbz0026"\n                                                 name:@"Hot Chocolate"\n                                             category:@"Drink"\n                                                price:0.75F\n                                             quantity:1\n                                             currency:@"USD"]];\n')),(0,r.kt)("p",null,"[",'t trackEcommerceTransaction:transactionID totalValue:350 affiliation:@"no',"_",'affiliate" taxValue:10 shipping:15 city:@"Boston" state:@"Massachusetts" country:@"USA" currency:@"USD" items:itemArray',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"45-track-structured-events-withtrackstructuredevent-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#45-track-structured-events-with-trackstructuredevent"}),"4.5 Track structured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackStructuredEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackStructuredEvent:"),"\xa0to track a custom event happening in your app which fits the Google Analytics-style structure of having up to five fields (with only the first two required):"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"The grouping of structured events which this\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"action"),"\xa0belongs to"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"action")),(0,r.kt)("td",{parentName:"tr",align:null},"Defines the type of user interaction which this event involves"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"A string to provide additional dimensions to the event data"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"property")),(0,r.kt)("td",{parentName:"tr",align:null},"A string describing the object or the action performed on it"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:null},"A value to provide numerical data about the event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"int")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackStructuredEvent:@"shop" action:@"add-to-basket" label:@"Add To Basket" property:@"pcs" value:27];\n')),(0,r.kt)("p",null,"[",'t1 trackStructuredEvent:@"shop" action:@"add-to-basket" label:@"Add To Basket" property:@"pcs" value:27 timestamp:1234569',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h3",{id:"46-track-unstructured-events-withtrackunstructuredevent-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#46-track-unstructured-events-with-trackunstructuredevent"}),"4.6 Track unstructured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackUnstructuredEvent:")),(0,r.kt)("p",null,"Custom unstructured events are a flexible tool that enable Snowplow users to define their own event types and send them into Snowplow."),(0,r.kt)("p",null,"When a user sends in a custom unstructured event, they do so as a JSON of name-value properties, that conforms to a JSON schema defined for the event earlier."),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackUnstructuredEvent:"),"\xa0to track a custom event which consists of a name and an unstructured set of properties. This is useful when:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You want to track event types which are proprietary/specific to your business (i.e. not already part of Snowplow), or"),(0,r.kt)("li",{parentName:"ul"},"You want to track events which have unpredictable or frequently changing properties")),(0,r.kt)("p",null,"The arguments are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventJson")),(0,r.kt)("td",{parentName:"tr",align:null},"The properties of the event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSDictionary","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (void) trackUnstructuredEvent:(NSDictionary *)eventJson\n                        context:(NSMutableArray *)context\n                      timestamp:(double)timestamp;\n")),(0,r.kt)("p",null,"If you supply a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary*"),", make sure that this top-level contains your\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"schema"),"\xa0and\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"data"),"\xa0keys, and then store your\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"data"),"\xa0properties as a child\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary*"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSDictionary *event = @{\n                          @"schema":@"iglu:com.acme/save_game/jsonschema/1-0-0",\n                          @"data": @{\n                                  @"level": @23,\n                                  @"score": @56473\n                                  }\n                          };\ntracker trackUnstructuredEvent:event\n                        context:nil\n                      timestamp:12345678;\n')),(0,r.kt)("p",null,"For more on JSON schema, see the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://snowplow.io/blog/2014/05/15/introducing-self-describing-jsons/"},"blog post"),"."),(0,r.kt)("h3",{id:"47-track-user-timings-withtracktimingwithcategory-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#47-track-user-timings-with-tracktimingwithcategory"}),"4.7 Track user timings with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackTimingWithCategory:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackTiming:"),"\xa0to track a user timing in your app - for example, how long a game took to load, or how long an in-app purchase took to download. The fields are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"Categorizing timing variables into logical groups (e.g API calls, asset loading)"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"variable")),(0,r.kt)("td",{parentName:"tr",align:null},"Identify the timing being recorded"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timing")),(0,r.kt)("td",{parentName:"tr",align:null},"The number of milliseconds in elapsed time to report"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSUInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional description of this timing"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[t1 trackTimingWithCategory:@"Application"\n                   variable:@"Background"\n                     timing:324\n                      label:@"5231804123"];\n\n')),(0,r.kt)("p",null,"[",'t1 trackTimingWithCategory:@"Application" variable:@"Background" timing:324 label:@"5231804123" timestamp:1234569',"]"),(0,r.kt)("p",null,";"),(0,r.kt)("h2",{id:"5-sending-eventssnowplowemitter-1"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#5-sending-events-snowplowemitter"}),"5","."," Sending events:\xa0",(0,r.kt)("inlineCode",{parentName:"h2"},"SnowplowEmitter")),(0,r.kt)("p",null,"Events created by the Tracker are sent to a collector using a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0instance. You can create one using one of the init methods:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"- (id) initWithURLRequest:(NSURL *)url\n               httpMethod:(NSString *)method\n             bufferOption:(enum SnowplowBufferOptions)option\n          emitterCallback:(id<RequestCallback>)callback;\n\n- (id) initWithURLRequest:(NSURL *)url\n               httpMethod:(NSString *)method\n             bufferOption:(enum SnowplowBufferOptions)option;\n\n- (id) initWithURLRequest:(NSURL *)url\n               httpMethod:(NSString* )method;\n")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant];\nSnowplowEmitter emitter2 = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                            httpMethod:@"GET"];\n')),(0,r.kt)("h3",{id:"51-using-a-buffer-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#51-using-a-buffer"}),"5.1 Using a buffer"),(0,r.kt)("p",null,"A buffer is used to group events together in bulk before sending them. This is especially handy to reduce network usage. By default, the SnowplowEmitter buffers up to 10 events before sending them."),(0,r.kt)("p",null,"You can set this during the creation of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0object or using the setter\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"-(void)setBufferOption:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant];\nSnowplowEmitter emitter2 = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferDefault];\n')),(0,r.kt)("p",null,"[","emitter setBufferOption:SnowplowBufferInstant","]"),(0,r.kt)("p",null,";"),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SnowplowBufferInstant")),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent as soon as they are created")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SnowplowBufferDefault")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events in a group when 10 events are created")))),(0,r.kt)("h3",{id:"52-choosing-the-http-method-1"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#52-choosing-the-http-method"}),"5.2 Choosing the HTTP method"),(0,r.kt)("p",null,"Snowplow supports receiving events via GET requests, but will soon have POST support. In a GET request, each event is sent in individual request. With POST requests, events are bundled together in one request."),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'@"GET"')),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent individually as GET requests")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'@"POST"')),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent in a group when 10 events are received in one POST request")))),(0,r.kt)("h3",{id:"53-adding-an-emitter-callback"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#53-adding-an-emitter-callback"}),"5.3 Adding an Emitter Callback"),(0,r.kt)("p",null,"You are now also able to include an emitter callback which will return the count of successful and failed events."),(0,r.kt)("p",null,"To implement you will need to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add the\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"RequestCallback"),"\xa0protocol to your header file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// Example from the SnowplowDemo -> ViewController.h file:\n@interface ViewController : UIViewController <UITextFieldDelegate, RequestCallback>\n\n// Extra Example\n@interface MyObjcClass : NSObject <RequestCallback>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your paired\xa0",(0,r.kt)("inlineCode",{parentName:"li"},".m"),"\xa0file add the following functions:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// Define Callback Functions\n- (void) onSuccess:(NSInteger)successCount {\n    // Do something with result\n}\n\n- (void) onFailure:(NSInteger)successCount failure:(NSInteger)failureCount {\n    // Do something with results\n}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Construct the SnowplowEmitter like so:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\n\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant\n                                                      emitterCallback:self];\n')),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"self"),"\xa0will work only if you have declared the callback functions in the same class as you are creating the Emitter from."),(0,r.kt)("h3",{id:"54-sending-http-requests"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.4#54-sending-http-requests"}),"5.4 Sending HTTP requests"),(0,r.kt)("p",null,"You can set this during the creation of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\nSnowplowEmitter emitter = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"POST"\n                                                         bufferOption:SnowplowBufferInstant];\nSnowplowEmitter emitter2 = [[SnowplowEmitter alloc] initWithURLRequest:url\n                                                           httpMethod:@"GET"\n                                                         bufferOption:SnowplowBufferDefault];\n')))}d.isMDXComponent=!0}}]);