"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[24789],{3905:(t,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>k});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),s=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},d=function(t){var e=s(t.components);return a.createElement(p.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,p=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),m=s(n),k=r,c=m["".concat(p,".").concat(k)]||m[k]||u[k]||i;return n?a.createElement(c,l(l({ref:e},d),{},{components:n})):a.createElement(c,l({ref:e},d))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},35952:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const i={title:"Objective-C (iOS) (0.7.0)",date:"2020-03-02",sidebar_position:940},l=void 0,o={unversionedId:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0/index",id:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0/index",title:"Objective-C (iOS) (0.7.0)",description:"1\\. Overview",source:"@site/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0",slug:"/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0/",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0/index.md",tags:[],version:"current",lastUpdatedAt:1662725915,formattedLastUpdatedAt:"Sep 9, 2022",sidebarPosition:940,frontMatter:{title:"Objective-C (iOS) (0.7.0)",date:"2020-03-02",sidebar_position:940},sidebar:"defaultSidebar",previous:{title:"Objective-C (iOS) (0.8.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-8-0/"},next:{title:"Objective-C (iOS) (0.6.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-6-0/"}},p={},s=[{value:"1. Overview",id:"1-overview",level:2},{value:"Implementation",id:"implementation",level:2},{value:"1.1 Demonstration App",id:"11-demonstration-app",level:3},{value:"1.2 HTTPs and Certificates",id:"12-https-and-certificates",level:3},{value:"2. Initialization",id:"2-initialization",level:2},{value:"2.1 Importing the library",id:"21-importing-the-library",level:2},{value:"2.2 Creating a tracker",id:"22-creating-a-tracker",level:3},{value:"2.2.1\xa0<code>emitter</code>",id:"221emitter",level:4},{value:"2.2.2\xa0<code>namespace</code>",id:"222namespace",level:4},{value:"2.2.3\xa0<code>appId</code>",id:"223appid",level:4},{value:"2.2.4\xa0<code>base64Encoded</code>",id:"224base64encoded",level:4},{value:"2.2.5\xa0<code>client_session</code>",id:"225client_session",level:4},{value:"2.2.6\xa0<code>pauseEventTracking</code>",id:"226pauseeventtracking",level:4},{value:"2.2.7\xa0<code>resumeEventTracking</code>",id:"227resumeeventtracking",level:4},{value:"3. Adding extra data",id:"3-adding-extra-data",level:2},{value:"Standard Pairs",id:"standard-pairs",level:4},{value:"Geo-Location",id:"geo-location",level:4},{value:"3.1 Sending IFA",id:"31-sending-ifa",level:3},{value:"3.2 Set user ID with\xa0<code>setUserId</code>",id:"32-set-user-id-withsetuserid",level:3},{value:"3.3 Set Screen Resolution with\xa0<code>setResolutionWithWidth</code>",id:"33-set-screen-resolution-withsetresolutionwithwidth",level:3},{value:"3.4 Set View Port with\xa0<code>setViewPortWithWidth</code>",id:"34-set-view-port-withsetviewportwithwidth",level:3},{value:"3.5 Set Color Dpeth with\xa0<code>setColorDepth</code>",id:"35-set-color-dpeth-withsetcolordepth",level:3},{value:"3.6 Set Timezone with\xa0<code>setTimezone</code>",id:"36-set-timezone-withsettimezone",level:3},{value:"3.7 Set Language with\xa0<code>setLanguage</code>",id:"37-set-language-withsetlanguage",level:3},{value:"3.8 Set IP Address with\xa0<code>setIpAddress</code>",id:"38-set-ip-address-withsetipaddress",level:3},{value:"3.9 Set the Useragent with\xa0<code>setUseragent</code>",id:"39-set-the-useragent-withsetuseragent",level:3},{value:"3.10 Set the Network User ID with\xa0<code>setNetworkUserId</code>",id:"310-set-the-network-user-id-withsetnetworkuserid",level:3},{value:"3.11 Set the Domain User ID with\xa0<code>setDomainUserId</code>",id:"311-set-the-domain-user-id-withsetdomainuserid",level:3},{value:"3.12 Set Geo-Location variables",id:"312-set-geo-location-variables",level:3},{value:"4. Tracking specific events",id:"4-tracking-specific-events",level:2},{value:"4.1 Common",id:"41-common",level:3},{value:"4.1.1 Custom contexts",id:"411-custom-contexts",level:3},{value:"4.1.2 Optional timestamp argument",id:"412-optional-timestamp-argument",level:3},{value:"4.1.3 Optional Event ID argument",id:"413-optional-event-id-argument",level:3},{value:"4.1.4 Tracker method return values",id:"414-tracker-method-return-values",level:3},{value:"4.2 Track screen views with\xa0<code>trackScreenViewEvent:</code>",id:"42-track-screen-views-withtrackscreenviewevent",level:3},{value:"4.3 Track pageviews with\xa0<code>trackPageViewEvent:</code>",id:"43-track-pageviews-withtrackpageviewevent",level:3},{value:"4.4 Track ecommerce transactions with\xa0<code>trackEcommerceEvent:</code>",id:"44-track-ecommerce-transactions-withtrackecommerceevent",level:3},{value:"4.5 Track structured events with\xa0<code>trackStructuredEvent:</code>",id:"45-track-structured-events-withtrackstructuredevent",level:3},{value:"4.6 Track unstructured events with\xa0<code>trackUnstructuredEvent:</code>",id:"46-track-unstructured-events-withtrackunstructuredevent",level:3},{value:"4.7 Track user timings with\xa0<code>trackTimingEvent:</code>",id:"47-track-user-timings-withtracktimingevent",level:3},{value:"5. Sending events:\xa0<code>SPEmitter</code>",id:"5-sending-eventsspemitter",level:2},{value:"5.1 Using a protocol",id:"51-using-a-protocol",level:3},{value:"5.2 Choosing the HTTP method",id:"52-choosing-the-http-method",level:3},{value:"5.3 Adding an Emitter Callback",id:"53-adding-an-emitter-callback",level:3},{value:"5.4 Sending HTTP requests",id:"54-sending-http-requests",level:3},{value:"6. Utility Functions",id:"6-utility-functions",level:2},{value:"6.1\xa0<code>getAppleIdfa</code>",id:"61getappleidfa",level:3},{value:"6.2\xa0<code>getAppleIdfv</code>",id:"62getappleidfv",level:3},{value:"6.3\xa0<code>getOpenIdfa</code>",id:"63getopenidfa",level:3}],d={toc:s};function u(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-overview"},"1","."," Overview"),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow-objc-tracker"},"Snowplow Objective-C Tracker"),"\xa0allows you to track Snowplow events from your iOS, OSX and tvOS apps and games. It supports iOS 7.0+, OSX 10.9+ and tvOS 9.0+."),(0,r.kt)("p",null,"The tracker should be straightforward to use if you are comfortable with iOS development; its API is modelled after Snowplow's\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Python-Tracker"},"Python Tracker"),"\xa0so any prior experience with that tracker is helpful but not necessary. If you haven't already, have a look at the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-Setup"},"iOS Tracker Setup"),"\xa0guide before continuing."),(0,r.kt)("p",null,"You can also find detailed documentation for the method calls in the tracker classes available as part of the\xa0",(0,r.kt)("a",{parentName:"p",href:"http://cocoadocs.org/docsets/SnowplowTracker/"},"CocoaPods documentation"),"."),(0,r.kt)("h2",{id:"implementation"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#implementation"}),"Implementation"),(0,r.kt)("p",null,"The Tracker is designed to be used as a Singleton object. Meaning that within your application you should only have to create one Tracker for the lifecycle of your application. Without setting this up:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Multiple Emitters could become active resulting in the same events being sent multiple times."),(0,r.kt)("li",{parentName:"ul"},"Thrashing of the database."),(0,r.kt)("li",{parentName:"ul"},"Hogging of resources for sending HTTP requests which can slow your application.")),(0,r.kt)("p",null,"For a basic example of the Singleton pattern:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// --- Header File \'SnowplowManager.h\'\n\n@class SPTracker;\n\n@interface SnowplowManager : NSObject {\n    SPTracker *tracker;\n}\n\n@property (nonatomic, retain) SPTracker *tracker;\n\n+ (id) snowplowManager;\n\n@end\n\n// --- Method File \'SnowplowManager.m\'\n\n#import "SnowplowManager.h"\n#import "SPTracker.h"\n#import "SPEmitter.h"\n\n@implementation SnowplowManager\n\n@synthesize tracker;\n\n#pragma mark Singleton Methods\n\n+ (id) snowplowManager {\n    static SnowplowManager *sharedSnowplowManager = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&onceToken, ^{\n        sharedSnowplowManager = [[self alloc] init];\n    });\n    return sharedSnowplowManager;\n}\n\n- (id) init {\n  self = [super init];\n  if (self) {\n    SPEmitter *emitter = [SPEmitter build:^(id<SPEmitterBuilder> builder) {\n        \n\\[builder setUrlEndpoint:@"com.acme"\\]\n\n; }\\]; tracker = \\[SPTracker build:^(id<SPTrackerBuilder> builder) {\n\n\\[builder setEmitter:emitter\\]\n\n; }\\]; } return self; }\n\n@end\n')),(0,r.kt)("p",null,"You can then access your Tracker via\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowManager *snowplowManager = [SnowplowManager snowplowManager]"),"."),(0,r.kt)("h3",{id:"11-demonstration-app"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#11-demonstration-app"}),"1.1 Demonstration App"),(0,r.kt)("p",null,"If you would like to see the Tracker in action you can launch the demo app like so:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Download the GitHub repo:\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"git clone https://github.com/snowplow/snowplow-objc-tracker.git")),(0,r.kt)("li",{parentName:"ul"},"In XCode open the\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"SnowplowDemo.xcworkspace"),"\xa0file."),(0,r.kt)("li",{parentName:"ul"},"Select the device you want to launch the SnowplowDemo into!")),(0,r.kt)("p",null,"You will then need to simply enter a valid endpoint URL and hit the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Start Demo!"),"\xa0button."),(0,r.kt)("h3",{id:"12-https-and-certificates"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#12-https-and-certificates"}),"1.2 HTTPs and Certificates"),(0,r.kt)("p",null,"Please note that with the release of iOS 9, tvOS 9 and OS-x 10.11 Apple's Application Transport Security now requires:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"That all network communication be done using HTTPs by default. There are\xa0",(0,r.kt)("a",{parentName:"li",href:"https://forums.developer.apple.com/thread/3544"},"ways around this"),"\xa0if need be."),(0,r.kt)("li",{parentName:"ol"},"We have noticed that for the Application Transport Security to work with your certificates you will need to supply the whole certificate chain.")),(0,r.kt)("h2",{id:"2-initialization"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#2-initialization"}),"2","."," Initialization"),(0,r.kt)("p",null,"Assuming you have completed the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-Setup"},"iOS Tracker Setup"),"\xa0for your project, you are now ready to initialze the Snowplow Tracker."),(0,r.kt)("h2",{id:"21-importing-the-library"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#21-importing-the-library"}),"2.1 Importing the library"),(0,r.kt)("p",null,"Adding the library into your project is as simple as adding the headers into your class file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#import <SPTracker.h>\n#import <SPEmitter.h>\n")),(0,r.kt)("p",null,"If you have manually copied the library into your project, don't forget to change your import syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'#import "SPTracker.h"\n#import "SPEmitter.h"\n')),(0,r.kt)("p",null,"If you have statically added the library you will need to further amend your syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'#import "SnowplowTracker/SPTracker.h"\n#import "SnowplowTracker/SPEmitter.h"\n')),(0,r.kt)("p",null,"That's it - you are now ready to initialize a tracker instance."),(0,r.kt)("h3",{id:"22-creating-a-tracker"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#22-creating-a-tracker"}),"2.2 Creating a tracker"),(0,r.kt)("p",null,"To instantiate a tracker in your code simply instantiate the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPTracker"),"\xa0class with the following builder pattern:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SPTracker *tracker = [SPTracker build:^(id<SPTrackerBuilder> builder) {\n    \n\\[builder setEmitter:emitter\\]\n\n; // Required\n\n\\[builder setSubject:subject\\]\n\n; // Optional\n\n\\[builder setAppId:\\_appId\\]\n\n; // Optional\n\n\\[builder setTrackerNamespace:\\_namespace\\]\n\n; // Optional\n\n\\[builder setBase64Encoded:YES\\]\n\n; // Optional\n\n\\[builder setSessionContext:YES\\]\n\n; // Optional\n\n\\[builder setForegroundTimeout:300\\]\n\n; // Optional\n\n\\[builder setBackgroundTimeout:150\\]\n\n; // Optional\n\n\\[builder setCheckInterval:10\\]\n\n; // Optional }\\];\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Builder Function")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEmitter")),(0,r.kt)("td",{parentName:"tr",align:null},"The SPEmitter object you create")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setSubject")),(0,r.kt)("td",{parentName:"tr",align:null},"The SPSubject object you create")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setAppId")),(0,r.kt)("td",{parentName:"tr",align:null},"The application ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTrackerNamespace")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the tracker instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setBase64Encoded")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable\xa0",(0,r.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/Base64"},"base 64 encoding"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setSessionContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable client sessions")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setForegroundTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"The session foreground timeout")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setBackgroundTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"The session background timeout")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCheckInterval")),(0,r.kt)("td",{parentName:"tr",align:null},"The session checking interval")))),(0,r.kt)("h4",{id:"221emitter"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#221-emitter"}),"2.2.1\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"emitter")),(0,r.kt)("p",null,"This is a single\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPEmitter"),"\xa0object that will be used to send all the tracking events created by the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPTracker"),"\xa0to a collector. See\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#emitters"},"Sending events"),"\xa0for more on its configuration."),(0,r.kt)("h4",{id:"222namespace"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#222-namespace"}),"2.2.2\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"namespace")),(0,r.kt)("p",null,"If provided, the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"namespace"),"\xa0argument will be attached to every event fired by the new tracker. This allows you to later identify which tracker fired which event if you have multiple trackers running."),(0,r.kt)("h4",{id:"223appid"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#223-appid"}),"2.2.3\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"appId")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"appId"),"\xa0argument lets you set the application ID to any string."),(0,r.kt)("h4",{id:"224base64encoded"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#224-base64encoded"}),"2.2.4\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"base64Encoded")),(0,r.kt)("p",null,"By default, unstructured events and custom contexts are encoded into Base64 to ensure that no data is lost or corrupted. You can turn encoding on or off using the Boolean\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"base64Encoded"),"\xa0argument."),(0,r.kt)("h4",{id:"225client_session"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#225-client_session"}),"2.2.5\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"client_session")),(0,r.kt)("p",null,"By default, no client sessionization is activated. Once enabled the Tracker will start appending a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"client_session"),"\xa0context to each event it sends and it will maintain this session information for the life of the application; i.e. as long as the application is installed on the device."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": A known\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow-objc-tracker/issues/265"},"bug existed"),"\xa0in version 0.6.0 for the default settings where the foreground and background timeouts are passed as\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"ms"),"\xa0rather than\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"s"),". To ensure a sane timeout please add the following to your Tracker creation:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SPTracker *tracker = [SPTracker build:^(id<SPTrackerBuilder> builder) {\n    ...\n\n\\[builder setForegroundTimeout:600\\]\n\n; // 10 minutes\n\n\\[builder setBackgroundTimeout:300\\]\n\n; // 5 minutes }\\];\n")),(0,r.kt)("h4",{id:"226pauseeventtracking"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#226-pauseeventtracking"}),"2.2.6\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"pauseEventTracking")),(0,r.kt)("p",null,"This function when called will pause all event tracking and sessionization actions until resume is called."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[tracker pauseEventTracking];\n")),(0,r.kt)("h4",{id:"227resumeeventtracking"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#227-resumeeventtracking"}),"2.2.7\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"resumeEventTracking")),(0,r.kt)("p",null,"This function will resume all event tracking when called (if it was paused) and will also re-enable sessionization if it was already on."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[tracker resumeEventTracking];\n")),(0,r.kt)("h2",{id:"3-adding-extra-data"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#3-adding-extra-data"}),"3","."," Adding extra data"),(0,r.kt)("p",null,"To add extra data to the Tracker you will need to append an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPSubject"),"\xa0object to the Tracker. This can be done either during Tracker creation or added later."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Be aware"),"\xa0that the use of the geo-location requires you to set all values yourself; we do not currently support automatic geo detection."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SPSubject *subject = [[SPSubject alloc] init];\n\n// OR with the optional platform/geo-location context...\n\nSPSubject *subject = [[SPSubject alloc] initWithPlatformContext:YES andGeoContext:NO];\n\n// Add it to the Tracker during construction...\nSPTracker *tracker = [SPTracker build:^(id<SPTrackerBuilder> builder) {\n    [...]\n\n\\[builder setSubject:subject\\]\n\n; // Optional }\\];\n\n// Add it later...\n\n\\[tracker setSubject:subject\\]\n\n;\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),":\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"initWithPlatformContext"),"\xa0refers to getting the context for the particular platform that the Tracker is running on. In the case of an iOS application, this will then automatically fetch the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"mobile_context"),"\xa0for all of your events."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#sending-ifa"},"Sending IFA"))),(0,r.kt)("h4",{id:"standard-pairs"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#standard-pairs"}),"Standard Pairs"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-user-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-res"},(0,r.kt)("inlineCode",{parentName:"a"},"setResolutionWithWidth"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-view-port"},(0,r.kt)("inlineCode",{parentName:"a"},"setViewPortWithWidth"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-color-depth"},(0,r.kt)("inlineCode",{parentName:"a"},"setColorDepth"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-timezone"},(0,r.kt)("inlineCode",{parentName:"a"},"setTimezone"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-language"},(0,r.kt)("inlineCode",{parentName:"a"},"setLanguage"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-ip-address"},(0,r.kt)("inlineCode",{parentName:"a"},"setIpAddress"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-useragent"},(0,r.kt)("inlineCode",{parentName:"a"},"setUseragent"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-nuid"},(0,r.kt)("inlineCode",{parentName:"a"},"setNetworkUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-duid"},(0,r.kt)("inlineCode",{parentName:"a"},"setDomainUserId")))),(0,r.kt)("h4",{id:"geo-location"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#geo-location"}),"Geo-Location"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#set-geo"},"Setting the Geo-Location"))),(0,r.kt)("h3",{id:"31-sending-ifa"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#31-sending-ifa"}),"3.1 Sending IFA"),(0,r.kt)("p",null,"Apps that do not display advertisements are not allowed to access Apple's Identifier For Advertisers (IFA). For this reason, the Snowplow Objective-C Tracker will only send IFA as part of the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"mobile_context"),"\xa0which is attached to each event\xa0",(0,r.kt)("strong",{parentName:"p"},"if"),"\xa0you have the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"AdSupport.framework"),"\xa0included in your app (and are therefore intending to serve ads)."),(0,r.kt)("p",null,"For the avoidance of doubt, you can also avoid sending IFA regardless of your advertising situation, thus:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click on\xa0",(0,r.kt)("strong",{parentName:"li"},"Build Settings"),"\xa0to your app's project in Xcode"),(0,r.kt)("li",{parentName:"ul"},"Search for\xa0",(0,r.kt)("strong",{parentName:"li"},"Preprocessor Macros")),(0,r.kt)("li",{parentName:"ul"},"Add a macro defined as",(0,r.kt)("inlineCode",{parentName:"li"},"SNOWPLOW_NO_IFA = 1"))),(0,r.kt)("h3",{id:"32-set-user-id-withsetuserid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#32-set-user-id-with-setuserid"}),"3.2 Set user ID with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setUserId")),(0,r.kt)("p",null,"You can set the user ID to any string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[subject setUserId:_userId];\n")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setUserId:@"alexd"];\n')),(0,r.kt)("h3",{id:"33-set-screen-resolution-withsetresolutionwithwidth"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#33-set-screen-resolution-with-setresolutionwithwidth"}),"3.3 Set Screen Resolution with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setResolutionWithWidth")),(0,r.kt)("p",null,"You can set the screen resolution to any width and height."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[subject setResolutionWithWidth:1920 andHeight:1080];\n")),(0,r.kt)("h3",{id:"34-set-view-port-withsetviewportwithwidth"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#34-set-view-port-with-setviewportwithwidth"}),"3.4 Set View Port with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setViewPortWithWidth")),(0,r.kt)("p",null,"You can set the viewport to any width and height."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[subject setViewPortWithWidth:1920 andHeight:1080];\n")),(0,r.kt)("h3",{id:"35-set-color-dpeth-withsetcolordepth"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#35-set-color-dpeth-with-setcolordepth"}),"3.5 Set Color Dpeth with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setColorDepth")),(0,r.kt)("p",null,"You can set the color depth to any integer."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[subject setColorDepth:20];\n")),(0,r.kt)("h3",{id:"36-set-timezone-withsettimezone"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#36-set-timezone-with-settimezone"}),"3.6 Set Timezone with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setTimezone")),(0,r.kt)("p",null,"You can set the timezone to any string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setTimezone:@"UTC"];\n')),(0,r.kt)("h3",{id:"37-set-language-withsetlanguage"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#37-set-language-with-setlanguage"}),"3.7 Set Language with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setLanguage")),(0,r.kt)("p",null,"You can set the language to any string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setLanguage:@"en"];\n')),(0,r.kt)("h3",{id:"38-set-ip-address-withsetipaddress"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#38-set-ip-address-with-setipaddress"}),"3.8 Set IP Address with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setIpAddress")),(0,r.kt)("p",null,"You can set the user IP Address to any string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setIpAddress:@"127.0.0.1"];\n')),(0,r.kt)("h3",{id:"39-set-the-useragent-withsetuseragent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#39-set-the-useragent-with-setuseragent"}),"3.9 Set the Useragent with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setUseragent")),(0,r.kt)("p",null,"You can set the Useragent to any string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setUseragent:@"aUseragent"];\n')),(0,r.kt)("h3",{id:"310-set-the-network-user-id-withsetnetworkuserid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#310-set-the-network-user-id-with-setnetworkuserid"}),"3.10 Set the Network User ID with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setNetworkUserId")),(0,r.kt)("p",null,"You can set the Network User ID to any string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setNetworkUserId:@"nuid"];\n')),(0,r.kt)("h3",{id:"311-set-the-domain-user-id-withsetdomainuserid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#311-set-the-domain-user-id-with-setdomainuserid"}),"3.11 Set the Domain User ID with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setDomainUserId")),(0,r.kt)("p",null,"You can set the Domain User ID to any string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[subject setDomainUserId:@"duid"];\n')),(0,r.kt)("h3",{id:"312-set-geo-location-variables"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#312-set-geo-location-variables"}),"3.12 Set Geo-Location variables"),(0,r.kt)("p",null,"Due to difficulty in getting these variables automatically, we are depending on the developer to pass in these values for us if they wish to populate the geo-location. This will hopefully change in the future."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),":\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"latitude"),"\xa0and\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"longitude"),"\xa0are required fields and must be present if you decide to include the geo-location context with your events."),(0,r.kt)("p",null,"These are the available functions for geo-location which are all called directly on a subject object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[subject setGeoXXX:];\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoLatitude"),"\xa0: Sets the latitude value"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoLongitude"),"\xa0: Sets the longitude value"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoLatitudeLongitudeAccuracy"),"\xa0: Sets the lat-long accuracy"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoAltitude"),"\xa0: Sets the altitude"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoAltitudeAccuracy"),"\xa0: Sets the altitude accuracy"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoBearing"),"\xa0: Sets the bearing"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoSpeed"),"\xa0: Sets the speed"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setGeoTimestamp"),"\xa0: Sets a timestamp (must be in ms since unix epoch)")),(0,r.kt)("p",null,"Once this is set it will be automatically attached to all events being sent."),(0,r.kt)("h2",{id:"4-tracking-specific-events"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#4-tracking-specific-events"}),"4","."," Tracking specific events"),(0,r.kt)("p",null,"Snowplow has been built to enable you to track a wide range of events that occur when users interact with your websites and apps. We are constantly growing the range of functions available in order to capture that data more richly."),(0,r.kt)("p",null,"Tracking methods supported by the Objective-C Tracker at a glance:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Function")),(0,r.kt)("th",{parentName:"tr",align:null},"*",(0,r.kt)("em",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#screen-view"},(0,r.kt)("inlineCode",{parentName:"a"},"trackScreenViewEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track the user viewing a screen within the application")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#page-view"},(0,r.kt)("inlineCode",{parentName:"a"},"trackPageViewEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track and record views of web pages.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#ecommerce-transaction"},(0,r.kt)("inlineCode",{parentName:"a"},"trackEcommerceEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track an ecommerce transaction and its items")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#struct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"trackStructuredEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom structured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#unstruct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"trackUnstructuredEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom unstructured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#timing"},(0,r.kt)("inlineCode",{parentName:"a"},"trackTimingEvent:"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow user timing event")))),(0,r.kt)("h3",{id:"41-common"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#41-common"}),"4.1 Common"),(0,r.kt)("p",null,"All events are tracked with specific methods on the tracker instance, of the form\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackXXX()"),", where\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"XXX"),"\xa0is the name of the event to track."),(0,r.kt)("h3",{id:"411-custom-contexts"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#411-custom-contexts"}),"4.1.1 Custom contexts"),(0,r.kt)("p",null,"In short, custom contexts let you add additional information about the circumstances surrounding an event in the form of an NSDictionary object. Each tracking method accepts an additional optional contexts builder method."),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"context"),"\xa0argument should consist of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSMutableArray"),"\xa0of\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0representing an array of one or more contexts. The format of each individual context element is the same as for an\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#unstruct-event"},"unstructured event"),"."),(0,r.kt)("p",null,"If a visitor arrives on a page advertising a movie, the context dictionary might look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "schema": "iglu:com.acme_company/movie_poster/jsonschema/2-1-1",\n  "data": {\n    "movieName": "The Guns of Navarone",\n    "posterCountry": "US",\n    "posterYear": "1961"\n  }\n}\n')),(0,r.kt)("p",null,"The corresponding\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\xa0would look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSDictionary *poster = @{\n                         @"schema":@"iglu:com.acme_company/movie_poster/jsonschema/1-0-0",\n                         @"data": @{\n                                 @"movieName": @"The Guns of Navarone",\n                                 @"posterCountry": @"US",\n                                 @"posterYear": @"1961"\n                                 }\n                         };\n')),(0,r.kt)("p",null,"Sending the movie poster context with an event looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'event = [SPStructured build:^(id<SPStructuredBuilder> builder) {\n\n\\[builder setCategory:@"DemoCategory"\\]\n\n;\n\n\\[builder setAction:@"DemoAction"\\]\n\n;\n\n\\[builder setContexts:\\[NSMutableArray arrayWithArray:@\\[poster\\]\n\n\\]\\]; }\\];\n\n\\[tracker trackStructuredEvent:event\\]\n\n;\n')),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note that even if there is only one custom context attached to the event, it still needs to be placed in an array.")),(0,r.kt)("h3",{id:"412-optional-timestamp-argument"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#412-optional-timestamp-argument"}),"4.1.2 Optional timestamp argument"),(0,r.kt)("p",null,"In all the trackers, we offer a way to set the timestamp if you want the event to show as tracked at a specific time. If you don't, we create a timestamp while the event is being tracked."),(0,r.kt)("p",null,"Please note this argument must always be in milliseconds since the unix epoch like so\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"1446542245000"),"."),(0,r.kt)("p",null,"Here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'event = [SPStructured build:^(id<SPStructuredBuilder> builder) {\n\n\\[builder setCategory:@"DemoCategory"\\]\n\n;\n\n\\[builder setAction:@"DemoAction"\\]\n\n;\n\n\\[builder setTimestamp:1446542245000\\]\n\n; }\\];\n\n\\[tracker trackStructuredEvent:event\\]\n\n;\n')),(0,r.kt)("h3",{id:"413-optional-event-id-argument"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#413-optional-event-id-argument"}),"4.1.3 Optional Event ID argument"),(0,r.kt)("p",null,"This Tracker also offers a way to set a custom Event ID with each event you send to snowplow. If you do not populate this field we will do it automatically."),(0,r.kt)("p",null,"Please note that to be valid the event id must be a UUID."),(0,r.kt)("p",null,"Here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'event = [SPStructured build:^(id<SPStructuredBuilder> builder) {\n\n\\[builder setCategory:@"DemoCategory"\\]\n\n;\n\n\\[builder setAction:@"DemoAction"\\]\n\n;\n\n\\[builder setEventId:"your-custom-uuid-string"\\]\n\n; }\\];\n\n\\[tracker trackStructuredEvent:event\\]\n\n;\n')),(0,r.kt)("h3",{id:"414-tracker-method-return-values"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#414-tracker-method-return-values"}),"4.1.4 Tracker method return values"),(0,r.kt)("p",null,"To be confirmed. As of now, trackers do not return anything."),(0,r.kt)("h3",{id:"42-track-screen-views-withtrackscreenviewevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#42-track-screen-views-with-trackscreenviewevent"}),"4.2 Track screen views with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackScreenViewEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackScreenViewEvent:"),"\xa0to track a user viewing a screen (or equivalent) within your app. Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setName")),(0,r.kt)("td",{parentName:"tr",align:null},"Human-readable name for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setId")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'SPScreenView *event = [SPScreenView build:^(id<SPScreenViewBuilder> builder) {\n\n\\[builder setName:@"HUD > Save Game"\\]\n\n;\n\n\\[builder setId:@"screen23"\\]\n\n; }\\];\n\n\\[tracker\\_ trackScreenViewEvent:event\\]\n\n;\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": You must populate at least one of name or id for the event to build."),(0,r.kt)("h3",{id:"43-track-pageviews-withtrackpageviewevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#43-track-pageviews-with-trackpageviewevent"}),"4.3 Track pageviews with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackPageViewEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackPageViewEvent:"),"\xa0to track a user viewing a page within your app."),(0,r.kt)("p",null,"Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setPageUrl")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setPageTitle")),(0,r.kt)("td",{parentName:"tr",align:null},"The title of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setReferrer")),(0,r.kt)("td",{parentName:"tr",align:null},"The address which linked to the page"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'SPPageView *event = [SPPageView build:^(id<SPPageViewBuilder> builder) {\n\n\\[builder setPageUrl:@"DemoPageUrl"\\]\n\n;\n\n\\[builder setPageTitle:@"DemoPageTitle"\\]\n\n;\n\n\\[builder setReferrer:@"DemoPageReferrer"\\]\n\n; }\\];\n\n\\[tracker trackPageViewEvent:event\\]\n\n;\n')),(0,r.kt)("h3",{id:"44-track-ecommerce-transactions-withtrackecommerceevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#44-track-ecommerce-transactions-with-trackecommerceevent"}),"4.4 Track ecommerce transactions with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackEcommerceEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceEvent:"),"\xa0to track an ecommerce transaction. Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setOrderId")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the eCommerce transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTotalValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Total transaction value"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"double")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setAffiliation")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction affiliation"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTaxValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction tax value"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setShipping")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery cost charged"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"double")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCity")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address city"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setState")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address state"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCountry")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address country"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCurrency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setItems")),(0,r.kt)("td",{parentName:"tr",align:null},"Items in the transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"trackEcommerceEvent:"),'\xa0fires multiple events: one "transaction" event for the transaction as a whole, and one "transaction item" event for each element of the\xa0',(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0array. Each transaction item event will have the same timestamp, orderId, and currency as the main transaction event."),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0argument is an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"NSArray"),"\xa0containing an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPEcommerceItem"),"\xa0for each item in the transaction. There is a convenience object for each item called\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPEcommerceItem:"),". Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Field")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setItemId")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the eCommerce transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setSku")),(0,r.kt)("td",{parentName:"tr",align:null},"Item SKU"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setPrice")),(0,r.kt)("td",{parentName:"tr",align:null},"Item price"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"double")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setQuantity")),(0,r.kt)("td",{parentName:"tr",align:null},"Item quantity"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setName")),(0,r.kt)("td",{parentName:"tr",align:null},"Item name"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCategory")),(0,r.kt)("td",{parentName:"tr",align:null},"Item category"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCurrency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")))),(0,r.kt)("p",null,"Example of tracking a transaction containing one item:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSString *transactionID = @"6a8078be";\nNSString *currency = @"USD";\nNSMutableArray *itemArray = [NSMutableArray array];\n\n[itemArray addObject:[SPEcommerceItem build:^(id<SPEcommTransactionItemBuilder> builder) {\n\n\\[builder setItemId:transactionID\\]\n\n;\n\n\\[builder setSku:@"pbz0026"\\]\n\n;\n\n\\[builder setName:@"Hot Chocolate"\\]\n\n;\n\n\\[builder setCategory:@"Drink"\\]\n\n;\n\n\\[builder setPrice:0.75F\\]\n\n;\n\n\\[builder setQuantity:1\\]\n\n;\n\n\\[builder setCurrency:currency\\]\n\n; }\\]\\];\n\nSPEcommerce \\*event = \\[SPEcommerce build:^(id<SPEcommTransactionBuilder> builder) {\n\n\\[builder setOrderId:transactionID\\]\n\n;\n\n\\[builder setTotalValue:350\\]\n\n;\n\n\\[builder setAffiliation:@"DemoTranAffiliation"\\]\n\n;\n\n\\[builder setTaxValue:10\\]\n\n;\n\n\\[builder setShipping:15\\]\n\n;\n\n\\[builder setCity:@"Boston"\\]\n\n;\n\n\\[builder setState:@"Massachusetts"\\]\n\n;\n\n\\[builder setCountry:@"USA"\\]\n\n;\n\n\\[builder setCurrency:currency\\]\n\n;\n\n\\[builder setItems:itemArray\\]\n\n; }\\];\n\n\\[tracker trackEcommerceEvent:event\\]\n\n;\n')),(0,r.kt)("h3",{id:"45-track-structured-events-withtrackstructuredevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#45-track-structured-events-with-trackstructuredevent"}),"4.5 Track structured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackStructuredEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackStructuredEvent:"),"\xa0to track a custom event happening in your app which fits the Google Analytics-style structure of having up to five fields (with only the first two required):"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCategory")),(0,r.kt)("td",{parentName:"tr",align:null},"The grouping of structured events which this\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"action"),"\xa0belongs to"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setAction")),(0,r.kt)("td",{parentName:"tr",align:null},"Defines the type of user interaction which this event involves"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setLabel")),(0,r.kt)("td",{parentName:"tr",align:null},"A string to provide additional dimensions to the event data"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setProperty")),(0,r.kt)("td",{parentName:"tr",align:null},"A string describing the object or the action performed on it"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setValue")),(0,r.kt)("td",{parentName:"tr",align:null},"A value to provide numerical data about the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'SPStructured *event = [SPStructured build:^(id<SPStructuredBuilder> builder) {\n\n\\[builder setCategory:@"shop"\\]\n\n;\n\n\\[builder setAction:@"add-to-basket"\\]\n\n;\n\n\\[builder setLabel:@"Add To Basket"\\]\n\n;\n\n\\[builder setProperty:@"pcs"\\]\n\n;\n\n\\[builder setValue:27\\]\n\n; }\\];\n\n\\[tracker trackStructuredEvent:event\\]\n\n;\n')),(0,r.kt)("h3",{id:"46-track-unstructured-events-withtrackunstructuredevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#46-track-unstructured-events-with-trackunstructuredevent"}),"4.6 Track unstructured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackUnstructuredEvent:")),(0,r.kt)("p",null,"Custom unstructured events are a flexible tool that enables Snowplow users to define their own event types and send them into Snowplow."),(0,r.kt)("p",null,"When a user sends in a custom unstructured event, they do so as a JSON of name-value properties, that conforms to a JSON schema defined for the event earlier."),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackUnstructuredEvent:"),"\xa0to track a custom event which consists of a name and an unstructured set of properties. This is useful when:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You want to track event types which are proprietary/specific to your business (i.e. not already part of Snowplow), or"),(0,r.kt)("li",{parentName:"ul"},"You want to track events which have unpredictable or frequently changing properties")),(0,r.kt)("p",null,"The arguments are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventData")),(0,r.kt)("td",{parentName:"tr",align:null},"The properties of the event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"SPSelfDescribingJson","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSDictionary * data = @{@"level": @23, @"score": @56473};\nSPSelfDescribingJson * sdj = [[SPSelfDescribingJson alloc] initWithSchema:@"iglu:com.acme/save_game/jsonschema/1-0-0"\n                                                                  andData:data];\n\nSPUnstructured *event = [SPUnstructured build:^(id<SPUnstructuredBuilder> builder) {\n\n\\[builder setEventData:sdj\\]\n\n; }\\];\n\n\\[tracker trackUnstructuredEvent:event\\]\n\n;\n')),(0,r.kt)("p",null,"For more on JSON schema, see the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://snowplow.io/blog/2014/05/15/introducing-self-describing-jsons/"},"blog post"),"."),(0,r.kt)("h3",{id:"47-track-user-timings-withtracktimingevent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#47-track-user-timings-with-tracktimingevent"}),"4.7 Track user timings with\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"trackTimingEvent:")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"trackTimingEvent:"),"\xa0to track a user timing in your app - for example, how long a game took to load, or how long an in-app purchase took to download. The fields are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Validation")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCategory")),(0,r.kt)("td",{parentName:"tr",align:null},"Categorizing timing variables into logical groups (e.g API calls, asset loading)"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setVariable")),(0,r.kt)("td",{parentName:"tr",align:null},"Identify the timing being recorded"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTiming")),(0,r.kt)("td",{parentName:"tr",align:null},"The number of milliseconds in elapsed time to report"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setLabel")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional description of this timing"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setContexts")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom context for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSMutableArray","*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSInteger")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional event id for the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"NSString","*")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'SPTiming *event = [SPTiming build:^(id<SPTimingBuilder> builder) {\n\n\\[builder setCategory:@"Application"\\]\n\n;\n\n\\[builder setVariable:@"Background"\\]\n\n;\n\n\\[builder setTiming:324\\]\n\n;\n\n\\[builder setLabel:@"5231804123"\\]\n\n; }\\];\n\n\\[tracker trackTimingEvent:event\\]\n\n;\n')),(0,r.kt)("h2",{id:"5-sending-eventsspemitter"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#5-sending-events-spemitter"}),"5","."," Sending events:\xa0",(0,r.kt)("inlineCode",{parentName:"h2"},"SPEmitter")),(0,r.kt)("p",null,"Events created by the Tracker are sent to a collector using a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SnowplowEmitter"),"\xa0instance. You can create one using the following builder example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SPEmitter *emitter = [SPEmitter build:^(id<SPEmitterBuilder> builder) {\n\n\\[builder setUrlEndpoint:\\_url\\]\n\n; // Required\n\n\\[builder setHttpMethod:\\_method\\]\n\n; // Optional\n\n\\[builder setProtocol:\\_protocol\\]\n\n; // Optional\n\n\\[builder setCallback:self\\]\n\n; // Optional\n\n\\[builder setEmitRange:200\\]\n\n; // Optional\n\n\\[builder setEmitThreadPoolSize:20\\]\n\n; // Optional\n\n\\[builder setByteLimitGet:50000\\]\n\n; // Optional\n\n\\[builder setByteLimitPost:50000\\]\n\n; // Optional }\\];\n")),(0,r.kt)("p",null,"A key change to the emitter construction is the removal of the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"setBufferOption"),"\xa0and the addition of\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"byteLimit"),". In the case of POST requests, we will now add events up until a byte limit rather than an arbitrary event count. However, there are a few more implications:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If an event, by itself, exceeds this limit it will be sent but it is then removed from the queue irrespective of the result."),(0,r.kt)("li",{parentName:"ul"},"If you set the limit higher than 52000 it is likely that none of your events will make it to the collector.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": The current safe maximum byte threshold is 52000, however, this may change in the future."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Builder Function")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setUrlEndpoint")),(0,r.kt)("td",{parentName:"tr",align:null},"The collector resource name to use for sending events")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setHttpMethod")),(0,r.kt)("td",{parentName:"tr",align:null},"The method sending; either GET or POST")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setProtocol")),(0,r.kt)("td",{parentName:"tr",align:null},"The protocol option; HTTP or HTTPS")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setCallback")),(0,r.kt)("td",{parentName:"tr",align:null},"The optional emitter callback")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEmitRange")),(0,r.kt)("td",{parentName:"tr",align:null},"The count of events that are retrieved from the database")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setEmitThreadPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"The size of the emitting Thread Pool")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setByteLimitGet")),(0,r.kt)("td",{parentName:"tr",align:null},"The max bytes in a GET request")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setByteLimitPost")),(0,r.kt)("td",{parentName:"tr",align:null},"The max bytes in a POST request")))),(0,r.kt)("h3",{id:"51-using-a-protocol"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#51-using-a-protocol"}),"5.1 Using a protocol"),(0,r.kt)("p",null,"The protocol argument determines if the event is sent over HTTP or HTTPS. In the case of iOS 9.0 all events are automatically sent with HTTPS."),(0,r.kt)("p",null,"You can set this during the creation of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPEmitter"),"\xa0object or use the setter\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"-(void)setProtocol:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SPEmitter *emitter = [SPEmitter build:^(id<SPEmitterBuilder> builder) {\n\n\\[builder setUrlEndpoint:\\_url\\]\n\n;\n\n\\[builder setProtocol:SPHttp\\]\n\n; }\\];\n\n\\[emitter setProtocol:SPHttps\\]\n\n;\n")),(0,r.kt)("p",null,"Here are all the possible options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SPHttp")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events as HTTP")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SPHttps")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events as HTTPs")))),(0,r.kt)("h3",{id:"52-choosing-the-http-method"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#52-choosing-the-http-method"}),"5.2 Choosing the HTTP method"),(0,r.kt)("p",null,"Snowplow supports receiving events via GET and POST requests. In a GET request, each event is sent in an individual request. With POST requests, events can be bundled together in one request."),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SPRequestGet")),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent individually as GET requests")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SPRequestPost")),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent in a group when 10 events are received in one POST request")))),(0,r.kt)("h3",{id:"53-adding-an-emitter-callback"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#53-adding-an-emitter-callback"}),"5.3 Adding an Emitter Callback"),(0,r.kt)("p",null,"You are now also able to include an emitter callback which will return the count of successful and failed events."),(0,r.kt)("p",null,"To implement you will need to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add the\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"RequestCallback"),"\xa0protocol to your header file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// Example from the SnowplowDemo -> ViewController.h file:\n@interface ViewController : UIViewController <UITextFieldDelegate, RequestCallback>\n\n// Extra Example\n@interface MyObjcClass : NSObject <RequestCallback>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your paired\xa0",(0,r.kt)("inlineCode",{parentName:"li"},".m"),"\xa0file add the following functions:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// Define Callback Functions\n- (void) onSuccessWithCount:(NSInteger)successCount {\n    // Do something with result\n}\n\n- (void) onFailureWithCount:(NSInteger)failureCount successCount:(NSInteger)successCount {\n    // Do something with results\n}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Construct the\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"SPEmitter"),"\xa0like so:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\n\nSPEmitter *emitter = [SPEmitter build:^(id<SPEmitterBuilder> builder) {\n\n\\[builder setUrlEndpoint:url\\]\n\n;\n\n\\[builder setCallback:self\\]\n\n; }\\];\n')),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"self"),"\xa0will work only if you have declared the callback functions in the same class as you are creating the Emitter from. Otherwise you will need to pass in the target for the class in which you have defined these functions."),(0,r.kt)("h3",{id:"54-sending-http-requests"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#54-sending-http-requests"}),"5.4 Sending HTTP requests"),(0,r.kt)("p",null,"You can set this during the creation of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPEmitter"),"\xa0object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'NSURL *url = [[NSURL alloc] initWithString:@"https://collector.acme.net"];\n\nSPEmitter *emitter = [SPEmitter build:^(id<SPEmitterBuilder> builder) {\n\n\\[builder setUrlEndpoint:url\\]\n\n;\n\n\\[builder setHttpMethod:SPRequestPost\\]\n\n;\n\n// OR\n\n\\[builder setHttpMethod:SPRequestGet\\]\n\n; }\\];\n')),(0,r.kt)("h2",{id:"6-utility-functions"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#6-utility-functions"}),"6","."," Utility Functions"),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SPUtilities"),"\xa0class contains a host of static functions which are used throughout the Tracker. To see all of the available functions please consult the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow-objc-tracker/blob/master/Snowplow/SPUtilities.h"},(0,r.kt)("inlineCode",{parentName:"a"},"SPUtilities.h")),"\xa0file."),(0,r.kt)("h3",{id:"61getappleidfa"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#61-getappleidfa"}),"6.1\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"getAppleIdfa")),(0,r.kt)("p",null,"This function will only return the IDFA under the following conditions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The device is running iOS."),(0,r.kt)("li",{parentName:"ul"},"The AdSupport library is in your project.")),(0,r.kt)("p",null,"To use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"NSString* appleIdfa = [SPUtilities getAppleIdfa];\n")),(0,r.kt)("h3",{id:"62getappleidfv"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#62-getappleidfv"}),"6.2\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"getAppleIdfv")),(0,r.kt)("p",null,"This function will only return the IDFV under the following conditions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The device is running iOS.")),(0,r.kt)("p",null,"To use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"NSString* appleIdfv = [SPUtilities getAppleIdfv];\n")),(0,r.kt)("h3",{id:"63getopenidfa"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/iOS-Tracker-v0.7#63-getopenidfa"}),"6.3\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"getOpenIdfa")),(0,r.kt)("p",null,"This function will only return the OpenIDFA under the following conditions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The device is running iOS."),(0,r.kt)("li",{parentName:"ul"},"The iOS version is less than 9.0.")),(0,r.kt)("p",null,"To use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"NSString* openIdfa = [SPUtilities getOpenIdfa];\n")))}u.isMDXComponent=!0}}]);