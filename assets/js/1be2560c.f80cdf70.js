"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[51086],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>d});var o=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=o.createContext({}),c=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},l=function(e){var n=c(e.components);return o.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=c(t),d=i,h=m["".concat(p,".").concat(d)]||m[d]||u[d]||r;return t?o.createElement(h,a(a({ref:n},l),{},{components:t})):o.createElement(h,a({ref:n},l))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=m;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<r;c++)a[c]=t[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},94617:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var o=t(87462),i=(t(67294),t(3905));const r={title:"enrich-pubsub (GCP) and enrich-kinesis (AWS)",date:"2020-10-22",sidebar_position:10},a=void 0,s={unversionedId:"pipeline-components-and-applications/enrichment-components/enrich/index",id:"pipeline-components-and-applications/enrichment-components/enrich/index",title:"enrich-pubsub (GCP) and enrich-kinesis (AWS)",description:"enrich-pubsub",source:"@site/docs/pipeline-components-and-applications/enrichment-components/enrich/index.md",sourceDirName:"pipeline-components-and-applications/enrichment-components/enrich",slug:"/pipeline-components-and-applications/enrichment-components/enrich/",permalink:"/docs/pipeline-components-and-applications/enrichment-components/enrich/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/pipeline-components-and-applications/enrichment-components/enrich/index.md",tags:[],version:"current",lastUpdatedAt:1662725915,formattedLastUpdatedAt:"Sep 9, 2022",sidebarPosition:10,frontMatter:{title:"enrich-pubsub (GCP) and enrich-kinesis (AWS)",date:"2020-10-22",sidebar_position:10},sidebar:"defaultSidebar",previous:{title:"Enrichment",permalink:"/docs/pipeline-components-and-applications/enrichment-components/"},next:{title:"Monitoring",permalink:"/docs/pipeline-components-and-applications/enrichment-components/enrich/monitoring/"}},p={},c=[{value:"enrich-pubsub",id:"enrich-pubsub",level:2},{value:"enrich-kinesis",id:"enrich-kinesis",level:2}],l={toc:c};function u(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,o.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"enrich-pubsub"},"enrich-pubsub"),(0,i.kt)("p",null,"enrich-pubsub is a standalone JVM application that reads from and writes to PubSub topics. It can be run from anywhere, as long as it has permissions to access the topics."),(0,i.kt)("p",null,"It is published on Docker Hub and can be run with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"docker run \\\n  -it --rm \\\n  -v $PWD:/snowplow \\\n  -e GOOGLE_APPLICATION_CREDENTIALS=/snowplow/snowplow-gcp-account-11aa55ff6b1b.json \\\n  snowplow/snowplow-enrich-pubsub:3.2.3 \\\n  --enrichments /snowplow/enrichments \\\n  --iglu-config /snowplow/resolver.json \\\n  --config /snowplow/config.hocon\n")),(0,i.kt)("p",null,"Above assumes that you have following directory structure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"GCP credentials ",(0,i.kt)("a",{parentName:"li",href:"https://cloud.google.com/docs/authentication/getting-started"},"JSON file")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"enrichments")," directory, (possibly empty) with all ",(0,i.kt)("a",{parentName:"li",href:"/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-gcp/setup-validation-and-enrich/add-additional-enrichments/"},"enrichment configuration JSONs")),(0,i.kt)("li",{parentName:"ol"},"Iglu Resolver ",(0,i.kt)("a",{parentName:"li",href:"/docs/pipeline-components-and-applications/iglu/iglu-resolver/"},"configuration JSON")),(0,i.kt)("li",{parentName:"ol"},"enrich-pubSub ",(0,i.kt)("a",{parentName:"li",href:"/docs/pipeline-components-and-applications/enrichment-components/enrich/configuration-reference/"},"configuration HOCON"))),(0,i.kt)("p",null,"Alternatively, you can download and run\xa0",(0,i.kt)("a",{parentName:"p",href:"https://github.com/snowplow/enrich/releases"},"a jar file from the github release"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"java -jar snowplow-enrich-pubsub-3.2.3.jar \\\n  --enrichments /snowplow/enrichments \\\n  --iglu-config /snowplow/resolver.json \\\n  --config /snowplow/config.hocon\n")),(0,i.kt)("h2",{id:"enrich-kinesis"},"enrich-kinesis"),(0,i.kt)("p",null,"enrich-kinesis is a standalone JVM application that reads from and writes to Kinesis streams. It can be run from anywhere, as long as it has permissions to access the streams."),(0,i.kt)("p",null,"It is published on Docker Hub and can be run with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"docker run \\\n  -it --rm \\\n  -v $PWD:/snowplow \\\n  -e AWS_ACCESS_KEY_ID=xxx \\\n  -e AWS_SECRET_ACCESS_KEY=xxx \\\n  snowplow/snowplow-enrich-kinesis:3.2.3 \\\n  --enrichments /snowplow/enrichments \\\n  --iglu-config /snowplow/resolver.json \\\n  --config /snowplow/config.hocon\n")),(0,i.kt)("p",null,"Above assumes that you have following directory structure:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"enrichments")," directory, (possibly empty) with all ",(0,i.kt)("a",{parentName:"li",href:"/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-gcp/setup-validation-and-enrich/add-additional-enrichments/"},"enrichment configuration JSONs")),(0,i.kt)("li",{parentName:"ul"},"Iglu Resolver ",(0,i.kt)("a",{parentName:"li",href:"/docs/pipeline-components-and-applications/iglu/iglu-resolver/"},"configuration JSON")),(0,i.kt)("li",{parentName:"ul"},"enrich-kinesis ",(0,i.kt)("a",{parentName:"li",href:"/docs/pipeline-components-and-applications/enrichment-components/enrich/configuration-reference/"},"configuration HOCON"))),(0,i.kt)("p",null,"Depending on where the app runs, ",(0,i.kt)("inlineCode",{parentName:"p"},"AWS_ACCESS_KEY")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"AWS_SECRET_KEY")," might not be required."),(0,i.kt)("p",null,"Alternatively, you can download and run\xa0",(0,i.kt)("a",{parentName:"p",href:"https://github.com/snowplow/enrich/releases"},"a jar file from the github release"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"java -jar snowplow-enrich-kinesis-3.2.3.jar \\\n  --enrichments /snowplow/enrichments \\\n  --iglu-config /snowplow/resolver.json \\\n  --config /snowplow/config.hocon\n")))}u.isMDXComponent=!0}}]);