"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[1845],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),g=o,m=c["".concat(l,".").concat(g)]||c[g]||u[g]||r;return n?i.createElement(m,a(a({ref:t},d),{},{components:n})):i.createElement(m,a({ref:t},d))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var p=2;p<r;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},88434:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=n(87462),o=(n(67294),n(3905));const r={title:"Braze Tag Configuration",date:"2022-01-17",sidebar_position:100},a=void 0,s={unversionedId:"forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration/index",id:"forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration/index",title:"Braze Tag Configuration",description:"Configuration options",source:"@site/docs/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration/index.md",sourceDirName:"forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration",slug:"/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration/",permalink:"/docs/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/braze-tag-configuration/index.md",tags:[],version:"current",lastUpdatedAt:1662725915,formattedLastUpdatedAt:"Sep 9, 2022",sidebarPosition:100,frontMatter:{title:"Braze Tag Configuration",date:"2022-01-17",sidebar_position:100},sidebar:"defaultSidebar",previous:{title:"Braze Tag for GTM SS",permalink:"/docs/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/braze-tag-for-gtm-ss/"},next:{title:"Iterable Tag for GTM SS",permalink:"/docs/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/iterable-tag-for-gtm-ss/"}},l={},p=[{value:"Configuration options",id:"configuration-options",level:2},{value:"Braze REST API Endpoint (required)",id:"braze-rest-api-endpoint-required",level:3},{value:"Braze API Key (required)",id:"braze-api-key-required",level:3},{value:"Braze external_id (required)",id:"braze-external_id-required",level:3},{value:"Snowplow Event Mapping Options",id:"snowplow-event-mapping-options",level:2},{value:"Include Self Describing event",id:"include-self-describing-event",level:3},{value:"Snowplow Event Context Rules",id:"snowplow-event-context-rules",level:3},{value:"Extract entity from Array if single element",id:"extract-entity-from-array-if-single-element",level:4},{value:"Include all Entities in event object",id:"include-all-entities-in-event-object",level:4},{value:"Snowplow Entity Mapping",id:"snowplow-entity-mapping",level:4},{value:"Include unmapped entities in event",id:"include-unmapped-entities-in-event",level:4},{value:"Additional Event Mapping Options",id:"additional-event-mapping-options",level:2},{value:"Event Property Rules",id:"event-property-rules",level:3},{value:"Include common event properties",id:"include-common-event-properties",level:4},{value:"Additional Event Property Mapping Rules",id:"additional-event-property-mapping-rules",level:4},{value:"Include common user properties",id:"include-common-user-properties",level:4},{value:"Additional User Property Mapping Rules",id:"additional-user-property-mapping-rules",level:4},{value:"Advanced Event Settings",id:"advanced-event-settings",level:2},{value:"Event time property",id:"event-time-property",level:3}],d={toc:p};function u(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,i.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"configuration-options"},"Configuration options"),(0,o.kt)("h3",{id:"braze-rest-api-endpoint-required"},"Braze REST API Endpoint (required)"),(0,o.kt)("p",null,"Set this to the URL of your Braze REST ",(0,o.kt)("a",{parentName:"p",href:"https://www.braze.com/docs/api/basics/#endpoints"},"endpoint"),"."),(0,o.kt)("h3",{id:"braze-api-key-required"},"Braze API Key (required)"),(0,o.kt)("p",null,"Set this to your Braze ",(0,o.kt)("a",{parentName:"p",href:"https://www.braze.com/docs/api/basics/#app-group-rest-api-keys"},"API Key")," that will be included in each request. The minimum permission that you need to assign for this API Key is to access the ",(0,o.kt)("inlineCode",{parentName:"p"},"/users/track")," endpoint."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(87482).Z,width:"778",height:"283"})),(0,o.kt)("h3",{id:"braze-external_id-required"},"Braze external","_","id (required)"),(0,o.kt)("p",null,"Set this key to the client event property (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"client_id"),") that corresponds to your users' ",(0,o.kt)("inlineCode",{parentName:"p"},"external_id")," and will be used as the ",(0,o.kt)("a",{parentName:"p",href:"https://www.braze.com/docs/api/basics/#external-user-id-explanation"},"Braze User Identifier"),"."),(0,o.kt)("h2",{id:"snowplow-event-mapping-options"},"Snowplow Event Mapping Options"),(0,o.kt)("p",null,"This section includes the mapping rules that concern a Snowplow event as claimed by the ",(0,o.kt)("a",{parentName:"p",href:"/docs/forwarding-events-to-destinations/forwarding-events/google-tag-manager-server-side/snowplow-client-for-gtm-ss/"},"Snowplow Client"),":"),(0,o.kt)("h3",{id:"include-self-describing-event"},"Include Self Describing event"),(0,o.kt)("p",null,"This option indicates if the Snowplow Self-Describing event data will be included in the event's properties object that will be sent to Braze. By default, this option is enabled."),(0,o.kt)("h3",{id:"snowplow-event-context-rules"},"Snowplow Event Context Rules"),(0,o.kt)("p",null,"This section describes how the Braze Tag will use the context Entities attached to a Snowplow Event."),(0,o.kt)("h4",{id:"extract-entity-from-array-if-single-element"},"Extract entity from Array if single element"),(0,o.kt)("p",null,"Snowplow Entities are always in Arrays, as multiple of the same entity can be attached to an event. This option will pick the single element from the array if the array only contains a single element."),(0,o.kt)("h4",{id:"include-all-entities-in-event-object"},"Include all Entities in event object"),(0,o.kt)("p",null,"Leaving this option enabled (default) ensures that all Entities on an event will be included within the Braze event's properties object."),(0,o.kt)("p",null,"Disabling this option, reveals the options so that individual entities can be selected for inclusion."),(0,o.kt)("h4",{id:"snowplow-entity-mapping"},"Snowplow Entity Mapping"),(0,o.kt)("p",null,'Using the "Snowplow Entity Mapping" table, the entities can also be remapped to have different names in the Braze and can be included in either event\'s properties or user attributes object.. The entity can be specified in two different formats:'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Major version match: ",(0,o.kt)("inlineCode",{parentName:"li"},"x-sp-contexts_com_snowplowanalytics_snowplow_web_page_1")," where ",(0,o.kt)("inlineCode",{parentName:"li"},"com_snowplowanalytics_snowplow")," is the event vendor, ",(0,o.kt)("inlineCode",{parentName:"li"},"web_page")," is the schema name and ",(0,o.kt)("inlineCode",{parentName:"li"},"1")," is the Major version number. ",(0,o.kt)("inlineCode",{parentName:"li"},"x-sp-")," can also be omitted from this if desired"),(0,o.kt)("li",{parentName:"ul"},"Full schema match: ",(0,o.kt)("inlineCode",{parentName:"li"},"iglu:com.snowplowanalytics.snowplow/webPage/jsonschema/1-0-0"))),(0,o.kt)("h4",{id:"include-unmapped-entities-in-event"},"Include unmapped entities in event"),(0,o.kt)("p",null,'When remapping or moving some entities to User Attributes with the above customization, this option enables you to ensure that all unmapped entities (i.e. any entites not found in the "Snowplow Entity Mapping" rules above) will be included in the properties object of the Braze event.'),(0,o.kt)("h2",{id:"additional-event-mapping-options"},"Additional Event Mapping Options"),(0,o.kt)("p",null,"If you wish to pick other properties from the Client event and map them onto the Braze event, these can be specified in this section."),(0,o.kt)("h3",{id:"event-property-rules"},"Event Property Rules"),(0,o.kt)("h4",{id:"include-common-event-properties"},"Include common event properties"),(0,o.kt)("p",null,"Enabled by default, this option sets whether to automatically include the event properties from the ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/tag-manager/server-side/common-event-data"},"Common Event definition")," in the properties of the Braze event."),(0,o.kt)("h4",{id:"additional-event-property-mapping-rules"},"Additional Event Property Mapping Rules"),(0,o.kt)("p",null,"Specify the Property Key from the Client Event, and then the properties' object key you could like to map it to or leave the mapped key blank to keep the same name. You can use Key Path notation here (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"x-sp-tp2.p")," for a Snowplow events platform or ",(0,o.kt)("inlineCode",{parentName:"p"},"x-sp-contexts_com_snowplowanalytics_snowplow_web_page_1.0.id")," for a Snowplow events page view id (in array index 0) or pick non-Snowplow properties if using an alternative Client. These keys will populate the Braze event's properties object."),(0,o.kt)("h4",{id:"include-common-user-properties"},"Include common user properties"),(0,o.kt)("p",null,"Enabled by default, this option sets whether to include the ",(0,o.kt)("inlineCode",{parentName:"p"},"user_data")," properties from the common event definition in the Braze User Attributes object."),(0,o.kt)("h4",{id:"additional-user-property-mapping-rules"},"Additional User Property Mapping Rules"),(0,o.kt)("p",null,"Using this table, you can additionally specify the Property Key from the Client Event, and then the User Attribute key you could like to map it to (or leave the mapped key blank to keep the same name). You can use Key Path notation here (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"x-sp-tp2.p")," for a Snowplow events platform or ",(0,o.kt)("inlineCode",{parentName:"p"},"x-sp-contexts_com_snowplowanalytics_snowplow_web_page_1.0.id")," for a Snowplow events page view id (note the array index 0) or pick non-Snowplow properties if using an alternative Client."),(0,o.kt)("h2",{id:"advanced-event-settings"},"Advanced Event Settings"),(0,o.kt)("p",null,"Finally, this section offers an additional configuration option:"),(0,o.kt)("h3",{id:"event-time-property"},"Event time property"),(0,o.kt)("p",null,"This option enables you to specify the client event property to populate the event time (in ISO-8601 format) or leave it empty to use the current time (default behaviour)."))}u.isMDXComponent=!0},87482:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/key_permission-0327a99d1c82d569bcce97d5ae5508e4.png"}}]);