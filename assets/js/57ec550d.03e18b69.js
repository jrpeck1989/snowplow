"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[9685],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,k=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(k,l(l({ref:t},p),{},{components:n})):a.createElement(k,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),r=n(86010);const i="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,l),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(87462),r=n(67294),i=n(86010),l=n(72389),o=n(67392),s=n(7094),c=n(12466);const p="tabList__CuJ",d="tabItem_LNqP";function u(e){var t,n;const{lazy:l,block:u,defaultValue:m,values:k,groupId:g,className:h}=e,b=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=k?k:b.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),v=(0,o.l)(f,((e,t)=>e.value===t.value));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const N=null===m?m:null!=(t=null!=m?m:null==(n=b.find((e=>e.props.default)))?void 0:n.props.value)?t:b[0].props.value;if(null!==N&&!f.some((e=>e.value===N)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+N+'" but none of its children has the corresponding value. Available values are: '+f.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:w,setTabGroupChoices:y}=(0,s.U)(),[T,C]=(0,r.useState)(N),_=[],{blockElementScrollPositionUntilNextRender:j}=(0,c.o5)();if(null!=g){const e=w[g];null!=e&&e!==T&&f.some((t=>t.value===e))&&C(e)}const S=e=>{const t=e.currentTarget,n=_.indexOf(t),a=f[n].value;a!==T&&(j(t),C(a),null!=g&&y(g,String(a)))},O=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var a;const t=_.indexOf(e.currentTarget)+1;n=null!=(a=_[t])?a:_[0];break}case"ArrowLeft":{var r;const t=_.indexOf(e.currentTarget)-1;n=null!=(r=_[t])?r:_[_.length-1];break}}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,i.Z)("tabs-container",p)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":u},h)},f.map((e=>{let{value:t,label:n,attributes:l}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:e=>_.push(e),onKeyDown:O,onFocus:S,onClick:S},l,{className:(0,i.Z)("tabs__item",d,null==l?void 0:l.className,{"tabs__item--active":T===t})}),null!=n?n:t)}))),l?(0,r.cloneElement)(b.filter((e=>e.props.value===T))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==T})))))}function m(e){const t=(0,l.Z)();return r.createElement(u,(0,a.Z)({key:String(t)},e))}},40103:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var a=n(87462),r=(n(67294),n(3905)),i=n(65488),l=n(85162);const o={title:"Tracking specific client-side properties",date:"2022-08-30",sidebar_position:30},s="Tracking specific client-side properties",c={unversionedId:"collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/index",id:"collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/index",title:"Tracking specific client-side properties",description:"An event describes a single, transient activity. The context in which that event occurs - the relatively persistent environment - is also incredibly valuable data.",source:"@site/docs/collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties",slug:"/collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/index.md",tags:[],version:"current",lastUpdatedAt:1662725915,formattedLastUpdatedAt:"Sep 9, 2022",sidebarPosition:30,frontMatter:{title:"Tracking specific client-side properties",date:"2022-08-30",sidebar_position:30},sidebar:"defaultSidebar",previous:{title:"Custom tracking using schemas",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/custom-tracking-using-schemas/"},next:{title:"Configuring how events are sent",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/configuring-how-events-are-sent/"}},p={},d=[{value:"Overriding autogenerated event properties",id:"overriding-autogenerated-event-properties",level:2},{value:"Set the <code>SubjectConfiguration</code>",id:"set-the-subjectconfiguration",level:2}],u={toc:d};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tracking-specific-client-side-properties"},"Tracking specific client-side properties"),(0,r.kt)("p",null,"An event describes a single, transient activity. The context in which that event occurs - the relatively persistent environment - is also incredibly valuable data. "),(0,r.kt)("p",null,"The tracker allows to add a persistent set of information through the ",(0,r.kt)("inlineCode",{parentName:"p"},"SubjectConfiguration")," which represents the basic information about the user and the app which will be attached on all the events as context entity."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"userId")," = null: The custom user identifier.\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"useragent")," = null: The custom user-agent. It overrides the user-agent used by default.\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ipAddress")," = null: The IP address (not automatically set).\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"timezone")," (set by the tracker): The current timezone label.\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"language")," (set by the tracker): The language set in the device.\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"screenResolution")," (set by the tracker): The screen resolution.\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"screenViewPort")," = null: The screen viewport.\n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"colorDepth")," = null: The color depth.")),(0,r.kt)("p",null,"The fields tracked using ",(0,r.kt)("inlineCode",{parentName:"p"},"SubjectConfiguration")," are relevant in client-side tracking. Some are set automatically in all events during enrichment, even when no ",(0,r.kt)("em",{parentName:"p"},"subject"),"  is added. These properties are marked with ",(0,r.kt)("inlineCode",{parentName:"p"},"*")," below, and discussed below. Timezone, marked with ",(0,r.kt)("inlineCode",{parentName:"p"},"**"),", is only set when a ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject")," is tracked with the event."),(0,r.kt)("p",null,"Add these fields to an event using ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject"),":"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Field in raw event"),(0,r.kt)("th",{parentName:"tr",align:null},"Column(s) in enriched event"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},"uid"),(0,r.kt)("td",{parentName:"tr",align:null},"user_id")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ipAddress*"),(0,r.kt)("td",{parentName:"tr",align:null},"ip"),(0,r.kt)("td",{parentName:"tr",align:null},"user_ipaddress")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"timezone**"),(0,r.kt)("td",{parentName:"tr",align:null},"tz"),(0,r.kt)("td",{parentName:"tr",align:null},"os_timezone")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"language"),(0,r.kt)("td",{parentName:"tr",align:null},"lang"),(0,r.kt)("td",{parentName:"tr",align:null},"br_lang")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"useragent*"),(0,r.kt)("td",{parentName:"tr",align:null},"ua"),(0,r.kt)("td",{parentName:"tr",align:null},"useragent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"viewport"),(0,r.kt)("td",{parentName:"tr",align:null},"vp"),(0,r.kt)("td",{parentName:"tr",align:null},"br_viewheight, br_viewwidth")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"screenResolution"),(0,r.kt)("td",{parentName:"tr",align:null},"res"),(0,r.kt)("td",{parentName:"tr",align:null},"dvce_screenheight, dvce_screenwidth")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"colorDepth"),(0,r.kt)("td",{parentName:"tr",align:null},"cd"),(0,r.kt)("td",{parentName:"tr",align:null},"br_colordepth")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"networkUserId*"),(0,r.kt)("td",{parentName:"tr",align:null},"tnuid"),(0,r.kt)("td",{parentName:"tr",align:null},"network_userid")))),(0,r.kt)("p",null,"As always, be aware of privacy when tracking ",(0,r.kt)("a",{parentName:"p",href:"https://snowplow.io/blog/2020/09/06/user-identification-and-privacy/"},"personal identifiable information")," such as email addresses or IP addresses.\nThe tracker provides anonymous tracking functionality to mask certain user identifiers. Refer to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/anonymous-tracking/"},"section on anonymous tracking to learn more"),"."),(0,r.kt)("h2",{id:"overriding-autogenerated-event-properties"},"Overriding autogenerated event properties"),(0,r.kt)("p",null,"All enriched Snowplow events contain values for ",(0,r.kt)("inlineCode",{parentName:"p"},"user_ipaddress"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"useragent"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"network_userid"),". "),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"user_ipaddress")," is automatically added to all enriched events (unless ",(0,r.kt)("a",{parentName:"p",href:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/anonymous-tracking/"},"anonymous tracking with server anonymisation")," is enabled). To manually override this, use a ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject")," and set an ",(0,r.kt)("inlineCode",{parentName:"p"},"ipAddress")," string; use an empty string to prevent IP address tracking. Alternatively, use the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.snowplow.io/docs/enriching-your-data/available-enrichments/ip-anonymization-enrichment/"},"IP anonymization enrichment"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"useragent")," is also automatically added but it can be overriden on configuration. Snowplow pipelines provide multiple useragent-parsing ",(0,r.kt)("a",{parentName:"p",href:"https://docs.snowplow.io/docs/enriching-your-data/available-enrichments/"},"enrichments"),". To manually override the detected useragent, use a ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject")," and set a ",(0,r.kt)("inlineCode",{parentName:"p"},"useragent")," string."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"network_userid")," is the cookie value for the event collector's third-party cookie. The cookie is named ",(0,r.kt)("inlineCode",{parentName:"p"},"sp")," (or ",(0,r.kt)("inlineCode",{parentName:"p"},"micro")," for Snowplow Micro pipelines). To override the collector cookie\u2019s value with your own generated ID, use a ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject")," object and set ",(0,r.kt)("inlineCode",{parentName:"p"},"networkUserId"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"network_userid")," is stored in the tracker and it's kept the same until the app is deleted or the collector endpoint is changed or the cookie is expired. It is not assigned to events if anonymous tracking with server anonymisation is enabled."),(0,r.kt)("p",null,"A further property, ",(0,r.kt)("inlineCode",{parentName:"p"},"timezone"),", is generated automatically during Subject initialization, based on ",(0,r.kt)("inlineCode",{parentName:"p"},"Calendar.getInstance().getTimeZone()"),". Therefore, this will be added to all events with a ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject")," attached. The default will be overriden if ",(0,r.kt)("inlineCode",{parentName:"p"},"timezone")," is provided explicitly. "),(0,r.kt)("h2",{id:"set-the-subjectconfiguration"},"Set the ",(0,r.kt)("inlineCode",{parentName:"h2"},"SubjectConfiguration")),(0,r.kt)("p",null,"A simple ",(0,r.kt)("inlineCode",{parentName:"p"},"SubjectConfiguration")," initialisation looks like this:"),(0,r.kt)(i.Z,{groupId:"platform",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"ios",label:"iOS",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'let subjectConfig = SubjectConfiguration()\n    .userId("username")\n'))),(0,r.kt)(l.Z,{value:"android",label:"Android",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'SubjectConfiguration subjectConfig = new SubjectConfiguration()\n    .userId("username");\n')))),(0,r.kt)("p",null,"See the API docs for the full ",(0,r.kt)("a",{parentName:"p",href:"https://docs.snowplow.io/snowplow-android-tracker/classcom_1_1snowplowanalytics_1_1snowplow_1_1configuration_1_1_subject_configuration.html"},"list of options"),"."),(0,r.kt)("p",null,"Subject properties can be updated or added to after initialization, using setter methods. See the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.snowplow.io/snowplow-android-tracker/classcom_1_1snowplowanalytics_1_1snowplow_1_1internal_1_1tracker_1_1_subject.html"},"API docs")," for full details."))}m.isMDXComponent=!0}}]);