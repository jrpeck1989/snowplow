<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="Snowplow Documentation" href="/opensearch.xml"><title data-rh="true">Tracking Events | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tracking Events | Snowplow Documentation"><meta data-rh="true" name="description" content="This page refers to version 2.14.0+ of the Snowplow JavaScript Tracker."><meta data-rh="true" property="og:description" content="This page refers to version 2.14.0+ of the Snowplow JavaScript Tracker."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/"><link data-rh="true" rel="alternate" href="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9HS3C2MKTH-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c14a5ea9.css">
<link rel="preload" href="/assets/js/runtime~main.a25030c0.js" as="script">
<link rel="preload" href="/assets/js/main.cac1a3dd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">ðŸ‘“ Participate in research that will shape the future of Snowplow Open Source! <a target="_blank" rel="noopener noreferrer" href="https://docs.google.com/forms/d/e/1FAIpQLSeZ1WIQO50N5bb6nIVb6CqIolkCrunimkQtMLpSU31wNKC6GQ/viewform">Apply here.</a></div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link nav-link__first customized_AOMy navbar__link--active" href="/docs/">Docs</a><a href="https://discourse.snowplow.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://try.snowplowanalytics.com/?utm_content=hero-cta&amp;utm_campaign=snowplow-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Try Snowplow</a><a href="https://go.snowplowanalytics.com/l/571483/2021-02-19/3sn5nml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Book a demo</a><div class="toggle_vylO extraSpace_k8HL"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s extraPadding_YQbj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp/">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-on-snowplow-open-source/">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow/">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start/">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline/">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design/">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/collecting-data/">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/">Trackers - collecting data from your own applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trackers - collecting data from your own applications&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracker-protocol/">Snowplow Tracker Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/tracker-maintenance-classification/">Tracker Maintenance Classification</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/">JavaScript Trackers (Web and Node.js)</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript Trackers (Web and Node.js)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/browser-tracker/">Browser Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Browser Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/">JavaScript Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/web-quick-start-guide/">Quick start guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v3/">JavaScript Tracker v3 Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript Tracker v3 Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/">JavaScript Tracker v2 Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript Tracker v2 Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracker-setup/">Tracker Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tracker Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/">Tracking Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/">Advanced Usage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Usage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/v2-to-v3-migration-guide/">Migrating from v2 to v3</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/self-hosting-the-javascript-tracker/">Self hosting the JavaScript Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Self hosting the JavaScript Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/third-party-cdn-hosting/">Third Party CDN Hosting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/cookies-local-storage/">Cookies &amp; Local Storage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cookies &amp; Local Storage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/google-tag-manager-custom-template/">Google Tag Manager Custom Template</a><button aria-label="Toggle the collapsible sidebar category &#x27;Google Tag Manager Custom Template&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/snowplow-plugin-for-analytics-npm-package/">Snowplow Plugin for getanalytics.io</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/node-js-tracker/">Node.js Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node.js Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/">Mobile Native Trackers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Native Trackers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/react-native-tracker/">React Native Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;React Native Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/flutter-tracker/">Flutter Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flutter Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/roku-tracker/">Roku Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Roku Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/google-amp-tracker/">Google AMP Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Google AMP Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/pixel-tracker/">Pixel Tracker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/golang-tracker/">Golang Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Golang Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/net-tracker/">.NET Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;.NET Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/java-tracker/">Java Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/python-tracker/">Python Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/scala-tracker/">Scala Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scala Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/ruby-tracker/">Ruby Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ruby Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/php-tracker/">PHP Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;PHP Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/c-tracker/">C++ Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;C++ Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/unity-tracker/">Unity Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracking-cli/">Tracking CLI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tracking CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/lua-tracker/">Lua Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lua Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/google-analytics-plugin/">Google Analytics Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/arduino-tracker/">Arduino Tracker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/actionscript3-tracker/">ActionScript3 Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;ActionScript3 Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-data-from-third-parties/">Webhooks - collecting data from third parties</a><button aria-label="Toggle the collapsible sidebar category &#x27;Webhooks - collecting data from third parties&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data/">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data/">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations/">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/managing-data-quality/">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console/">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pipeline-components-and-applications/">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing/">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/"><span itemprop="name">Collecting data with Trackers and Webhooks</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/"><span itemprop="name">Trackers - collecting data from your own applications</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/"><span itemprop="name">JavaScript Trackers (Web and Node.js)</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/"><span itemprop="name">JavaScript Tracker</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/"><span itemprop="name">JavaScript Tracker v2 Reference</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Tracking Events</span><meta itemprop="position" content="6"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tracking Events</h1></header><p><em>This page refers to version 2.14.0+ of the Snowplow JavaScript Tracker.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v1" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 1.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.0" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.0.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.2" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.2.2.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.3" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.3.0.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.4" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.4.3.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.5" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.5.3.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.6" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.6.2.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.7" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.7.2.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.8" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.8.2.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.9" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.9.0.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.10" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.10.0.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.11" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.11.0.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.12" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.12.0.</em></p><p><em>ClickÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker-v2.13" target="_blank" rel="noopener noreferrer">here</a>Â for the corresponding documentation for version 2.13.0.</em></p><p><a href="https://github.com/snowplow/snowplow-javascript-tracker/releases" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/github/v/release/snowplow/sp-js-assets?sort=semver&amp;style=flat" class="img_ev3q"></a></p><p>Documentation for latest release</p><p>The documentation listed here is for Version 2 of the JavaScript Tracker. Version 3 is now available and upgrading is recommended.</p><p>-<!-- --> <a href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/">Documentation for Version 3</a></p><p>-<!-- --> <a href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/v2-to-v3-migration-guide/">v2 to v3 Migration Guide</a></p><p>Snowplow has been built to enable users to track a wide range of events that occur when consumers interact with their websites and webapps.</p><p>Snowplow has a number of &quot;built-in&quot; events but offers unlimited event types through Self Describing Events. In addition to this, events can have additional data properties attached them by adding &quot;context&quot; to each event.</p><p>Typical Snowplow web tracking plans often leverage the following event types:</p><ul><li><a href="#page-views">Page Views</a></li><li><a href="#activity-tracking-page-pings">Page Pings (Activity Tracking)</a></li><li><a href="#tracking-custom-self-describing-events">Self Describing Events</a></li><li><a href="#custom-context">Event with custom context</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="page-views">Page Views<a class="hash-link" href="#page-views" title="Direct link to heading">â€‹</a></h3><p>Page views are tracked using theÂ <code>trackPageView</code>Â method. This is generally part of the first Snowplow tag to fire on a particular web page. As a result, theÂ <code>trackPageView</code>Â method is usually deployed straight after the tag that also invokes the Snowplow JavaScript (sp.js) e.g.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Snowplow starts plowing --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,&quot;script&quot;,&quot;{{URL to sp.js}}&quot;,&quot;snowplow&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;newTracker&#x27;, &#x27;sp&#x27;, &#x27;{{collector_url_here}}&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appId: &#x27;my-app-id&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contexts: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        webPage: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableActivityTracking&#x27;, 30, 10);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Snowplow stops plowing --&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackpageview"><code>trackPageView</code><a class="hash-link" href="#trackpageview" title="Direct link to heading">â€‹</a></h4><p>Track pageview is called using the simple:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This method automatically captures the URL, referrer and page title (inferred from theÂ <code>Title</code> tag.</p><p>If you wish, you can override the title with a custom value:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;, &#x27;my custom page title&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>trackPageView</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><p>Additionally, you can pass a function which returns an array of zero or more contexts to trackPageView. For the page view and for all subsequent page pings, the function will be called and the contexts it returns will be added to the event.</p><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Turn on page pings every 10 seconds</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableActivityTracking&#x27;, 10, 10);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;trackPageView&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // no custom title</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // The usual array of static contexts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.acme/static_context/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      staticValue: new Date().toString()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Function which returns an array of custom context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Gets called once per page view / page ping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  function() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schema: &#x27;iglu:com.acme/dynamic_context/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        dynamicValue: new Date().toString()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The page view and every subsequent page ping will have both a static<!-- -->_<!-- -->context and a dynamic<!-- -->_<!-- -->context attached. The static<!-- -->_<!-- -->contexts will all have the same staticValue, but the dynamic<!-- -->_<!-- -->contexts will have different dynamicValues since a new context is created for every event.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="activity-tracking-page-pings">Activity Tracking: page pings<a class="hash-link" href="#activity-tracking-page-pings" title="Direct link to heading">â€‹</a></h3><p>As well as tracking page views, we can monitor whether a user continues to engage with a page over time, and record how he / she digests content on the page over time.</p><p>That is accomplished using &#x27;page ping&#x27; events. If activity tracking is enabled, the web page is monitored to see if a user is engaging with it. (E.g. is the tab in focus, does the mouse move over the page, does the user scroll etc.) If any of these things occur in a set period of time, a page ping event fires, and records the maximum scroll left / right and up / down in the last ping period. If there is no activity in the page (e.g. because the user is on a different tab in his / her browser), no page ping fires.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enableactivitytracking"><code>enableActivityTracking</code><a class="hash-link" href="#enableactivitytracking" title="Direct link to heading">â€‹</a></h4><p>Page pings are enabled by:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableActivityTracking&#x27;, minimumVisitLength, heartbeatDelay);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>whereÂ <code>minimumVisitLength</code>Â is the time period from page load before the first page ping occurs, in seconds.Â <code>heartbeat</code>Â is the number of seconds between each page ping, once they have started. So, if you executed:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableActivityTracking&#x27;, 30, 10);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first ping would occur after 30 seconds, and subsequent pings every 10 seconds as long as the user continued to browse the page actively.</p><p>Notes:</p><ul><li>In general this is executed as part of the main Snowplow tracking tag. As a result, you can elect to enable this on specific pages.</li><li>TheÂ <code>enableActivityTracking</code>Â methodÂ <strong>must</strong>Â be calledÂ <em>before</em>Â theÂ <code>trackPageView</code>Â method.</li><li>Activity tracking will be disabled if eitherÂ <code>minimumVisitLength</code>Â orÂ <code>heartbeatDelay</code>Â is not integer. This is to prevent relentless callbacks.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enableactivitytrackingcallback"><code>enableActivityTrackingCallback</code><a class="hash-link" href="#enableactivitytrackingcallback" title="Direct link to heading">â€‹</a></h4><p>You can now perform edge analytics in the browser to reduce the number of events sent to you collector whilst still tracking user activity. The Snowplow JavaScript Tracker enabled this by allowing a callback to be specified in place of a page ping being sent. This is enabled by:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableActivityTrackingCallback&#x27;, minimumVisitLength, heartbeatDelay, callback);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>whereÂ <code>minimumVisitLength</code>Â is the time period from page load before the first page ping occurs, in seconds.Â <code>heartbeat</code>Â is the number of seconds between each page ping, once they have started. TheÂ <code>callback</code>Â should be a function which will receive an event object containing the page ping activity information, including pageivew<!-- -->_<!-- -->id, and any Page View contexts.</p><p>A full example of how this might be used to aggregate page ping information and then send an event on page unload is below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;newTracker&#x27;, &#x27;sp&#x27;, &#x27;{{collector_url_here}}&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appId: &#x27;my-app-id&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    eventMethod: &#x27;beacon&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contexts: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        webPage: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">var aggregatedEvent = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    pageViewId: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    minXOffset: 0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    maxXOffset: 0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    minYOffset: 0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    maxYOffset: 0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    numEvents: 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableActivityTrackingCallback&#x27;, 10, 10, function (event) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    aggregatedEvent = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pageViewId: event.pageViewId,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        minXOffset: aggregatedEvent.minXOffset &lt; event.minXOffset ? aggregatedEvent.minXOffset : event.minXOffset,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        maxXOffset: aggregatedEvent.maxXOffset &gt; event.maxXOffset ? aggregatedEvent.maxXOffset : event.maxXOffset,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        minYOffset: aggregatedEvent.minYOffset &lt; event.minYOffset ? aggregatedEvent.minYOffset : event.minYOffset,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        maxYOffset: aggregatedEvent.maxYOffset &gt; event.maxYOffset ? aggregatedEvent.maxYOffset : event.maxYOffset,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        numEvents: aggregatedEvent.numEvents + 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">document.addEventListener(&#x27;visibilitychange&#x27;, function() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (document.visibilityState == &#x27;hidden&#x27;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    window.snowplow(&#x27;trackSelfDescribingEvent&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        schema: &#x27;iglu:com.acme_company/page_unload/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            minXOffset: Math.max(0, Math.round(aggregatedEvent.minXOffset)),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            maxXOffset: Math.max(0, Math.round(aggregatedEvent.maxXOffset)),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            minYOffset: Math.max(0, Math.round(aggregatedEvent.minYOffset)),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            maxYOffset: Math.max(0, Math.round(aggregatedEvent.maxYOffset)),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            activeSeconds: aggregatedEvent.numEvents * 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">window.snowplow(&#x27;trackPageView&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: For this technique of sending on visibility change to work reliably, we recommend initialising the Snowplow tracker withÂ <code>eventMethod: &#x27;beacon&#x27;</code>Â and/orÂ <code>stateStorageStrategy: &#x27;cookieAndLocalStorage&#x27;</code>Â (if navigating to a page that also contains the JS Tracker). Using the visibility change technique may not work as expected for Single Page Applications (SPA), you would need to send the aggregated event to the Snowplow collector on navigation within your application.</p><p>We are using <code>visibilitychange</code> events as <code>beforeunload</code> isn&#x27;t a reliable option for mobile devices when using <code>beacon</code>. You can read more about this on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon#description" target="_blank" rel="noopener noreferrer">MDN</a>. An idea on the different levels of compatibility of the different Page Visiblity API across browsers and mobile can here found <a href="https://www.igvita.com/2015/11/20/dont-lose-user-and-app-state-use-page-visibility/" target="_blank" rel="noopener noreferrer">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updatepageactivity"><code>updatePageActivity</code><a class="hash-link" href="#updatepageactivity" title="Direct link to heading">â€‹</a></h4><p>You can also trigger a page ping manually with:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;updatePageActivity&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is particularly useful when a user is passively engaging with your content, e.g. watching a video.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-custom-self-describing-events">Tracking custom self-describing events<a class="hash-link" href="#tracking-custom-self-describing-events" title="Direct link to heading">â€‹</a></h3><p>You may wish to track events on your website or application which are not directly supported by Snowplow and whichÂ structured event trackingÂ does not adequately capture. Your event may have more than the five fields offered byÂ <code>trackStructEvent</code>, or its fields may not fit into the category-action-label-property-value model. The solution is Snowplowâ€™s self-describing events. Self-describing events are a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">data structure based on JSON Schemas</a> and can have arbitrarily many fields.</p><p>To define your own custom event, you must create aÂ <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">JSON schema</a>Â for that event and upload it to anÂ <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu Schema Repository</a> using <a href="/docs/pipeline-components-and-applications/iglu/">igluctl</a> (or if a Snowplow BDP customer, you can use the <a href="/docs/understanding-tracking-design/managing-data-structures/">Snowplow BDP Console UI</a> or <a href="/docs/understanding-tracking-design/managing-data-structures-via-the-api-2/">Data Structures API</a>). Snowplow uses the schema to validate that the JSON containing the event properties is well-formed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackselfdescribingevent"><code>trackSelfDescribingEvent</code><a class="hash-link" href="#trackselfdescribingevent" title="Direct link to heading">â€‹</a></h4><p>To track a self-describing event, you make use the <code>trackSelfDescribingEvent</code>Â method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSelfDescribingEvent&#x27;, {{SELF-DESCRIBING EVENT JSON}});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSelfDescribingEvent&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.acme_company/viewed_product/jsonschema/2-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        productId: &#x27;ASO01043&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        category: &#x27;Dresses&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        brand: &#x27;ACME&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        returning: true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        price: 49.95,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sizes: [&#x27;xs&#x27;, &#x27;s&#x27;, &#x27;l&#x27;, &#x27;xl&#x27;, &#x27;xxl&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        availableSince: new Date(2013,3,7)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The second argument is aÂ <a href="http://snowplowanalytics.com/blog/2014/05/15/introducing-self-describing-jsons/" target="_blank" rel="noopener noreferrer">self-describing JSON</a>. It has two fields:</p><ul><li>AÂ <code>data</code>Â field, containing the properties of the event</li><li>AÂ <code>schema</code>Â field, containing the location of theÂ <a href="http://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON schema</a>Â against which theÂ <code>data</code>Â field should be validated.</li></ul><p>TheÂ <code>data</code>Â field should be flat, not nested.</p><p><code>trackSelfDescribingEvent</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-custom-structured-events">Tracking custom structured events<a class="hash-link" href="#tracking-custom-structured-events" title="Direct link to heading">â€‹</a></h3><p>There are likely to be a large number of events that can occur on your site, for which a specific tracking method is part of Snowplow.</p><p>Our philosophy in creating Snowplow is that users should capture important consumer interactions and design suitable data structures for this data capture. You can read more about that philosophy <a href="/docs/understanding-tracking-design/">here</a>. Using <code>trackSelfDescribingEvent</code> captures these interactions with custom schemas, as desribed above.</p><p>However, as part of a Snowplow implementation there may be interactons where custom Self Describing events are perhaps too complex or unwarranted. They are then candidates to track usingÂ <code>trackStructEvent</code>, if none of the other event-specific methods outlined above are appropriate.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackstructevent"><code>trackStructEvent</code><a class="hash-link" href="#trackstructevent" title="Direct link to heading">â€‹</a></h4><p>There are five parameters can be associated with each structured event. Of them, only the first two are required:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><code>Category</code></td><td>Yes</td><td>The name you supply for the group of objects you want to track e.g. &#x27;media&#x27;, &#x27;ecomm&#x27;</td></tr><tr><td><code>Action</code></td><td>Yes</td><td>A string which defines the type of user interaction for the web object e.g. &#x27;play-video&#x27;, &#x27;add-to-basket&#x27;</td></tr><tr><td><code>Label</code></td><td>No</td><td>An optional string which identifies the specific object being actioned e.g. ID of the video being played, or the SKU or the product added-to-basket</td></tr><tr><td><code>Property</code></td><td>No</td><td>An optional string describing the object or the action performed on it. This might be the quantity of an item added to basket</td></tr><tr><td><code>Value</code></td><td>No</td><td>An optional float to quantify or further describe the user action. This might be the price of an item added-to-basket, or the starting time of the video where play was just pressed</td></tr></tbody></table><p>The async specification for theÂ <code>trackStructEvent</code>Â method is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackStructEvent&#x27;, &#x27;category&#x27;,&#x27;action&#x27;,&#x27;label&#x27;,&#x27;property&#x27;,&#x27;value&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An example of tracking a user listening to a music mix:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackStructEvent&#x27;, &#x27;Mixes&#x27;, &#x27;Play&#x27;, &#x27;MrC/fabric-0503-mix&#x27;, &#x27;&#x27;, &#x27;0.0&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that in the above example no value is set for theÂ <code>event property</code>.</p><p><code>trackStructEvent</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-context">Custom context<a class="hash-link" href="#custom-context" title="Direct link to heading">â€‹</a></h3><p>Custom context can be used to augment any standard Snowplow event type, including self describing events, with additional data. We refer to this custom context as <a href="/docs/understanding-tracking-design/understanding-events-entities/">Event Entities</a>.</p><p>Custom context can be added as an extra argument to any of Snowplow&#x27;sÂ <code>track..()</code>Â methods and toÂ <code>addItem</code>Â andÂ <code>addTrans</code>.</p><p>Each custom context is an array of self-describing JSON following the same pattern as anÂ self describing event. As with self describing events, if you want to create your own custom context, you must create aÂ <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">JSON schema</a>Â for it and upload it to anÂ <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu repository</a> using the <a href="https://snowplowanalytics.com/snowplow-insights/" target="_blank" rel="noopener noreferrer">Snowplow BDP Console UI</a>, <a href="/docs/understanding-tracking-design/managing-data-structures/">Data Structures API</a>, <a href="/docs/pipeline-components-and-applications/iglu/">igluctl</a> or one of the other supported <a href="https://github.com/snowplow/iglu/wiki/Setting-up-an-Iglu-client" target="_blank" rel="noopener noreferrer">Iglu clients</a>. Since more than one (of either different or the same type) can be attached to an event, theÂ <code>context</code>Â argument (if it is provided at all) should be a non-empty array of self-describing JSONs.</p><p><strong>Important:</strong>Â Even if only one custom context is being attached to an event, it still needs to be wrapped in an array.</p><p>Here are two example custom context JSONs. One describes a page:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &quot;iglu:com.example_company/page/jsonschema/1-2-1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pageType: &#x27;test&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        lastUpdated: new Date(2014,1,26)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and the other describes a user on that page:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &quot;iglu:com.example_company/user/jsonschema/2-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      userType: &#x27;tester&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>How to track a page view with both these contexts attached:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;, null, [{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &quot;iglu:com.example_company/page/jsonschema/1-2-1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pageType: &#x27;test&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        lastUpdated: new Date(2014,1,26)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &quot;iglu:com.example_company/user/jsonschema/2-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      userType: &#x27;tester&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case an empty string has been provided to the optionalÂ <code>customTitle</code>Â argument in order to reach theÂ <code>context</code>Â argument.</p><p>For more information on custom context, seeÂ <a href="http://snowplowanalytics.com/blog/2014/01/27/snowplow-custom-contexts-guide/" target="_blank" rel="noopener noreferrer">this</a>Â blog post.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="link-click-tracking">Link click tracking<a class="hash-link" href="#link-click-tracking" title="Direct link to heading">â€‹</a></h3><p>Link click tracking is enabled using theÂ <code>enableLinkClickTracking</code>Â method. Use this method once and the Tracker will add click event listeners to all link elements. Link clicks are tracked as self describing events. Each link click event captures the link&#x27;s href attribute. The event also has fields for the link&#x27;s id, classes, and target (where the linked document is opened, such as a new tab or new window).</p><p><a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1" target="_blank" rel="noopener noreferrer">Here</a>Â is the JSON schema for a link click event.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enablelinkclicktracking"><code>enableLinkClickTracking</code><a class="hash-link" href="#enablelinkclicktracking" title="Direct link to heading">â€‹</a></h4><p>Turn on link click tracking like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is its signature:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">enableLinkClickTracking(filter, pseudoclicks, content, contexts);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can control which links are tracked using the second argument. There are three ways to do this: a blacklist, a whitelist, and a filter function.</p><p><strong>Blacklists</strong></p><p>This is an array of CSS classes which should be ignored by link click tracking. For example, the below code will stop link click events firing for links with the class &quot;barred&quot; or &quot;untracked&quot;, but will fire link click events for all other links:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, {&#x27;blacklist&#x27;: [&#x27;barred&#x27;, &#x27;untracked&#x27;]});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If there is only one class name you wish to blacklist, you don&#x27;t need to put it in an array:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, {&#x27;blacklist&#x27;: &#x27;barred&#x27;});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Whitelists</strong></p><p>The opposite of a blacklist. This is an array of the CSS classes of links which you do want to be tracked. Only clicks on links with a class in the list will be tracked.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, {&#x27;whitelist&#x27;: [&#x27;unbarred&#x27;, &#x27;tracked&#x27;]});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If there is only one class name you wish to whitelist, you don&#x27;t need to put it in an array:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, {&#x27;whitelist&#x27;: [&#x27;unbarred&#x27;, &#x27;tracked&#x27;]});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Filter functions</strong></p><p>You can provide a filter function which determines which links should be tracked. The function should take one argument, the link element, and return either &#x27;true&#x27; (in which case clicks on the link will be tracked) or &#x27;false&#x27; (in which case they won&#x27;t).</p><p>The following code will track clicks on those and only those links whose id contains the string &quot;interesting&quot;:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function myFilter (linkElement) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return linkElement.id.indexOf(&#x27;interesting&#x27;) &gt; -1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, {&#x27;filter&#x27;: myFilter});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The second optional parameter isÂ <code>pseudoClicks</code>. If this is not turned on, Firefox will not recognise middle clicks. If it is turned on, there is a small possibility of false positives (click events firing when they shouldn&#x27;t). Turning this feature on is recommended:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, null, true);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The third optional parameter isÂ <code>content</code>. Set it toÂ <code>true</code>Â if you want link click events to capture the innerHTML of the clicked link:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, null, null, true);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The innerHTML of a link is all the text between theÂ <code>a</code>Â tags. Note that if you use a base 64 encoded image as a link, the entire base 64 string will be included in the event.</p><p>Each link click event will include (if available) the destination URL, id, classes and target of the clicked link. (The target attribute of a link specifies a window or frame where the linked document will be loaded.)</p><p><strong>Contexts</strong></p><p><code>enableLinkClickTracking</code>Â can also be passed an array of custom context to attach to every link click event as an additional final parameter.</p><p>Link click tracking supports dynamic contexts. Callbacks passed in the contexts argument will be evaluated with the source element passed as the only argument. The self-describing JSON context object returned by the callback will be sent with the link click event.</p><p>A dynamic context could therefore look something like this for link click events:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let dynamicContext = function (element) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // perform operations here to construct the context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return context;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let contexts = [dynamicContext];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableLinkClickTracking&#x27;, null, null, contexts);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="refreshlinkclicktracking"><code>refreshLinkClickTracking</code><a class="hash-link" href="#refreshlinkclicktracking" title="Direct link to heading">â€‹</a></h4><p><code>enableLinkClickTracking</code>Â only tracks clicks on links which exist when the page has loaded. If new links can be added to the page after then which you wish to track, just useÂ <code>refreshLinkClickTracking</code>. This will add Snowplow click listeners to all links which do not already have them (and which match the blacklist, whitelist, or filter function you specified whenÂ <code>enableLinkClickTracking</code>Â was originally called). Use it like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;refreshLinkClickTracking&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tracklinkclick"><code>trackLinkClick</code><a class="hash-link" href="#tracklinkclick" title="Direct link to heading">â€‹</a></h4><p>You can manually track individual link click events with theÂ <code>trackLinkClick</code>Â method. This is its signature:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function trackLinkClick(targetUrl, elementId, elementClasses, elementTarget, elementContent);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Of these arguments, onlyÂ <code>targetUrl</code>Â is required. This is how to useÂ <code>trackLinkClick</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackLinkClick&#x27;, &#x27;http://www.example.com&#x27;, &#x27;first-link&#x27;, [&#x27;class-1&#x27;, &#x27;class-2&#x27;], &#x27;&#x27;, &#x27;this page&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>trackLinkClick</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a> for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="form-tracking">Form tracking<a class="hash-link" href="#form-tracking" title="Direct link to heading">â€‹</a></h3><p>Snowplow automatic form tracking detects two event types:</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="change_form"><a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#change_form" target="_blank" rel="noopener noreferrer"></a><code>change_form</code><a class="hash-link" href="#change_form" title="Direct link to heading">â€‹</a></h5><p>When a user changes the value of aÂ <code>textarea</code>,Â <code>input</code>, orÂ <code>select</code>Â element inside a form, aÂ <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer"><code>change_form</code></a>Â event will be fired. It will capture the name, type, and new value of the element, and the id of the parent form.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="submit_form"><a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#submit_form" target="_blank" rel="noopener noreferrer"></a><code>submit_form</code><a class="hash-link" href="#submit_form" title="Direct link to heading">â€‹</a></h5><p>When a user submits a form, aÂ <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer"><code>submit_form</code></a>Â event will be fired. It will capture the id and classes of the form and the name, type, and value of allÂ <code>textarea</code>,Â <code>input</code>, andÂ <code>select</code>Â elements inside the form.</p><p>Note that this will only work if the original form submission event is actually fired. If you prevent it from firing, for example by using a jQuery event handler which returnsÂ <code>false</code>Â to handle clicks on the form&#x27;s submission button, the SnowplowÂ <code>submit_form</code>Â event will not be fired.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="focus_form"><a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#focus_form" target="_blank" rel="noopener noreferrer"></a><code>focus_form</code><a class="hash-link" href="#focus_form" title="Direct link to heading">â€‹</a></h5><p>When a user focuses on a form element, aÂ <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer"><code>focus_form</code></a>Â event will be fired. It will capture the id and classes of the form and the name, type, and value of theÂ <code>textarea</code>,Â <code>input</code>, orÂ <code>select</code>Â element inside the form that received focus.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enableformtracking"><code>enableFormTracking</code><a class="hash-link" href="#enableformtracking" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>enableFormTracking</code>Â method to add event listeners to turn on form tracking by adding event listeners to all form elements and to all interactive elements inside forms (that is, allÂ <code>input</code>,Â <code>textarea</code>, andÂ <code>select</code>Â elements).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableFormTracking&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will only work for form elements which exist when it is called. If you are creating a form programatically, callÂ <code>enableFormTracking</code>Â again after adding it to the document to track it. (You can callÂ <code>enableFormTracking</code>Â multiple times without risk of duplicated events.)</p><p>Note that events on password fields will not be tracked.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-form-tracking">Custom form tracking<a class="hash-link" href="#custom-form-tracking" title="Direct link to heading">â€‹</a></h4><p>It may be that you do not want to track every field in a form, or every form on a page. You can customize form tracking by passing a configuration argument to theÂ <code>enableFormTracking</code>Â method. This argument should be an object with two elements named &quot;forms&quot; and &quot;fields&quot;. The &quot;forms&quot; element determines which forms will be tracked; the &quot;fields&quot; element determines which fields inside the tracked forms will be tracked. As with link click tracking, there are three ways to configure each field: a blacklist, a whitelist, or a filter function. You do not have to use the same method for both fields.</p><p><strong>Blacklists</strong></p><p>This is an array of strings used to prevent certain elements from being tracked. Any form with a CSS class in the array will be ignored. Any field whose name property is in the array will be ignored. All other elements will be tracked.</p><p><strong>Whitelists</strong></p><p>This is an array of strings used to turn on certail. Any form with a CSS class in the array will be tracked. Any field in a tracked form whose name property is in the array will be tracked. All other elements will be ignored.</p><p><strong>Filter functions</strong></p><p>This is a function used to determine which elements are tracked. The element is passed as the argument to the function and is tracked if and only if the value returned by the function is truthy.</p><p><strong>Transform functions</strong></p><p>This is a function used to transform data in each form field. The value and element (2.15.0+ only) are passed as arguments to the function and the tracked value is replaced by the value returned.</p><p><strong>Contexts</strong></p><p>Contexts can be sent with all form tracking events by supplying them in an array in theÂ <code>contexts</code>Â argument.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableFormTracking&#x27;, config, contexts);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These contexts can be dynamic, i.e. they can be traditional self-describing JSON objects, or callbacks that generate valid self-describing JSON objects.</p><p>For form change events, context generators are passedÂ <code>(elt, type, value)</code>, and form submission events are passedÂ <code>(elt, innerElements)</code>.</p><p>A dynamic context could therefore look something like this for form change events:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let dynamicContext = function (elt, type, value) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // perform operations here to construct the context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return context;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let contexts = [dynamicContext];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let config = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableFormTracking&#x27;, config, contexts);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Examples</strong></p><p>To track every form element and every field except those fields named &quot;password&quot;:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  forms: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    blacklist: []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  fields: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    blacklist: [&#x27;password&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableFormTracking&#x27;, config);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To track only the forms with CSS class &quot;tracked&quot;, and only those fields whose ID is not &quot;private&quot;:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  forms: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    whitelist: [&quot;tracked&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  fields: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    filter: function (elt) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return elt.id !== &quot;private&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableFormTracking&#x27;, config);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To transform the form fields with an MD5 hashing function:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  forms: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    whitelist: [&quot;tracked&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  fields: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    filter: function (elt) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return elt.id !== &quot;private&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    transform: function (value, elt) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // elt only passed in 2.15.0+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // can use elt to make transformation decisions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return MD5(value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableFormTracking&#x27;, config);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="global-context">Global context<a class="hash-link" href="#global-context" title="Direct link to heading">â€‹</a></h3><p><strong>Global context</strong>Â allow you to:</p><ul><li>Create your own pre-defined context that is sent with all events</li><li>Define context that is sent under certain conditions</li><li>Generate context on the fly, i.e. evaluated whenever an event is sent</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="context-generators">Context generators<a class="hash-link" href="#context-generators" title="Direct link to heading">â€‹</a></h4><p>Generating context on-the-fly is accomplished withÂ <strong>context generators</strong>. A context generator is a callback that will be evaluated with an optional argument that contains useful information. The optional input is an associative array that contains three elements:</p><ul><li><code>event</code>Â : self-describing JSON</li><li><code>eventType</code>Â : string</li><li><code>eventSchema</code>Â : string (schema URI)</li></ul><p>Keep in mind that the argumentsÂ <code>eventType</code>Â andÂ <code>eventSchema</code>Â are data found in <code>event</code>.Â <code>eventType</code> and <code>eventSchema</code> are provided for convenience, so that simple tasks don&#x27;t require users to search through the event payload.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="eventtype"><code>eventType</code><a class="hash-link" href="#eventtype" title="Direct link to heading">â€‹</a></h5><p>This argument is a string taken from the event payload field,Â <code>e</code>.</p><p><code>eventType</code>Â takes the following values:</p><table><thead><tr><th>Type</th><th><code>e</code></th></tr></thead><tbody><tr><td>Pageview tracking</td><td>pv</td></tr><tr><td>Page pings</td><td>pp</td></tr><tr><td>Link click</td><td>ue</td></tr><tr><td>Ad impression tracking</td><td>ue</td></tr><tr><td>Ecommerce transaction tracking</td><td>tr and ti</td></tr><tr><td>Custom structured event</td><td>se</td></tr><tr><td>Custom self describing event</td><td>ue</td></tr></tbody></table><p>Further information about the event payload can be found in theÂ <a href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracker-protocol/">tracker</a> <a href="https://github.com/snowplow/snowplow/wiki/snowplow-tracker-protocol#3-snowplow-events" target="_blank" rel="noopener noreferrer">protocol documentation</a>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="eventschema"><code>eventSchema</code><a class="hash-link" href="#eventschema" title="Direct link to heading">â€‹</a></h5><p>Users should be aware of the behavior of the argumentÂ <code>eventSchema</code>. Since &#x27;first-class events&#x27; (e.g. structured events, transactions, pageviews, etc.) lack a proper schema (their event type is determined by theÂ <code>e</code>Â field), callbacks will be provided the upper-level schema that defines the payload of all events:</p><p><code>iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4</code></p><p>For self describing events,Â <code>eventSchema</code>Â will be the schema that describes the self describing event, not the event payload. Again, this behavior isn&#x27;t necessarily uniform, but provides more utility to differentiate events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conditional-context-providers">Conditional context providers<a class="hash-link" href="#conditional-context-providers" title="Direct link to heading">â€‹</a></h4><p>We can augment context primitives by allowing them to be sent conditionally. While it&#x27;s possible to define this functionality within context generators (with conditional logic), conditional context providers simplify common ways of sending contexts that follow certain rules.</p><p>The general form is an array of two objects:</p><p><code>[conditional part, context primitive or [array of primitives]]</code></p><p>The conditional part is standardized into two options:</p><ul><li>a filter function</li><li>a schema ruleset</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filter-functions">Filter functions<a class="hash-link" href="#filter-functions" title="Direct link to heading">â€‹</a></h4><p>Filter functions take the standard callback arguments defined for context generators, but instead of returning a Self Describing JSON, return a boolean value. As should be expected:Â <code>true</code>Â will attach the context part,Â <code>false</code>Â will not attach the context part.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example"><a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#example" target="_blank" rel="noopener noreferrer"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// A filter that will only attach contexts to structured events</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function structuredEventFilter(args) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return args[&#x27;eventType&#x27;] === &#x27;se&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rulesets">Rulesets<a class="hash-link" href="#rulesets" title="Direct link to heading">â€‹</a></h4><p>Rulesets define when to attach context primitives based on the event schema. This follows the standard behavior for all callbacks (the schema used to evaluate is the same provided inÂ <code>eventSchema</code>, namely the payload schema for &quot;first-class events&quot; and otherwise the schema found within the self describing event).</p><p>Here&#x27;s the specific structure of a ruleset, it&#x27;s an object with certain optional rules that take the form of fields, each holding an array of strings:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    accept: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    reject: []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Some examples, take note that wild-card matching URI path components is defined with an asterisk,Â <code>*</code>, in place of the component:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Only attaches contexts to this one schema</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">var ruleSetAcceptOne = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  accept: [&#x27;iglu:com.mailchimp/cleaned_email/jsonschema/1-0-0&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Only attaches contexts to these schemas</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">var ruleSetAcceptTwo = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  accept: [&#x27;iglu:com.mailchimp/cleaned_email/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;iglu:com.mailchimp/subscribe/jsonschema/1-0-0&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Only attaches contexts to schemas with mailchimp vendor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">var ruleSetAcceptVendor = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  accept: [&#x27;iglu:com.mailchimp/*/jsonschema/*&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Only attaches contexts to schemas that aren&#x27;t mailchimp vendor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">var ruleSetRejectVendor = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  reject: [&#x27;iglu:com.mailchimp/*/jsonschema/*&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Only attach to Snowplow first class events</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">var ruleSet = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  accept: [&#x27;iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rule-requirements"><a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#rule-requirements" target="_blank" rel="noopener noreferrer"></a>Rule requirements<a class="hash-link" href="#rule-requirements" title="Direct link to heading">â€‹</a></h4><p>All rules and schemas follow a standard form:</p><p><code>protocol:vendor/event_name/format/version</code></p><p>And rules must meet some requirements to be considered valid:</p><ul><li>Two parts are invariant: protocol and format. They are alwaysÂ <code>iglu</code>Â andÂ <code>jsonschema</code>Â respectively.<ul><li>Wildcards can therefore be used only inÂ <code>vendor</code>,Â <code>event_name</code>Â andÂ <code>version</code>.</li></ul></li><li>Version matching must be specified like so:Â <code>*-*-*</code>, where any part of the versioning can be defined, e.g.Â <code>1-*-*</code>, but only sequential parts are to be wildcarded, e.g.Â <code>1-*-1</code>Â is invalid butÂ <code>1-*-*</code>Â is valid.</li><li>Vendors require the first two &quot;larger parts&quot;:<ul><li><code>com.acme.*</code></li></ul></li><li>Vendors cannot be defined with non-wildcarded parts between wildcarded parts:<ul><li><code>com.acme.*.marketing.*</code>Â is invalid</li><li><code>com.acme.*.*</code>Â is valid</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="global-contexts-methods">Global contexts methods<a class="hash-link" href="#global-contexts-methods" title="Direct link to heading">â€‹</a></h4><p>These are the standard methods to add and remove global contexts:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="addglobalcontexts"><code>addGlobalContexts</code><a class="hash-link" href="#addglobalcontexts" title="Direct link to heading">â€‹</a></h4><p>To add global contexts: <code>snowplow(&#x27;addGlobalContexts&#x27;, [array of global contexts])</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="removeglobalcontexts"><code>removeGlobalContexts</code><a class="hash-link" href="#removeglobalcontexts" title="Direct link to heading">â€‹</a></h4><p>To remove a global context: <code>snowplow(&#x27;removeGlobalContexts&#x27;, [array of global contexts])</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="clearglobalcontexts"><code>clearGlobalContexts</code><a class="hash-link" href="#clearglobalcontexts" title="Direct link to heading">â€‹</a></h4><p>To remove all global contexts: <code>snowplow(&#x27;clearGlobalContexts&#x27;)</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecommerce-tracking">Ecommerce tracking<a class="hash-link" href="#ecommerce-tracking" title="Direct link to heading">â€‹</a></h3><p>Modelled on Google Analytics ecommerce tracking capability, Snowplow uses three methods that have to be used together to track online transactions:</p><ol><li><strong>Create a transaction object</strong>. UseÂ <code>addTrans()</code>Â method to initialize a transaction object. This will be the object that is loaded with all the data relevant to the specific transaction that is being tracked including all the items in the order, the prices of the items, the price of shipping and theÂ <code>order_id</code>.</li><li><strong>Add items to the transaction.</strong>Â Use theÂ <code>addItem()</code>Â method to add data about each individual item to the transaction object.</li><li><strong>Submit the transaction to Snowplow</strong>Â using the trackTrans() method, once all the relevant data has been loaded into the object.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="addtrans"><code>addTrans</code><a class="hash-link" href="#addtrans" title="Direct link to heading">â€‹</a></h4><p>TheÂ <code>addTrans</code>Â method creates a transaction object. It takes nine possible parameters, two of which are required:</p><table><thead><tr><th><strong>Parameter</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Example value</strong></th></tr></thead><tbody><tr><td><code>orderId</code></td><td>Internal unique order id number for this transaction</td><td>Yes</td><td>&#x27;1234&#x27;</td></tr><tr><td><code>affiliation</code></td><td>Partner or store affiliation</td><td>No</td><td>&#x27;Womens Apparel&#x27;</td></tr><tr><td><code>total</code></td><td>Total amount of the transaction</td><td>Yes</td><td>&#x27;19.99&#x27;</td></tr><tr><td><code>tax</code></td><td>Tax amount of the transaction</td><td>No</td><td>&#x27;1.00&#x27;</td></tr><tr><td><code>shipping</code></td><td>Shipping charge for the transaction</td><td>No</td><td>&#x27;2.99&#x27;</td></tr><tr><td><code>city</code></td><td>City to associate with transaction</td><td>No</td><td>&#x27;San Jose&#x27;</td></tr><tr><td><code>state</code></td><td>State or province to associate with transaction</td><td>No</td><td>&#x27;California&#x27;</td></tr><tr><td><code>country</code></td><td>Country to associate with transaction</td><td>No</td><td>&#x27;USA&#x27;</td></tr><tr><td><code>currency</code></td><td>Currency to associate with this transaction</td><td>No</td><td>&#x27;USD&#x27;</td></tr></tbody></table><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addTrans&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1234&#x27;,           // order ID - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;Acme Clothing&#x27;,  // affiliation or store name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;11.99&#x27;,          // total - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1.29&#x27;,           // tax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;5&#x27;,              // shipping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;San Jose&#x27;,       // city</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;California&#x27;,     // state or province</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;USA&#x27;,            // country</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;USD&#x27;             // currency</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>addTrans</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/#custom-contexts">custom context</a>Â for more information.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="additem"><code>addItem</code><a class="hash-link" href="#additem" title="Direct link to heading">â€‹</a></h4><p>TheÂ <code>addItem</code>Â method is used to capture the details of each product item included in the transaction. It should therefore be called once for each item.</p><p>There are six potential parameters that can be passed with each call, four of which are required:</p><table><thead><tr><th><strong>Parameter</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Example value</strong></th></tr></thead><tbody><tr><td><code>orderId</code></td><td>Order ID of the transaction to associate with item</td><td>Yes</td><td>&#x27;1234&#x27;</td></tr><tr><td><code>sku</code></td><td>Item&#x27;s SKU code</td><td>Yes</td><td>&#x27;pbz0001234&#x27;</td></tr><tr><td><code>name</code></td><td>Product name</td><td>No, but advisable (to make interpreting SKU easier)</td><td>&#x27;Black Tarot&#x27;</td></tr><tr><td><code>category</code></td><td>Product category</td><td>No</td><td>&#x27;Large&#x27;</td></tr><tr><td><code>price</code></td><td>Product price</td><td>Yes</td><td>&#x27;9.99&#x27;</td></tr><tr><td><code>quantity</code></td><td>Purchase quantity</td><td>Yes</td><td>&#x27;1&#x27;</td></tr><tr><td><code>currency</code></td><td>Product price currency</td><td>No</td><td>&#x27;USD&#x27;</td></tr></tbody></table><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addItem&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1234&#x27;,           // order ID - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;DD44&#x27;,           // SKU/code - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;T-Shirt&#x27;,        // product name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;Green Medium&#x27;,   // category or variation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;11.99&#x27;,          // unit price - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1&#x27;,              // quantity - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;USD&#x27;             // currency</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>addItem</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tracktrans"><code>trackTrans</code><a class="hash-link" href="#tracktrans" title="Direct link to heading">â€‹</a></h4><p>Once the transaction object has been created (usingÂ <code>addTrans</code>) and the relevant item data added to it using theÂ <code>addItem</code>Â method, we are ready to send the data to the collector. This is initiated using theÂ <code>trackTrans</code>Â method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackTrans&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="putting-the-three-methods-together-a-complete-example">Putting the three methods together: a complete example<a class="hash-link" href="#putting-the-three-methods-together-a-complete-example" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;title&gt;Receipt for your clothing purchase from Acme Clothing&lt;/title&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,&quot;script&quot;,&quot;{{URL to sp.js}}&quot;,&quot;snowplow&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;newTracker&#x27;, &#x27;sp&#x27;, &#x27;{{collector_url_here}}&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;enableActivityTracking&#x27;, 30, 10)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;trackPageView&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;enableLinkClickTracking&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;addTrans&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1234&#x27;,           // order ID - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;Acme Clothing&#x27;,  // affiliation or store name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;11.99&#x27;,          // total - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1.29&#x27;,           // tax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;5&#x27;,              // shipping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;San Jose&#x27;,       // city</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;California&#x27;,     // state or province</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;USA&#x27;             // country</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // add item might be called for every item in the shopping cart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // where your ecommerce engine loops through each item in the cart and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // prints out _addItem for each</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;addItem&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1234&#x27;,           // order ID - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;DD44&#x27;,           // SKU/code - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;T-Shirt&#x27;,        // product name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;Green Medium&#x27;,   // category or variation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;11.99&#x27;,          // unit price - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;1&#x27;               // quantity - required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // trackTrans sends the transaction to Snowplow tracking servers.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Must be called last to commit the transaction.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;trackTrans&#x27;); //submits transaction to the collector</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Thank you for your order.  You will receive an email containing all your order details.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/html&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="trackaddtocartandtrackremovefromcart"><code>trackAddToCart</code>Â andÂ <code>trackRemoveFromCart</code><a class="hash-link" href="#trackaddtocartandtrackremovefromcart" title="Direct link to heading">â€‹</a></h3><p>These methods let you track users adding and removing items from a cart on an ecommerce site. Their arguments are identical:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>sku</code></td><td>Yes</td><td>Item SKU</td><td>string</td></tr><tr><td><code>name</code></td><td>No</td><td>Item name</td><td>string</td></tr><tr><td><code>category</code></td><td>No</td><td>Item category</td><td>string</td></tr><tr><td><code>unitPrice</code></td><td>Yes</td><td>Item price</td><td>number</td></tr><tr><td><code>quantity</code></td><td>Yes</td><td>Quantity added to or removed from cart</td><td>number</td></tr><tr><td><code>currency</code></td><td>No</td><td>Item price currency</td><td>string</td></tr></tbody></table><p>An example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackAddToCart&#x27;, &#x27;000345&#x27;, &#x27;blue tie&#x27;, &#x27;clothing&#x27;, 3.49, 2, &#x27;GBP&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackRemoveFromCart&#x27;, &#x27;000345&#x27;, &#x27;blue tie&#x27;, &#x27;clothing&#x27;, 3.49, 1, &#x27;GBP&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Both methods are implemented as Snowplow self describing events. You can see schemas for theÂ <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer"><code>add_to_cart</code></a>Â andÂ <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer"><code>remove_from_cart</code></a>Â events.</p><p>Both methods can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="social-tracking">Social tracking<a class="hash-link" href="#social-tracking" title="Direct link to heading">â€‹</a></h3><p>Social tracking will be used to track the way users interact with Facebook, Twitter and Google + widgets, e.g. to capture &quot;like this&quot; or &quot;tweet this&quot; events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tracksocialinteraction"><code>trackSocialInteraction</code><a class="hash-link" href="#tracksocialinteraction" title="Direct link to heading">â€‹</a></h4><p>TheÂ <code>trackSocialInteraction</code>Â method takes three parameters:</p><table><thead><tr><th><strong>Parameter</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Example value</strong></th></tr></thead><tbody><tr><td><code>action</code></td><td>Social action performed</td><td>Yes</td><td>&#x27;like&#x27;, &#x27;retweet&#x27;</td></tr><tr><td><code>network</code></td><td>Social network</td><td>Yes</td><td>&#x27;facebook&#x27;, &#x27;twitter&#x27;</td></tr><tr><td><code>target</code></td><td>Object social action is performed on e.g. page ID, product ID</td><td>No</td><td>&#x27;19.99&#x27;</td></tr></tbody></table><p>The method is executed in as:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSocialInteraction&#x27;, action, network, target);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSocialInteraction&#x27;, &#x27;like&#x27;, &#x27;facebook&#x27;, &#x27;pbz00123&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or if the optional parameters were left off:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSocialInteraction&#x27;, &#x27;like&#x27;, &#x27;facebook&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>trackSocialInteraction</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="campaign-tracking">Campaign tracking<a class="hash-link" href="#campaign-tracking" title="Direct link to heading">â€‹</a></h3><p>Campaign tracking is used to identify the source of traffic coming to a website.</p><p>At the highest level, we can distinguishÂ <strong>paid</strong>Â traffic (that derives from ad spend) withÂ <strong>non paid</strong>Â traffic: visitors who come to the website by entering the URL directly, clicking on a link from a referrer site or clicking on an organic link returned in a search results, for example.</p><p>In order to identifyÂ <strong>paid</strong>Â traffic, Snowplow users need to set five query parameters on the links used in ads. Snowplow checks for the presence of these query parameters on the web pages that users load: if it finds them, it knows that that user came from a paid source, and stores the values of those parameters so that it is possible to identify the paid source of traffic exactly.</p><p>If the query parameters are not present, Snowplow reasons that the user is from aÂ <strong>non paid</strong>Â source of traffic. It then checks the page referrer (the url of the web page the user was on before visiting our website), and uses that to deduce the source of traffic:</p><ol><li>If the URL is identified as a search engine, the traffic medium is set to &quot;organic&quot; and Snowplow tries to derive the search engine name from the referrer URL domain and the keywords from the query string.</li><li>If the URL is a non-search 3rd party website, the medium is set to &quot;referrer&quot;. Snowplow derives the source from the referrer URL domain.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="identifying-paid-sources">Identifying paid sources<a class="hash-link" href="#identifying-paid-sources" title="Direct link to heading">â€‹</a></h4><p>Your different ad campaigns (PPC campaigns, display ads, email marketing messages, Facebook campaigns etc.) will include one or more links to your website e.g.:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;a href=&quot;http://mysite.com/myproduct.html&quot;&gt;Visit website&lt;/a&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We want to be able to identify people who&#x27;ve clicked on ads e.g. in a marketing email as having come to the site having clicked on a link in that particular marketing email. To do that, we modify the link in the marketing email with query parameters, like so:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;a href=&quot;http://mysite.com/myproduct.html?utm_source=newsletter-october&amp;utm_medium=email&amp;utm_campaign=cn0201&quot;&gt;Visit website&lt;/a&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For the prospective customer clicking on the link, adding the query parameters does not change the user experience. (The user is still directed to the webpage atÂ <a href="http://mysite.com/myproduct.html." target="_blank" rel="noopener noreferrer">http://mysite.com/myproduct.html.</a>) But Snowplow then has access to the fields given in the query string, and uses them to identify this user as originating from the October Newsletter, an email marketing campaign with campaign id = cn0201.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="anatomy-of-the-query-parameters">Anatomy of the query parameters<a class="hash-link" href="#anatomy-of-the-query-parameters" title="Direct link to heading">â€‹</a></h4><p>Snowplow uses the same query parameters used by Google Analytics. Because of this, Snowplow users who are also using GA do not need to do any additional work to make their campaigns trackable in Snowplow as well as GA. Those parameters are:</p><table><thead><tr><th><strong>Parameter</strong></th><th><strong>Name</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><code>utm_source</code></td><td>Campaign source</td><td>Identify the advertiser driving traffic to your site e.g. Google, Facebook, autumn-newsletter etc.</td></tr><tr><td><code>utm_medium</code></td><td>Campaign medium</td><td>The advertising / marketing medium e.g. cpc, banner, email newsletter, in-app ad, cpa</td></tr><tr><td><code>utm_campaign</code></td><td>Campaign id</td><td>A unique campaign id. This can be a descriptive name or a number / string that is then looked up against a campaign table as part of the analysis</td></tr><tr><td><code>utm_term</code></td><td>Campaign term(s)</td><td>Used for search marketing in particular, this field is used to identify the search terms that triggered the ad being displayed in the search results.</td></tr><tr><td><code>utm_content</code></td><td>Campaign content</td><td>Used either to differentiate similar content or two links in the same ad. (So that it is possible to identify which is generating more traffic.)</td></tr></tbody></table><p>The parameters are descibed in theÂ <a href="https://support.google.com/analytics/answer/1033863" target="_blank" rel="noopener noreferrer">Google Analytics help page</a>. Google also provides aÂ <a href="https://support.google.com/analytics/answer/1033867?hl=en" target="_blank" rel="noopener noreferrer">urlbuilder</a>Â which can be used to construct the URL incl. query parameters to use in your campaigns.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ad-tracking-methods">Ad tracking methods<a class="hash-link" href="#ad-tracking-methods" title="Direct link to heading">â€‹</a></h3><p>Snowplow tracking code can be included in ad tags in order to track impressions and ad clicks. This is used by e.g. ad networks to identify which sites and web pages users visit across a network, so that they can be segmented, for example.</p><p>Each ad tracking method has aÂ <code>costModel</code>Â field and aÂ <code>cost</code>Â field. If you provide theÂ <code>cost</code>Â field, you must also provide one ofÂ <code>&#x27;cpa&#x27;</code>,Â <code>&#x27;cpc&#x27;</code>, andÂ <code>&#x27;cpm&#x27;</code>Â for theÂ <code>costModel</code>Â field.</p><p>It may be the case that multiple ads from the same source end up on a single page. If this happens, it is important that the different Snowplow code snippets associated with those ads not interfere with one another. The best way to prevent this is to randomly name each tracker instance you create so that the probability of a name collision is negligible. SeeÂ <a href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracker-setup/managing-multiple-trackers/">Managing multiple trackers</a>Â for more on having more than one tracker instance on a single page.</p><p>Below is an example of how to achieve this when using Snowplow ad impression tracking.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Snowplow starts plowing --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Wrap script in a closure.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// This prevents rnd from becoming a global variable.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// So if multiple copies of the script are loaded on the same page,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// each instance of rnd will be inside its own namespace and will</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// not overwrite any of the others.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// See http://benalman.com/news/2010/11/immediately-invoked-function-expression/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(function(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Randomly generate tracker namespace to prevent clashes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  var rnd = Math.random().toString(36).substring(2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Load Snowplow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,&quot;script&quot;,&quot;{{URL to sp.js}}&quot;,&quot;snowplow&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Create a new tracker namespaced to rnd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;newTracker&#x27;, rnd, &#x27;dgrp31ac2azr9.cloudfront.net&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appId: &#x27;myApp&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    platform: &#x27;web&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Replace the values below with magic macros from your adserver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;trackAdImpression:&#x27; + rnd,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;67965967893&#x27;,            // impressionId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;cpm&#x27;,                    // costModel - &#x27;cpa&#x27;, &#x27;cpc&#x27;, or &#x27;cpm&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    5.5,                      // cost</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;http://www.example.com&#x27;, // targetUrl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;23&#x27;,                     // bannerId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;7&#x27;,                      // zoneId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;201&#x27;,                    // advertiserId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;12&#x27;                      // campaignId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Snowplow stops plowing --&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Even if several copies of the above script appear on a page, the trackers created will all (probably) have different names and so will not interfere with one another. The same technique should be used when tracking ad clicks. The below examples forÂ <code>trackAdImpression</code>Â andÂ <code>trackAdClick</code>Â assume thatÂ <code>rnd</code>Â has been defined in this way.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackadimpression"><code>trackAdImpression</code><a class="hash-link" href="#trackadimpression" title="Direct link to heading">â€‹</a></h4><p>Ad impression tracking is accomplished using theÂ <code>trackAdImpression</code>Â method. Here are the arguments it accepts:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>impressionId</code></td><td>No</td><td>Identifier for the particular impression instance</td><td>string</td></tr><tr><td><code>costModel</code></td><td>No</td><td>The cost model for the campaign: &#x27;cpc&#x27;, &#x27;cpm&#x27;, or &#x27;cpa&#x27;</td><td>string</td></tr><tr><td><code>cost</code></td><td>No</td><td>Ad cost</td><td>number</td></tr><tr><td><code>targetUrl</code></td><td>No</td><td>The destination URL</td><td>string</td></tr><tr><td><code>bannerId</code></td><td>No</td><td>Adserver identifier for the ad banner (creative) being displayed</td><td>string</td></tr><tr><td><code>zoneId</code></td><td>No</td><td>Adserver identifier for the zone where the ad banner is located</td><td>string</td></tr><tr><td><code>advertiserID</code></td><td>No</td><td>Adserver identifier for the advertiser which the campaign belongs to</td><td>string</td></tr><tr><td><code>campaignId</code></td><td>No</td><td>Adserver identifier for the ad campaign which the banner belongs to</td><td>string</td></tr></tbody></table><p>NOTE: All properties are optional but you must specify at least 1 for this to be a valid call to <code>trackAdImpression</code>.</p><p>An example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackAdImpression:&#x27; + rnd,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;67965967893&#x27;,             // impressionId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;cpm&#x27;,                     // costModel - &#x27;cpa&#x27;, &#x27;cpc&#x27;, or &#x27;cpm&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     5.5,                      // cost</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;http://www.example.com&#x27;,  // targetUrl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;23&#x27;,                      // bannerId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;7&#x27;,                       // zoneId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;201&#x27;,                     // advertiserId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;12&#x27;                       // campaignId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ad impression events are implemented as Snowplow self describing events.Â <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Here</a>Â is the JSON schema for an ad impression event.</p><p><code>trackAdImpression</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><p>You will want to set these arguments programmatically, across all of your ad zones/slots. For guidelines on how to achieve this with theÂ <a href="http://www.openx.com/publisher/enterprise-ad-server" target="_blank" rel="noopener noreferrer">OpenX adserver</a>, please see the OpenX section.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackadclick"><code>trackAdClick</code><a class="hash-link" href="#trackadclick" title="Direct link to heading">â€‹</a></h4><p>Ad click tracking is accomplished using theÂ <code>trackAdClick</code>Â method. Here are the arguments it accepts:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>targetUrl</code></td><td>Yes</td><td>The destination URL</td><td>string</td></tr><tr><td><code>clickId</code></td><td>No</td><td>Identifier for the particular click instance</td><td>string</td></tr><tr><td><code>costModel</code></td><td>No</td><td>The cost model for the campaign: &#x27;cpc&#x27;, &#x27;cpm&#x27;, or &#x27;cpa&#x27;</td><td>string</td></tr><tr><td><code>cost</code></td><td>No</td><td>Ad cost</td><td>number</td></tr><tr><td><code>bannerId</code></td><td>No</td><td>Adserver identifier for the ad banner (creative) being displayed</td><td>string</td></tr><tr><td><code>zoneId</code></td><td>No</td><td>Adserver identifier for the zone where the ad banner is located</td><td>string</td></tr><tr><td><code>advertiserID</code></td><td>No</td><td>Adserver identifier for the advertiser which the campaign belongs to</td><td>string</td></tr><tr><td><code>campaignId</code></td><td>No</td><td>Adserver identifier for the ad campaign which the banner belongs to</td><td>string</td></tr></tbody></table><p>An example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackAdClick:&#x27; + rnd,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;http://www.example.com&#x27;,  // targetUrl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;12243253&#x27;,                // clickId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;cpm&#x27;,                     // costModel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     2.5,                      // cost</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;23&#x27;,                      // bannerId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;7&#x27;,                       // zoneId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;67965967893&#x27;,             // impressionId - the same as in trackAdImpression</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;201&#x27;,                     // advertiserId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;12&#x27;                       // campaignId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ad click events are implemented as Snowplow self describing events.<a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Here</a>Â is the JSON schema for an ad click event.</p><p><code>trackAdClick</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/#custom-contexts">custom context</a>Â for more information.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackadconversion"><code>trackAdConversion</code><a class="hash-link" href="#trackadconversion" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>trackAdConversion</code>Â method to track ad conversions. Here are the arguments it accepts:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>conversionId</code></td><td>No</td><td>Identifier for the particular conversion instance</td><td>string</td></tr><tr><td><code>costModel</code></td><td>No</td><td>The cost model for the campaign: &#x27;cpc&#x27;, &#x27;cpm&#x27;, or &#x27;cpa&#x27;</td><td>string</td></tr><tr><td><code>cost</code></td><td>No</td><td>Ad cost</td><td>number</td></tr><tr><td><code>category</code></td><td>No</td><td>Conversion category</td><td>number</td></tr><tr><td><code>action</code></td><td>No</td><td>The type of user interaction, e.g. &#x27;purchase&#x27;</td><td>string</td></tr><tr><td><code>property</code></td><td>No</td><td>Describes the object of the conversion</td><td>string</td></tr><tr><td><code>initialValue</code></td><td>No</td><td>How much the conversion is initially worth</td><td>number</td></tr><tr><td><code>advertiserID</code></td><td>No</td><td>Adserver identifier for the advertiser which the campaign belongs to</td><td>string</td></tr><tr><td><code>campaignId</code></td><td>No</td><td>Adserver identifier for the ad campaign which the banner belongs to</td><td>string</td></tr></tbody></table><p>NOTE: All properties are optional but you must specify at least 1 for this to be a valid call to <code>trackAdConversion</code>.</p><p>An example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackAdConversion&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;743560297&#x27;, // conversionId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;cpa&#x27;,       // costModel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    10,          // cost</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;ecommerce&#x27;, // category</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;purchase&#x27;,  // action</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;&#x27;,          // property</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    99,          // initialValue - how much the conversion is initially worth</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;201&#x27;,       // advertiserId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;12&#x27;         // campaignId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ad conversion events are implemented as Snowplow self describing events.Â <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Here</a>Â is the schema for an ad conversion event.</p><p><code>trackAdConversion</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-implementing-impression-tracking-with-snowplow-and-openx">Example: implementing impression tracking with Snowplow and OpenX<a class="hash-link" href="#example-implementing-impression-tracking-with-snowplow-and-openx" title="Direct link to heading">â€‹</a></h4><p>Most ad servers enable you to append custom code to your ad tags.</p><p>You will need to populate the ad zone append field with Snowplow tags forÂ <strong>every ad zone/unit</strong>Â which you use to serve ads across your site or network. Read on for the Snowplow HTML code to use for OpenX.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="openx-snowplow-impression-tracking-using-magic-macros"><a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#openx-snowplow-impression-tracking-using-magic-macros" target="_blank" rel="noopener noreferrer"></a>OpenX: Snowplow impression tracking using magic macros<a class="hash-link" href="#openx-snowplow-impression-tracking-using-magic-macros" title="Direct link to heading">â€‹</a></h4><p>Because OpenX has a feature calledÂ <a href="http://www.openx.com/docs/whitepapers/magic-macros" target="_blank" rel="noopener noreferrer">magic macros</a>, it is relatively straightforward to pass the banner, campaign and user ID arguments into the call toÂ <code>trackAdImpression()</code>Â (advertiser ID is not available through magic macros).</p><p>The full HTML code to append, using asynchronous Snowplow invocation, looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Snowplow starts plowing --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,&quot;script&quot;,&quot;{{URL to sp.js}}&quot;,&quot;snowplow&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Update tracker constructor to use your CloudFront distribution subdomain</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;newTracker&#x27;, &#x27;sp&#x27;, &#x27;{{collector_url_here}}&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackAdImpression&#x27;, &#x27;{impressionId}&#x27; &#x27;{costModel}&#x27;, &#x27;{cost}&#x27;, &#x27;{targetUrl}&#x27;, &#x27;{bannerid}&#x27;, &#x27;{zoneid}&#x27;, &#x27;{advertiserId}&#x27;, &#x27;{campaignid}&#x27;); // OpenX magic macros. Leave this line as-is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Snowplow stops plowing --&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have appended this code to all of your active ad zones, Snowplow should be collecting all of your ad impression data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracksitesearch"><code>trackSiteSearch</code><a class="hash-link" href="#tracksitesearch" title="Direct link to heading">â€‹</a></h3><p>Use theÂ <code>trackSiteSearch</code>Â method to track users searching your website. Here are its arguments:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>terms</code></td><td>Yes</td><td>Search terms</td><td>array</td></tr><tr><td><code>filters</code></td><td>No</td><td>Search filters</td><td>JSON</td></tr><tr><td><code>totalResults</code></td><td>No</td><td>Results found</td><td>number</td></tr><tr><td><code>pageResults</code></td><td>No</td><td>Results displayed on first page</td><td>number</td></tr></tbody></table><p>An example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSiteSearch&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [&#x27;unified&#x27;, &#x27;log&#x27;],      // search terms</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {&#x27;category&#x27;: &#x27;books&#x27;, &#x27;sub-category&#x27;: &#x27;non-fiction&#x27;},  // filters</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    14,                      // results found</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    8                        // results displayed on first page</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Site search events are implemented as Snowplow self describing events.Â <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Here</a>Â is the schema for aÂ <code>site_search</code>Â event.</p><p><code>trackSiteSearch</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#custom-contexts" target="_blank" rel="noopener noreferrer">custom context</a>Â for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracktiming"><code>trackTiming</code><a class="hash-link" href="#tracktiming" title="Direct link to heading">â€‹</a></h3><p>Use theÂ <code>trackTiming</code>Â method to track user timing events such as how long resources take to load. Here are its arguments:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>category</code></td><td>Yes</td><td>Timing category</td><td>string</td></tr><tr><td><code>variable</code></td><td>Yes</td><td>Timed variable</td><td>string</td></tr><tr><td><code>timing</code></td><td>Yes</td><td>Number of milliseconds elapsed</td><td>number</td></tr><tr><td><code>label</code></td><td>No</td><td>Label for the event</td><td>string</td></tr></tbody></table><p>An example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackTiming&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;load&#x27;,            // Category of the timing variable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;map_loaded&#x27;,      // Variable being recorded</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  50,                // Milliseconds taken</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Map loading time&#x27; // Optional label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Site search events are implemented as Snowplow self describing events.Â <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/timing/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Here</a>Â is the schema for aÂ <code>timing</code>Â event.</p><p><code>trackTiming</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="#custom-context">custom context</a>Â for more information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-ecommerce-tracking">Enhanced Ecommerce tracking<a class="hash-link" href="#enhanced-ecommerce-tracking" title="Direct link to heading">â€‹</a></h3><p>For more information on the Enhanced Ecommerce functions please see the Google AnalyticsÂ <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce" target="_blank" rel="noopener noreferrer">documentation</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="addenhancedecommerceactioncontext"><code>addEnhancedEcommerceActionContext</code><a class="hash-link" href="#addenhancedecommerceactioncontext" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>addEnhancedEcommerceActionContext</code>Â method to add a GA Enhanced Ecommerce Action Context to the Tracker:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>Yes</td><td>string</td></tr><tr><td><code>affiliation</code></td><td>No</td><td>string</td></tr><tr><td><code>revenue</code></td><td>No</td><td>number OR string</td></tr><tr><td><code>tax</code></td><td>No</td><td>number OR string</td></tr><tr><td><code>shipping</code></td><td>No</td><td>number OR string</td></tr><tr><td><code>coupon</code></td><td>No</td><td>string</td></tr><tr><td><code>list</code></td><td>No</td><td>string</td></tr><tr><td><code>step</code></td><td>No</td><td>integer OR string</td></tr><tr><td><code>option</code></td><td>No</td><td>string</td></tr><tr><td><code>currency</code></td><td>No</td><td>string</td></tr></tbody></table><p>Adding an action using Google Analytics:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ga(&#x27;ec:setAction&#x27;, &#x27;purchase&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;id&#x27;: &#x27;T12345&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;affiliation&#x27;: &#x27;Google Store - Online&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;revenue&#x27;: &#x27;37.39&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;tax&#x27;: &#x27;2.85&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;shipping&#x27;: &#x27;5.34&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;coupon&#x27;: &#x27;SUMMER2013&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>NOTE</strong>: The action type is passed with the action context in the Google Analytics example. We have seperated this by asking you to call theÂ trackEnhancedEcommerceActionÂ function to actually send the context and the action.</p><p>Adding an action using Snowplow:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addEnhancedEcommerceActionContext&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;T12345&#x27;, // The Transaction ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Google Store - Online&#x27;, // The affiliate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;37.39&#x27;, // The revenue</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;2.85&#x27;, // The tax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;5.34&#x27;, // The shipping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;WINTER2016&#x27; // The coupon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="addenhancedecommerceimpressioncontext"><code>addEnhancedEcommerceImpressionContext</code><a class="hash-link" href="#addenhancedecommerceimpressioncontext" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>addEnhancedEcommerceImpressionContext</code>Â method to add a GA Enhanced Ecommerce Impression Context to the Tracker:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>Yes</td><td>string</td></tr><tr><td><code>name</code></td><td>No</td><td>string</td></tr><tr><td><code>list</code></td><td>No</td><td>string</td></tr><tr><td><code>brand</code></td><td>No</td><td>string</td></tr><tr><td><code>category</code></td><td>No</td><td>string</td></tr><tr><td><code>variant</code></td><td>No</td><td>string</td></tr><tr><td><code>position</code></td><td>No</td><td>integer OR string</td></tr><tr><td><code>price</code></td><td>No</td><td>number OR string</td></tr><tr><td><code>currency</code></td><td>No</td><td>string</td></tr></tbody></table><p>Adding an impression using Google Analytics:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ga(&#x27;ec:addImpression&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;id&#x27;: &#x27;P12345&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;name&#x27;: &#x27;Android Warhol T-Shirt&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;list&#x27;: &#x27;Search Results&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;brand&#x27;: &#x27;Google&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;category&#x27;: &#x27;Apparel/T-Shirts&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;variant&#x27;: &#x27;Black&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;position&#x27;: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Adding an impression using Snowplow:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addEnhancedEcommerceImpressionContext&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;P12345&#x27;, // The ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Android Warhol T-Shirt&#x27;, // The name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Search Results&#x27;, // The list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Google&#x27;, // The brand</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Apparel/T-Shirts&#x27;, // The category</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Black&#x27;, // The variant</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;1&#x27; // The position</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="addenhancedecommerceproductcontext"><code>addEnhancedEcommerceProductContext</code><a class="hash-link" href="#addenhancedecommerceproductcontext" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>addEnhancedEcommerceProductContext</code>Â method to add a GA Enhanced Ecommerce Product Field Context:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>Yes</td><td>string</td></tr><tr><td><code>name</code></td><td>No</td><td>string</td></tr><tr><td><code>list</code></td><td>No</td><td>string</td></tr><tr><td><code>brand</code></td><td>No</td><td>string</td></tr><tr><td><code>category</code></td><td>No</td><td>string</td></tr><tr><td><code>variant</code></td><td>No</td><td>string</td></tr><tr><td><code>price</code></td><td>No</td><td>number OR string</td></tr><tr><td><code>quantity</code></td><td>No</td><td>integer OR string</td></tr><tr><td><code>coupon</code></td><td>No</td><td>string</td></tr><tr><td><code>position</code></td><td>No</td><td>integer OR string</td></tr><tr><td><code>currency</code></td><td>No</td><td>string</td></tr></tbody></table><p>Adding a product using Google Analytics:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ga(&#x27;ec:addProduct&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;id&#x27;: &#x27;P12345&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;name&#x27;: &#x27;Android Warhol T-Shirt&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;brand&#x27;: &#x27;Google&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;category&#x27;: &#x27;Apparel/T-Shirts&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;variant&#x27;: &#x27;Black&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;position&#x27;: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Adding a product using Snowplow:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addEnhancedEcommerceProductContext&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;P12345&#x27;, // The ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Android Warhol T-Shirt&#x27;, // The name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Search Results&#x27;, // The list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Google&#x27;, // The brand</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Apparel/T-Shirts&#x27;, // The category</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Black&#x27;, // The variant</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  1 // The quantity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="addenhancedecommercepromocontext"><code>addEnhancedEcommercePromoContext</code><a class="hash-link" href="#addenhancedecommercepromocontext" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>addEnhancedEcommercePromoContext</code>Â method to add a GA Enhanced Ecommerce Promotion Field Context:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>Yes</td><td>string</td></tr><tr><td><code>name</code></td><td>No</td><td>string</td></tr><tr><td><code>creative</code></td><td>No</td><td>string</td></tr><tr><td><code>position</code></td><td>No</td><td>string</td></tr><tr><td><code>currency</code></td><td>No</td><td>string</td></tr></tbody></table><p>Adding a promotion using Google Analytics:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ga(&#x27;ec:addPromo&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;id&#x27;: &#x27;PROMO_1234&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;name&#x27;: &#x27;Summer Sale&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;creative&#x27;: &#x27;summer_banner2&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;position&#x27;: &#x27;banner_slot1&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Adding a promotion using Snowplow:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addEnhancedEcommercePromoContext&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;PROMO_1234&#x27;, // The Promotion ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;Summer Sale&#x27;, // The name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;summer_banner2&#x27;, // The name of the creative</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;banner_slot1&#x27; // The position</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackenhancedecommerceaction"><code>trackEnhancedEcommerceAction</code><a class="hash-link" href="#trackenhancedecommerceaction" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>trackEnhancedEcommerceAction</code>Â method to track a GA Enhanced Ecommerce Action. When this function is called all of the added Ecommerce Contexts are attached to this action and flushed from the Tracker.</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>action</code></td><td>Yes</td><td>string</td></tr></tbody></table><p>The allowed actions:</p><ul><li><code>click</code></li><li><code>detail</code></li><li><code>add</code></li><li><code>remove</code></li><li><code>checkout</code></li><li><code>checkout_option</code></li><li><code>purchase</code></li><li><code>refund</code></li><li><code>promo_click</code></li><li><code>view</code></li></ul><p>Adding an action using Google Analytics:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ga(&#x27;ec:setAction&#x27;, &#x27;refund&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;id&#x27;: &#x27;T12345&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Adding an action using Snowplow:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;addEnhancedEcommerceActionContext&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;T12345&#x27; // ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackEnhancedEcommerceAction&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;refund&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consent-tracking">Consent tracking<a class="hash-link" href="#consent-tracking" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackconsentgranted"><code>trackConsentGranted</code><a class="hash-link" href="#trackconsentgranted" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>trackConsentGranted</code>Â method to track a user opting into data collection. A consent document context will be attached to the event if at least theÂ <code>id</code>Â andÂ <code>version</code>Â arguments are supplied. The method arguments are:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>Identifier for the document granting consent</td><td>Yes</td><td>String</td></tr><tr><td><code>version</code></td><td>Version of the document granting consent</td><td>Yes</td><td>String</td></tr><tr><td><code>name</code></td><td>Name of the document granting consent</td><td>No</td><td>String</td></tr><tr><td><code>description</code></td><td>Description of the document granting consent</td><td>No</td><td>String</td></tr><tr><td><code>expiry</code></td><td>Date-time string specifying when consent document expires</td><td>No</td><td>String</td></tr><tr><td><code>context</code></td><td>Custom context for the event</td><td>No</td><td>Array</td></tr><tr><td><code>tstamp</code></td><td>When the event occurred</td><td>No</td><td>Positive integer</td></tr></tbody></table><p>TheÂ <code>expiry</code>Â field specifies that the user consents to the attached documents until the date-time provided, after which the consent is no longer valid.</p><p>Tracking a consent granted event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackConsentGranted&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;1234&#x27;,                        // Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;5&#x27;,                           // Version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;consent_document&#x27;,            // Name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;a document granting consent&#x27;, // Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;2020-11-21T08:00:00.000Z&#x27;     // Expiry</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trackconsentwithdrawn"><code>trackConsentWithdrawn</code><a class="hash-link" href="#trackconsentwithdrawn" title="Direct link to heading">â€‹</a></h4><p>Use theÂ <code>trackConsentWithdrawn</code>Â method to track a user withdrawing consent for data collection. A consent document context will be attached to the event if at least theÂ <code>id</code>Â andÂ <code>version</code>Â arguments are supplied. To specify that a user opts out of all data collection,Â <code>all</code>Â should be set toÂ <code>true</code>.</p><p>The method arguments are:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>all</code></td><td>Specifies whether all consent should be withdrawn</td><td>No</td><td>Boolean</td></tr><tr><td><code>id</code></td><td>Identifier for the document withdrawing consent</td><td>No</td><td>String</td></tr><tr><td><code>version</code></td><td>Version of the document withdrawing consent</td><td>No</td><td>string</td></tr><tr><td><code>name</code></td><td>Name of the document withdrawing consent</td><td>No</td><td>String</td></tr><tr><td><code>description</code></td><td>Description of the document withdrawing consent</td><td>No</td><td>String</td></tr><tr><td><code>context</code></td><td>Custom context for the event</td><td>No</td><td>Array</td></tr><tr><td><code>tstamp</code></td><td>When the event occurred</td><td>No</td><td>Positive integer</td></tr></tbody></table><p>Tracking a consent withdrawn event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackConsentWithdrawn&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  false,                            // All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;1234&#x27;,                           // Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;5&#x27;,                              // Version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;consent_document&#x27;,               // Name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;a document withdrawing consent&#x27;  // Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="consent-documents">Consent documents<a class="hash-link" href="#consent-documents" title="Direct link to heading">â€‹</a></h4><p>Consent documents are stored in the context of a consent event. Each consent method adds a consent document to the event. The consent document is a custom context storing the arguments supplied to the method (in both granted and withdrawn events, this will be: id, version, name, and description). In either consent method, additional documents can be appended to the event by passing an array of consent document self-describing JSONs in the context argument.</p><p>The fields of a consent document are:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>Identifier for the document</td><td>Yes</td><td>String</td></tr><tr><td><code>version</code></td><td>Version of the document</td><td>Yes</td><td>String</td></tr><tr><td><code>name</code></td><td>Name of the document</td><td>No</td><td>String</td></tr><tr><td><code>description</code></td><td>Description of the document</td><td>No</td><td>String</td></tr></tbody></table><p>A consent document self-describing JSON looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  schema: &#x27;iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id: &#x27;1234&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    version: &#x27;5&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name: &#x27;consent_document_name&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    description: &#x27;here is a description&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As an example,Â <code>trackConsentGranted</code>Â will store one consent document as a custom context:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackConsentGranted&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;1234&#x27;,                        // Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;5&#x27;,                           // Version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;consent_document&#x27;,            // Name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;a document granting consent&#x27;, // Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;2020-11-21T08:00:00.000Z&#x27;     // Expiry</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The method call will generate this event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  e: &#x27;ue&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ue_pr: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schema: &#x27;iglu:com.snowplowanalytics.snowplow/consent_granted/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expiry: &#x27;2020-11-21T08:00:00.000Z&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  co: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schema: &#x27;iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        id: &#x27;1234&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        version: &#x27;5&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name: &#x27;consent_document&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        description: &#x27;a document granting consent&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gdpr-context">GDPR context<a class="hash-link" href="#gdpr-context" title="Direct link to heading">â€‹</a></h3><p>The GDPR context attaches a context with the GDPR basis for processing and the details of a related docuemnt (eg. a consent document) to all events which are fired after it is set.</p><p>It takes the following arguments:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>basisForProcessing</code></td><td>GDPR Basis for processing</td><td>Yes</td><td>Enum String</td></tr><tr><td><code>documentId</code></td><td>ID of a GDPR basis document</td><td>No</td><td>String</td></tr><tr><td><code>documentVersion</code></td><td>Version of the document</td><td>No</td><td>String</td></tr><tr><td><code>documentDescription</code></td><td>Description of the document</td><td>No</td><td>String</td></tr></tbody></table><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  e: &#x27;ue&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ue_pr: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schema: &#x27;iglu:com.snowplowanalytics.snowplow/consent_granted/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expiry: &#x27;2020-11-21T08:00:00.000Z&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  co: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schema: &#x27;iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        id: &#x27;1234&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        version: &#x27;5&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name: &#x27;consent_document&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        description: &#x27;a document granting consent&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The required basisForProcessing accepts only the following literals:Â <code>consent</code>,Â <code>contract</code>,Â <code>legalObligation</code>,Â <code>vitalInterests</code>,Â <code>publicTask</code>,Â <code>legitimateInterests</code>Â - in accordance with theÂ <a href="https://ico.org.uk/for-organisations/guide-to-data-protection/guide-to-the-general-data-protection-regulation-gdpr/lawful-basis-for-processing/" target="_blank" rel="noopener noreferrer">five legal bases for processing</a></p><p>The GDPR context is enabled by calling theÂ <code>enableGdprContext</code>Â method once the tracker has been initialised, for example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableGdprContext&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;consent&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;consentDoc-abc123&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;0.1.0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &#x27;this document describes consent basis for processing&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="error-tracking">Error tracking<a class="hash-link" href="#error-tracking" title="Direct link to heading">â€‹</a></h4><p>Snowplow JS tracker provides two ways of tracking exceptions: manual tracking of handled exceptions usingÂ <code>trackError</code>Â and automatic tracking of unhandled exceptions usingÂ <code>enableErrorTracking</code>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="trackerror"><code>trackError</code><a class="hash-link" href="#trackerror" title="Direct link to heading">â€‹</a></h5><p>Use theÂ <code>trackError</code>Â method to track handled exceptions (application errors) in your JS code. This is its signature:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function (message, filename, lineno, colno, error, contexts)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>message</code></td><td>Yes</td><td>Error message</td><td>string</td></tr><tr><td><code>filename</code></td><td>No</td><td>Filename or URL</td><td>string</td></tr><tr><td><code>lineno</code></td><td>No</td><td>Line number of problem code chunk</td><td>number</td></tr><tr><td><code>colno</code></td><td>No</td><td>Column number of problem code chunk</td><td>number</td></tr><tr><td><code>error</code></td><td>No</td><td>JSÂ <code>ErrorEvent</code></td><td>ErrorEvent</td></tr></tbody></table><p>Of these arguments, onlyÂ <code>message</code>Â is required. Signature of this method defined to matchÂ <code>window.onerror</code>Â callback in modern browsers.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  var user = getUser()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">} catch(e) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow(&#x27;trackError&#x27;, &#x27;Cannot get user object&#x27;, &#x27;shop.js&#x27;, null, null, e);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>trackError</code>Â can also be passed an array of custom context as an additional final parameter. SeeÂ <a href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/#custom-contexts">custom context</a>Â for more information.</p><p>UsingÂ <code>trackError</code>Â it&#x27;s assumed that developer knows where error could happen, which is not often the case. Therefor it&#x27;s recommended to useÂ <code>enableErrorTracking</code>Â as it allows you to discover errors that weren&#x27;t expected.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="enableerrortracking"><code>enableErrorTracking</code><a class="hash-link" href="#enableerrortracking" title="Direct link to heading">â€‹</a></h5><p>Use theÂ <code>enableErrorTracking</code>Â method to track unhandled exceptions (application errors) in your JS code. This is its signature:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function (filter, contextAdder)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th><strong>Name</strong></th><th><strong>Required?</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>filter</code></td><td>No</td><td>Predicate function to filter exceptions</td><td>Function ErrorEvent =&gt; Boolean</td></tr><tr><td><code>contextAdder</code></td><td>No</td><td>Function to grab custom context</td><td>Function ErrorEvent =&gt; Array</td></tr></tbody></table><p>UnlikeÂ <code>trackError</code>Â you need enable error tracking only once:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;enableErrorTracking&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Application error events are implemented as Snowplow self describing events.Â <a href="https://raw.githubusercontent.com/snowplow/iglu-central/master/schemas/com.snowplowanalytics.snowplow/application_error/jsonschema/1-0-1" target="_blank" rel="noopener noreferrer">Here</a>Â is the schema for aÂ <code>application_error</code>Â event.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-true-timestamp">Setting the true timestamp<a class="hash-link" href="#setting-the-true-timestamp" title="Direct link to heading">â€‹</a></h3><p>As standard, every event tracked by the Javascript tracker will be recorded with two timestamps:</p><ol><li>AÂ <code>device_created_tstamp</code>Â - set when the event occurred</li><li>AÂ <code>device_sent_tstamp</code>Â - set when the event was sent by the tracker to the collector</li></ol><p>These are combined downstream in the Snowplow pipeline (with theÂ <code>collector_tstamp</code>) to calculate theÂ <code>derived_tstamp</code>, which is our best estimate of when the event actually occurred.</p><p>In certain circumstances you might want to set the timestamp yourself e.g. if the JS tracker is being used to process historical event data, rather than tracking the events live. In this case you can set theÂ <code>true_timestamp</code>Â for the event. When set, this will be used as the value in theÂ <code>derived_tstamp</code>Â rather than a combination of theÂ <code>device_created_tstamp</code>,Â <code>device_sent_tstamp</code>Â andÂ <code>collector_tstamp</code>.</p><p>To set the true timestamp add an extra argument to your track method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{type: &#x27;ttm&#x27;, value: unixTimestampInMs}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>e.g. to set a true timestamp with a page view event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;, null, [{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &quot;iglu:com.example_company/page/jsonschema/1-2-1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pageType: &#x27;test&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        lastUpdated: new Date(2014,1,26)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &quot;iglu:com.example_company/user/jsonschema/2-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      userType: &#x27;tester&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{type: &#x27;ttm&#x27;, value: 1361553733371});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>e.g. to set a true timestamp for a self-describing event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackSelfDescribingEvent&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.acme_company/viewed_product/jsonschema/2-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        productId: &#x27;ASO01043&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        category: &#x27;Dresses&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        brand: &#x27;ACME&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        returning: true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        price: 49.95,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sizes: [&#x27;xs&#x27;, &#x27;s&#x27;, &#x27;l&#x27;, &#x27;xl&#x27;, &#x27;xxl&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        availableSince: new Date(2013,3,7)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}, null, {type: &#x27;ttm&#x27;, value: 1361553733371});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="callback-after-track-2150">Callback after track (2.15.0+)<a class="hash-link" href="#callback-after-track-2150" title="Direct link to heading">â€‹</a></h3><p>You may wish to be informed when a tracked event has been sent by the tracker, if so then you can can pass a callback function into each <code>track...</code> call as an additional argument.</p><p>The callback function has a single Payload argument, which matches the payload that is sent to the collector.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">snowplow(&#x27;trackPageView&#x27;, null, null, null, function (payload) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  console.log(&#x27;Page View tracked&#x27;, payload);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-output">Error output<a class="hash-link" href="#error-output" title="Direct link to heading">â€‹</a></h3><p>Errors raised by the operation of the tracker are disabled by default.</p><p>Errors can be enabled with the tracker methodÂ <code>tracker.setDebug(true)</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracking-specific-events/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-09T12:18:35.000Z">Sep 9, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracker-setup/managing-multiple-trackers/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Managing multiple trackers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Usage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#page-views" class="table-of-contents__link toc-highlight">Page Views</a></li><li><a href="#activity-tracking-page-pings" class="table-of-contents__link toc-highlight">Activity Tracking: page pings</a></li><li><a href="#tracking-custom-self-describing-events" class="table-of-contents__link toc-highlight">Tracking custom self-describing events</a></li><li><a href="#tracking-custom-structured-events" class="table-of-contents__link toc-highlight">Tracking custom structured events</a></li><li><a href="#custom-context" class="table-of-contents__link toc-highlight">Custom context</a></li><li><a href="#link-click-tracking" class="table-of-contents__link toc-highlight">Link click tracking</a></li><li><a href="#form-tracking" class="table-of-contents__link toc-highlight">Form tracking</a></li><li><a href="#global-context" class="table-of-contents__link toc-highlight">Global context</a></li><li><a href="#ecommerce-tracking" class="table-of-contents__link toc-highlight">Ecommerce tracking</a></li><li><a href="#trackaddtocartandtrackremovefromcart" class="table-of-contents__link toc-highlight"><code>trackAddToCart</code>Â andÂ <code>trackRemoveFromCart</code></a></li><li><a href="#social-tracking" class="table-of-contents__link toc-highlight">Social tracking</a></li><li><a href="#campaign-tracking" class="table-of-contents__link toc-highlight">Campaign tracking</a></li><li><a href="#ad-tracking-methods" class="table-of-contents__link toc-highlight">Ad tracking methods</a></li><li><a href="#tracksitesearch" class="table-of-contents__link toc-highlight"><code>trackSiteSearch</code></a></li><li><a href="#tracktiming" class="table-of-contents__link toc-highlight"><code>trackTiming</code></a></li><li><a href="#enhanced-ecommerce-tracking" class="table-of-contents__link toc-highlight">Enhanced Ecommerce tracking</a></li><li><a href="#consent-tracking" class="table-of-contents__link toc-highlight">Consent tracking</a></li><li><a href="#gdpr-context" class="table-of-contents__link toc-highlight">GDPR context</a></li><li><a href="#setting-the-true-timestamp" class="table-of-contents__link toc-highlight">Setting the true timestamp</a></li><li><a href="#callback-after-track-2150" class="table-of-contents__link toc-highlight">Callback after track (2.15.0+)</a></li><li><a href="#error-output" class="table-of-contents__link toc-highlight">Error output</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/cookie-preferences/">Change cookie preferences</a><span class="footer__link-separator">Â·</span><a class="footer__link-item" href="/terms-and-conditions/">Terms and conditions</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a25030c0.js"></script>
<script src="/assets/js/main.cac1a3dd.js"></script>
</body>
</html>