<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="Snowplow Documentation" href="/opensearch.xml"><title data-rh="true">Tracking Events | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tracking Events | Snowplow Documentation"><meta data-rh="true" name="description" content="The mobile trackers capture two types of events, automatically captured and manual events."><meta data-rh="true" property="og:description" content="The mobile trackers capture two types of events, automatically captured and manual events."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/"><link data-rh="true" rel="alternate" href="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9HS3C2MKTH-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c14a5ea9.css">
<link rel="preload" href="/assets/js/runtime~main.a25030c0.js" as="script">
<link rel="preload" href="/assets/js/main.cac1a3dd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">👓 Participate in research that will shape the future of Snowplow Open Source! <a target="_blank" rel="noopener noreferrer" href="https://docs.google.com/forms/d/e/1FAIpQLSeZ1WIQO50N5bb6nIVb6CqIolkCrunimkQtMLpSU31wNKC6GQ/viewform">Apply here.</a></div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link nav-link__first customized_AOMy navbar__link--active" href="/docs/">Docs</a><a href="https://discourse.snowplow.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://try.snowplowanalytics.com/?utm_content=hero-cta&amp;utm_campaign=snowplow-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Try Snowplow</a><a href="https://go.snowplowanalytics.com/l/571483/2021-02-19/3sn5nml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Book a demo</a><div class="toggle_vylO extraSpace_k8HL"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s extraPadding_YQbj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp/">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-on-snowplow-open-source/">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow/">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start/">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline/">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design/">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/collecting-data/">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/">Trackers - collecting data from your own applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trackers - collecting data from your own applications&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracker-protocol/">Snowplow Tracker Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/tracker-maintenance-classification/">Tracker Maintenance Classification</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers/">JavaScript Trackers (Web and Node.js)</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript Trackers (Web and Node.js)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/">Mobile Native Trackers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Native Trackers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/installation-and-set-up/">Installation and set-up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/tracking-events/">Tracking events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/custom-tracking-using-schemas/">Custom tracking using schemas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/client-side-properties/">Tracking specific client-side properties</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/configuring-how-events-are-sent/">Configuring how events are sent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/remote-configuration/">Set up the remote configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/anonymous-tracking/">Anonymous Tracking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/hybrid-apps/">Hybrid Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/android-google-play-data-safety/">Android - Google Play Data Safety</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/migration-guides/">Migration guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migration guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/">Previous versions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Previous versions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/">Mobile Trackers v3.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Trackers v3.x&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/quick-start-guide/">Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/">Tracking Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/remote-configuration/">Remote Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v2-x/">Mobile Trackers v2.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Trackers v2.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/">Android Tracker v1.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Android Tracker v1.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/">iOS Tracker v1.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;iOS Tracker v1.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/react-native-tracker/">React Native Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;React Native Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/flutter-tracker/">Flutter Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flutter Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/roku-tracker/">Roku Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Roku Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/google-amp-tracker/">Google AMP Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Google AMP Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/pixel-tracker/">Pixel Tracker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/golang-tracker/">Golang Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Golang Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/net-tracker/">.NET Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;.NET Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/java-tracker/">Java Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/python-tracker/">Python Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/scala-tracker/">Scala Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scala Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/ruby-tracker/">Ruby Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ruby Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/php-tracker/">PHP Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;PHP Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/c-tracker/">C++ Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;C++ Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/unity-tracker/">Unity Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracking-cli/">Tracking CLI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tracking CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/lua-tracker/">Lua Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lua Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/google-analytics-plugin/">Google Analytics Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/arduino-tracker/">Arduino Tracker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/actionscript3-tracker/">ActionScript3 Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;ActionScript3 Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-data-from-third-parties/">Webhooks - collecting data from third parties</a><button aria-label="Toggle the collapsible sidebar category &#x27;Webhooks - collecting data from third parties&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data/">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data/">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations/">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/managing-data-quality/">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console/">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pipeline-components-and-applications/">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing/">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/"><span itemprop="name">Collecting data with Trackers and Webhooks</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/"><span itemprop="name">Trackers - collecting data from your own applications</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/"><span itemprop="name">Mobile Native Trackers</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/"><span itemprop="name">Previous versions</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/"><span itemprop="name">Mobile Trackers v3.x</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Tracking Events</span><meta itemprop="position" content="6"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tracking Events</h1></header><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">iOS Tracker</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Android Tracker</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>The mobile trackers capture two types of events, automatically captured and manual events.</p><h1>Auto Tracking</h1><p>Automatically captured events in the iOS Tracker are:</p><ul><li><strong>App Lifecycle Tracking</strong>: Captures application foreground and application background events.</li><li><strong>Screen View Tracking</strong>: Captures each time a new “screen” is loaded.</li><li><strong>Exception Tracking</strong>: Captures any unhandled exceptions within the application.</li><li><strong>Installation Tracking</strong>: Captures an install event which occurs the first time an application is opened.</li></ul><p>These are enabled in the tracker configuration. In this example, some helpful automatic contexts and all Autotracking is enabled:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let trackerConfig = TrackerConfiguration()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .sessionContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .platformContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .screenContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .applicationContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .lifecycleAutotracking(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .screenViewAutotracking(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .exceptionAutotracking(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .installAutotracking(true)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="session-context">Session Context<a class="hash-link" href="#session-context" title="Direct link to heading">​</a></h2><p>Client session tracking is activated by default but it can be disabled through the TrackerConfiguration as explained above. When enabled the tracker appends a <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2" target="_blank" rel="noopener noreferrer">client<!-- -->_<!-- -->session</a> context to each event it sends and it maintains this session information as long as the application is installed on the device.</p><p>Sessions correspond to tracked user activity. A session expires when no tracking events have occurred for the amount of time defined in a timeout (by default 30 minutes). The session timeout check is executed for each event tracked. If the gap between two consecutive events is longer than the timeout the session is renewed. There are two timeouts since a session can timeout in the foreground (while the app is visible) or in the background (when the app has been suspended, but not closed).</p><p>The lifecycle events (<code>application_foreground</code> and <code>application_background</code> events) have a role in the session expiration. The lifecycle events can be enabled in the <a href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/introduction/#TrackerConfiguration">TrackerConfiguration</a> enabling <code>lifecycleAutotracking</code> (Note: on Android it requires <code>androidx.lifecycle:lifecycle-extensions</code>). Once enabled they will be fired automatically when the app moves from foreground state to background state and vice versa.</p><p>When the app moves from foreground to background the <code>application_background</code> event is fired. If session tracking is enabled, the session context will be attached to the event checking the session expiration using the foreground timeout. When the app moves from background to foreground the <code>application_foreground</code> event is fired. If session tracking is enabled, the session context will be attached to the event checking the session expiration using the background timeout.</p><p>For instance, with this configuration:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SessionConfiguration(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    TimeMeasure(360L, TimeUnit.SECONDS),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    TimeMeasure(15L, TimeUnit.SECONDS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>the session would expire if the app is backgrounded for more than 15 seconds, like in this example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">time: 0s - screen_view event - foreground timeout session check - session 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">time: 3s - application_background event - foreground timeout session check (3  15) - session 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">time: 30s - application_foreground event - background timeout session check (30 &gt; 15) - session 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above example the <code>application_foreground</code> event triggers a new session because the time spent on background (without tracked events) is bigger than the background timeout for the session.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-callback">Session callback<a class="hash-link" href="#session-callback" title="Direct link to heading">​</a></h3><p>(Available from v3.1)</p><p>The tracker allows the configuration of a callback to inform the app everytime a new session is created (in correspondence of a session timeout check). This can be configured in the <code>SessionConfiguration</code> and it provides the <code>SessionState</code> where can be accessed all the info already tracked in the <code>SessionContext</code>.</p><p>Below an example of where the session callback is used to print out the values of session every time a new session is generated by the tracker:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let sessionConfig = SessionConfiguration()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .onSessionStateUpdate { session in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        print(&quot;SessionState: id: \(session.sessionId) - index: \(session.sessionIndex) - userID: \(session.userId) - firstEventID: \(session.firstEventId)&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let tracker = Snowplow.createTracker(namespace: kNamespace, network: networkConfig, configurations: [sessionConfig])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-event-context">Custom Event Context<a class="hash-link" href="#custom-event-context" title="Direct link to heading">​</a></h2><p>Custom context can be used to augment any standard Snowplow event type, including self describing events, with additional data. We refer to this custom context as <a href="/docs/understanding-tracking-design/understanding-events-entities/">Event Entities</a>.</p><p>Each custom context is an array of self-describing JSON following the same pattern as a self describing event. As with self describing events, if you want to create your own custom context, you must create a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">JSON schema</a> for it and upload it to an <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu repository</a> using the <a href="https://snowplow.io/snowplow-insights/" target="_blank" rel="noopener noreferrer">Snowplow BDP Console UI</a>, <a href="/docs/understanding-tracking-design/managing-data-structures/">Data Structures API</a>, <a href="/docs/pipeline-components-and-applications/iglu/">igluctl</a> or one of the other supported Iglu clients.</p><p>Note: Even if only one custom context is being attached to an event, it still needs to be wrapped in an array.</p><p>Here are two example custom context JSONs. One describes a screen:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.example/screen/jsonschema/1-2-1&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        screenType: &#x27;test&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        lastUpdated: &#x27;2021-06-11&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and the other describes a user on that screen:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.example/user/jsonschema/2-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      userType: &#x27;tester&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-events-with-custom-context">Tracking events with Custom Context<a class="hash-link" href="#tracking-events-with-custom-context" title="Direct link to heading">​</a></h2><p>How to track a screen view with both of these contexts attached:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = ScreenView(name: &quot;DemoScreenName&quot;, screenId: UUID())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">event.contexts.add(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SelfDescribingJson(schema: &quot;iglu:com.example/screen/jsonschema/1-2-1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        andDictionary: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             &quot;screenType&quot;: &quot;test&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             &quot;lastUpdated&quot;: &quot;2021-06-11&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ])!)     </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">event.contexts.add(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SelfDescribingJson(schema: &quot;iglu:com.example/user/jsonschema/2-0-0&quot;, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        andDictionary: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             &quot;userType&quot;: &quot;tester&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ])!)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is also possible to add contexts in a declarative way (see GlobalContextsConfiguration <a href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/introduction/">here</a>), so that they are applied to all (or a subset of) events within an application.</p><h1>Manual Tracking</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="self-describing">Self Describing<a class="hash-link" href="#self-describing" title="Direct link to heading">​</a></h2><p>You may wish to track events in your app which are not directly supported by Snowplow and which structured event tracking does not adequately capture. Your event may have more than the five fields offered by Structured events, or its fields may not fit into the category-action-label-property-value model. The solution is Snowplow’s self-describing events. Self-describing events are a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">data structure based on JSON Schemas</a> and can have arbitrarily many fields.</p><p>To define your own custom event, you must create a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">JSON schema</a> for that event and upload it to an <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu Schema Repository</a> using <a href="/docs/pipeline-components-and-applications/iglu/">igluctl</a> (or if a Snowplow BDP customer, you can use the <a href="/docs/understanding-tracking-design/managing-data-structures/">Snowplow BDP Console UI</a> or <a href="/docs/understanding-tracking-design/managing-data-structures-via-the-api-2/">Data Structures API</a>). Snowplow uses the schema to validate that the JSON containing the event properties is well-formed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let data = [&quot;targetUrl&quot;: &quot;http://a-target-url.com&quot; as NSObject];       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = SelfDescribing(schema: &quot;iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1&quot;, payload: data)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A Self Describing event is a <a href="http://snowplowanalytics.com/blog/2014/05/15/introducing-self-describing-jsons/" target="_blank" rel="noopener noreferrer">self-describing JSON</a>. It has two fields:</p><ul><li>A <code>data</code> field, containing the properties of the event</li><li>A <code>schema</code> field, containing the location of the JSON schema against which the <code>data</code> field should be validated.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structured">Structured<a class="hash-link" href="#structured" title="Direct link to heading">​</a></h2><p>Our philosophy in creating Snowplow is that users should capture important consumer interactions and design suitable data structures for this data capture. You can read more about that philosophy <a href="/docs/understanding-tracking-design/">here</a>. Using <code>trackSelfDescribingEvent</code> captures these interactions with custom schemas, as desribed above.</p><p>However, as part of a Snowplow implementation there may be interactons where custom Self Describing events are perhaps too complex or unwarranted. They are then candidates to track using <code>Structured</code>, if none of the other event-specific methods outlined below are appropriate.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = Structured(category: &quot;Example&quot;, action: &quot;my-action&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .label(&quot;my-label&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .property(&quot;my-property&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .value(5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timing">Timing<a class="hash-link" href="#timing" title="Direct link to heading">​</a></h2><p>Use the <code>Timing</code> events to track user timing events such as how long resources take to load.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = Timing(category: &quot;timing-category&quot;, variable: &quot;timing-variable&quot;, timing: 5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .label(&quot;optional-label&quot;)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="screen-view">Screen View<a class="hash-link" href="#screen-view" title="Direct link to heading">​</a></h2><p>Track the user viewing a screen within the application. This type of tracking is typically used when automatic screen view tracking is not suitable within your application.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = ScreenView(name: &quot;DemoScreenName&quot;, screenId: UUID())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consent">Consent<a class="hash-link" href="#consent" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consent-granted">Consent Granted<a class="hash-link" href="#consent-granted" title="Direct link to heading">​</a></h3><p>Use the <code>ConsentGranted</code> event to track a user opting into data collection. A consent document context will be attached to the event using the <code>id</code> and <code>version</code> arguments supplied.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = ConsentGranted(expiry: &quot;2022-01-01T00:00:00Z&quot;, documentId: &quot;1234abcd&quot;, version: &quot;1.2&quot;)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .name(&quot;document-name&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .documentDescription(&quot;document-description&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consent-withdrawn">Consent Withdrawn<a class="hash-link" href="#consent-withdrawn" title="Direct link to heading">​</a></h3><p>Use the <code>ConsentWithdrawn</code> event to track a user withdrawing consent for data collection. A consent document context will be attached to the event using the <code>id</code> and <code>version</code> arguments supplied. To specify that a user opts out of all data collection, <code>all</code> should be set to <code>true</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = ConsentWithdrawn()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .all(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .documentId(&quot;1234abcd&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .version(&quot;1.2&quot;)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .name(&quot;document-name&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .documentDescription(&quot;document-description&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ecommerce-transaction">Ecommerce Transaction<a class="hash-link" href="#ecommerce-transaction" title="Direct link to heading">​</a></h2><p>Modelled on Google Analytics ecommerce tracking capability, Snowplow uses three steps that can be used together to track online transactions:</p><ol><li><strong>Create a Ecommerce event.</strong> Use <code>Ecommerce</code> to initialize a transaction object. This will be the object that is loaded with all the data relevant to the specific transaction that is being tracked including all the items in the order, the prices of the items, the price of shipping and the <code>order_id</code>.</li><li><strong>Add items to the transaction.</strong> Create an array of <code>EcommerceItem</code> to pass to the <code>Ecommerce</code> object.</li><li><strong>Submit the transaction to Snowplow</strong> using the <code>track()</code> method, once all the relevant data has been loaded into the object.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let transactionID = &quot;6a8078be&quot;       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let itemArray = [       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  EcommerceItem(sku: &quot;DemoItemSku&quot;, price: 0.75, quantity: 1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .name(&quot;DemoItemName&quot;)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .category(&quot;DemoItemCategory&quot;)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .currency(&quot;USD&quot;)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">]       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = Ecommerce(orderId: transactionID, totalValue: 350, items: itemArray)   </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .affiliation(&quot;DemoTransactionAffiliation&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .taxValue(10)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .shipping(15)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .city(&quot;Boston&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .state(&quot;Massachisetts&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .country(&quot;USA&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .currency(&quot;USD&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="push-and-local-notification">Push and Local Notification<a class="hash-link" href="#push-and-local-notification" title="Direct link to heading">​</a></h2><p>To track an event when a push (or local) notification is used, it is possible to use the <code>MessageNotification</code> event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let event = MessageNotification(title: &quot;title&quot;, body: &quot;body&quot;, trigger: .push)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .notificationTimestamp(&quot;2020-12-31T15:59:60-08:00&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .action(&quot;action&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .bodyLocKey(&quot;loc key&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .bodyLocArgs([&quot;loc arg1&quot;, &quot;loc arg2&quot;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .sound(&quot;chime.mp3&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .notificationCount(9)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .category(&quot;category1&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .attachments([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MessageNotificationAttachment(identifier: &quot;id&quot;, type: &quot;type&quot;, url: &quot;https://snowplow.io&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deep-link">Deep Link<a class="hash-link" href="#deep-link" title="Direct link to heading">​</a></h2><p>The Deep Link is received by the mobile operating system and passed to the related app. Our mobile tracker can&#x27;t automatically track the Deep Link, but we provide an out-of-the-box event that can be used by the developer to manually track it as soon as the Deep Link is received in the app.</p><p>It will be the duty of the tracker to automatically attach the information of the Deep Link to the first ScreenView tracked.</p><p>In practice, when the app receives a Deep Link the developer can track it through the DeepLinkReceived event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public func application(_ application: UIApplication,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        continue userActivity: NSUserActivity,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        restorationHandler: @escaping ([Any]?) -&amp;gt; Void) -&amp;gt; Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if let url = userActivity.webpageURL {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let deepLinkEvent = DeepLinkReceived(url: userActivity.webpageURL.absoluteString)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            .referrer(userActivity.referrerURL.absoluteString)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tracker.track(deepLinkEvent)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The tracker keeps memory of the tracked Deep Link event and will attach a Deep Link entity to the first ScreenView tracked in the tracker. This is helpful during the analysis of the data because it will be clear the relation between the content visualized by the user (ScreenView event) and source (DeepLink entity) that originated that visualisation.</p><p>This behaviour is enabled by default but it can be disabled from the <code>TrackerConfiguration</code>.</p><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">let trackerConfig = TrackerConfiguration()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .deepLinkContext(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>DeepLinkReceived</code> event can be used in pair with a <code>campaign-attribution-enrichment</code> appropriately enabled in the Snowplow pipeline. It works exactly like for <code>PageView</code> events in the web/JS tracker. When the user taps on an advertising banner or a marketing email or message, it can trigger the launch of the app through the Deep Linking feature. The referral from the advertising campaigns, websites, or other source can be composed by UTM parameters used to attribute the user activity back to the campaign. The Campaign Attribution Enrichment can parse the DeepLinkReceived event extracting the UTM parameters in the deep link url.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The mobile trackers capture two types of events, automatically captured and manual events.</p><h1>Auto Tracking</h1><p>Automatically captured events in the Android Tracker are:</p><ul><li><strong>App Lifecycle Tracking</strong>: Captures application foreground and application background events.</li><li><strong>Screen View Tracking</strong>: Captures each time a new “screen” is loaded.</li><li><strong>Exception Tracking</strong>: Captures any unhandled exceptions within the application.</li><li><strong>Installation Tracking</strong>: Captures an install event which occurs the first time an application is opened.</li></ul><p>These are enabled in the tracker configuration. In this example, some helpful automatic contexts and all Autotracking is enabled:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">TrackerConfiguration trackerConfiguration = new TrackerConfiguration(appId)       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .sessionContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .platformContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .applicationContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .screenContext(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .lifecycleAutotracking(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .screenViewAutotracking(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .exceptionAutotracking(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .installAutotracking(true);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="session-context-1">Session Context<a class="hash-link" href="#session-context-1" title="Direct link to heading">​</a></h2><p>Client session tracking is activated by default but it can be disabled through the TrackerConfiguration as explained above. When enabled the tracker appends a <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2" target="_blank" rel="noopener noreferrer">client<!-- -->_<!-- -->session</a> context to each event it sends and it maintains this session information as long as the application is installed on the device.</p><p>Sessions correspond to tracked user activity. A session expires when no tracking events have occurred for the amount of time defined in a timeout (by default 30 minutes). The session timeout check is executed for each event tracked. If the gap between two consecutive events is longer than the timeout the session is renewed. There are two timeouts since a session can timeout in the foreground (while the app is visible) or in the background (when the app has been suspended, but not closed).</p><p>The lifecycle events (<code>application_foreground</code> and <code>application_background</code> events) have a role in the session expiration. The lifecycle events can be enabled in the <a href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/introduction/#TrackerConfiguration">TrackerConfiguration</a> enabling <code>lifecycleAutotracking</code> (Note: on Android it requires <code>androidx.lifecycle:lifecycle-extensions</code>). Once enabled they will be fired automatically when the app moves from foreground state to background state and vice versa.</p><p>When the app moves from foreground to background the <code>application_background</code> event is fired. If session tracking is enabled, the session context will be attached to the event checking the session expiration using the foreground timeout. When the app moves from background to foreground the <code>application_foreground</code> event is fired. If session tracking is enabled, the session context will be attached to the event checking the session expiration using the background timeout.</p><p>For instance, with this configuration:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">new SessionConfiguration(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new TimeMeasure(360, TimeUnit.SECONDS),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new TimeMeasure(15, TimeUnit.SECONDS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>the session would expire if the app is backgrounded for more than 15 seconds, like in this example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">time: 0s - screen_view event - foreground timeout session check - session 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">time: 3s - application_background event - foreground timeout session check (3 &lt; 360) - session 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">time: 30s - application_foreground event - background timeout session check (30 &gt; 15) - session 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above example the <code>application_foreground</code> event triggers a new session because the time spent on background (without tracked events) is bigger than the background timeout for the session.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-callback-1">Session callback<a class="hash-link" href="#session-callback-1" title="Direct link to heading">​</a></h3><p>(Available from v3.1)</p><p>The tracker allows the configuration of a callback to inform the app everytime a new session is created (in correspondence of a session timeout check). This can be configured in the <code>SessionConfiguration</code> and it provides the <code>SessionState</code> where can be accessed all the info already tracked in the <code>SessionContext</code>.</p><p>Below an example of where the session callback is used to print out the values of session every time a new session is generated by the tracker:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SessionConfiguration sessionConfig = new SessionConfiguration(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                new TimeMeasure(6, TimeUnit.SECONDS),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                new TimeMeasure(30, TimeUnit.SECONDS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .onSessionUpdate(state -&gt; log(&quot;Session: &quot; + state.getSessionId()));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Snowplow.createTracker(getApplicationContext(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                namespace,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                networkConfiguration,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                sessionConfiguration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-event-context-1">Custom Event Context<a class="hash-link" href="#custom-event-context-1" title="Direct link to heading">​</a></h2><p>Custom context can be used to augment any standard Snowplow event type, including self describing events, with additional data. We refer to this custom context as <a href="/docs/understanding-tracking-design/understanding-events-entities/">Event Entities</a>.</p><p>Each custom context is an array of self-describing JSON following the same pattern as a self describing event. As with self describing events, if you want to create your own custom context, you must create a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">JSON schema</a> for it and upload it to an <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu repository</a> using the <a href="https://snowplow.io/snowplow-insights/" target="_blank" rel="noopener noreferrer">Snowplow BDP Console UI</a>, <a href="/docs/understanding-tracking-design/managing-data-structures/">Data Structures API</a>, <a href="/docs/pipeline-components-and-applications/iglu/">igluctl</a> or one of the other supported Iglu clients.</p><p>Note: Even if only one custom context is being attached to an event, it still needs to be wrapped in an array.</p><p>Here are two example custom context JSONs. One describes a screen:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.example/screen/jsonschema/1-2-1&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        screenType: &#x27;test&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        lastUpdated: &#x27;2021-06-11&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and the other describes a user on that screen:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    schema: &#x27;iglu:com.example/user/jsonschema/2-0-0&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      userType: &#x27;tester&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-events-with-custom-context-1">Tracking events with Custom Context<a class="hash-link" href="#tracking-events-with-custom-context-1" title="Direct link to heading">​</a></h2><p>How to track a screen view with both of these contexts attached:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ScreenView event = new ScreenView(&quot;screen&quot;, UUID.randomUUID().toString());         </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">event.customContexts.add(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new SelfDescribingJson(&quot;iglu:com.example/screen/jsonschema/1-2-1&quot;,                         </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new HashMap() {{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            put(&quot;screenType&quot;, &quot;test&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            put(&quot;lastUpdated&quot;, &quot;2021-06-11&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">event.customContexts.add(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new SelfDescribingJson(&quot;iglu:com.example/user/jsonschema/2-0-0&quot;,                         </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new HashMap() {{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            put(&quot;userType&quot;, &quot;tester&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is also possible to add contexts in a declarative way (see GlobalContextsConfiguration <a href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/introduction/">here</a>), so that they are applied to all (or a subset of) events within an application.</p><h1>Manual Tracking</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="self-describing-1">Self Describing<a class="hash-link" href="#self-describing-1" title="Direct link to heading">​</a></h2><p>You may wish to track events in your app which are not directly supported by Snowplow and which structured event tracking does not adequately capture. Your event may have more than the five fields offered by Structured events, or its fields may not fit into the category-action-label-property-value model. The solution is Snowplow’s self-describing events. Self-describing events are a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">data structure based on JSON Schemas</a> and can have arbitrarily many fields.</p><p>To define your own custom event, you must create a <a href="/docs/understanding-tracking-design/understanding-schemas-and-validation/">JSON schema</a> for that event and upload it to an <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu Schema Repository</a> using <a href="/docs/pipeline-components-and-applications/iglu/">igluctl</a> (or if a Snowplow BDP customer, you can use the <a href="/docs/understanding-tracking-design/managing-data-structures/">Snowplow BDP Console UI</a> or <a href="/docs/understanding-tracking-design/managing-data-structures-via-the-api-2/">Data Structures API</a>). Snowplow uses the schema to validate that the JSON containing the event properties is well-formed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Map properties = new HashMap();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.put(&quot;targetUrl&quot;, &quot;http://a-target-url.com&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SelfDescribingJson sdj = new SelfDescribingJson(&quot;iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1&quot;, attributes);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SelfDescribing event = new SelfDescribing(sdj);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A Self Describing event is a <a href="http://snowplowanalytics.com/blog/2014/05/15/introducing-self-describing-jsons/" target="_blank" rel="noopener noreferrer">self-describing JSON</a>. It has two fields:</p><ul><li>A <code>data</code> field, containing the properties of the event</li><li>A <code>schema</code> field, containing the location of the JSON schema against which the <code>data</code> field should be validated.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structured-1">Structured<a class="hash-link" href="#structured-1" title="Direct link to heading">​</a></h2><p>Our philosophy in creating Snowplow is that users should capture important consumer interactions and design suitable data structures for this data capture. You can read more about that philosophy <a href="/docs/understanding-tracking-design/">here</a>. Using <code>trackSelfDescribingEvent</code> captures these interactions with custom schemas, as desribed above.</p><p>However, as part of a Snowplow implementation there may be interactons where custom Self Describing events are perhaps too complex or unwarranted. They are then candidates to track using <code>Structured</code>, if none of the other event-specific methods outlined below are appropriate.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Structured event = Structured(&quot;my-category&quot;, &quot;my-action&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .label(&quot;my-label&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .property(&quot;my-property&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .value(5);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timing-1">Timing<a class="hash-link" href="#timing-1" title="Direct link to heading">​</a></h2><p>Use the <code>Timing</code> events to track user timing events such as how long resources take to load.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Timing event = new Timing(&quot;timing-category&quot;, &quot;timing-variable&quot;, 5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .label(&quot;optional-label&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="screen-view-1">Screen View<a class="hash-link" href="#screen-view-1" title="Direct link to heading">​</a></h2><p>Track the user viewing a screen within the application. This type of tracking is typically used when automatic screen view tracking is not suitable within your application.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ScreenView event = new ScreenView(&quot;screen&quot;, UUID.&lt;em&gt;randomUUID&lt;/em&gt;().toString());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consent-1">Consent<a class="hash-link" href="#consent-1" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consent-granted-1">Consent Granted<a class="hash-link" href="#consent-granted-1" title="Direct link to heading">​</a></h3><p>Use the <code>ConsentGranted</code> event to track a user opting into data collection. A consent document context will be attached to the event using the <code>id</code> and <code>version</code> arguments supplied.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ConsentGranted event = new ConsentGranted(&quot;2018-05-08T18:12:02+00:00&quot;, &quot;doc id&quot;, &quot;1.2&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .documentDescription(&quot;doc description&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .documentName(&quot;doc name&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consent-withdrawn-1">Consent Withdrawn<a class="hash-link" href="#consent-withdrawn-1" title="Direct link to heading">​</a></h3><p>Use the <code>ConsentWithdrawn</code> event to track a user withdrawing consent for data collection. A consent document context will be attached to the event using the <code>id</code> and <code>version</code> arguments supplied. To specify that a user opts out of all data collection, <code>all</code> should be set to <code>true</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ConsentWithdrawn event = new ConsentWithdrawn(true, &quot;doc id&quot;, &quot;1.2&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .documentDescription(&quot;doc description&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .documentName(&quot;doc name&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ecommerce-transaction-1">Ecommerce Transaction<a class="hash-link" href="#ecommerce-transaction-1" title="Direct link to heading">​</a></h2><p>Modelled on Google Analytics ecommerce tracking capability, Snowplow uses three steps that can be used together to track online transactions:</p><ol><li><strong>Create a Ecommerce event.</strong> Use <code>Ecommerce</code> to initialize a transaction object. This will be the object that is loaded with all the data relevant to the specific transaction that is being tracked including all the items in the order, the prices of the items, the price of shipping and the <code>order_id</code>.</li><li><strong>Add items to the transaction.</strong> Create an array of <code>EcommerceItem</code> to pass to the <code>Ecommerce</code> object.</li><li><strong>Submit the transaction to Snowplow</strong> using the <code>track()</code> method, once all the relevant data has been loaded into the object.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">EcommerceTransactionItem item = new EcommerceTransactionItem(&quot;sku-1&quot;, 35.00, 1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .name(&quot;Acme 1&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .category(&quot;Stuff&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .currency(&quot;USD&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">List items = new LinkedList();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">items.add(item);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">EcommerceTransaction event = new EcommerceTransaction(&quot;order-1&quot;, 40.00, items)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .shipping(5.00);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="push-and-local-notification-1">Push and Local Notification<a class="hash-link" href="#push-and-local-notification-1" title="Direct link to heading">​</a></h2><p>To track an event when a push (or local) notification is used, it is possible to use the <code>MessageNotification</code> event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MessageNotification event =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new MessageNotification(&quot;title&quot;, &quot;body&quot;, MessageNotificationTrigger.push)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .notificationTimestamp(&quot;2020-12-31T15:59:60-08:00&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .action(&quot;action&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .bodyLocKey(&quot;loc key&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .bodyLocArgs(Arrays.asList(&quot;loc arg1&quot;, &quot;loc arg2&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .sound(&quot;chime.mp3&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .notificationCount(9)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .category(&quot;category1&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tracker.track(event);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deep-link-1">Deep Link<a class="hash-link" href="#deep-link-1" title="Direct link to heading">​</a></h2><p>The Deep Link is received by the mobile operating system and passed to the related app. Our mobile tracker can&#x27;t automatically track the Deep Link, but we provide an out-of-the-box event that can be used by the developer to manually track it as soon as the Deep Link is received in the app.</p><p>It will be the duty of the tracker to automatically attach the information of the Deep Link to the first ScreenView tracked.</p><p>In practice, when the app receives a Deep Link the developer can track it through the DeepLinkReceived event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public void onCreate(Bundle savedInstanceState) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Extract info from Intent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Intent intent = getIntent();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    String deepLinkUrl = intent.getData().toString();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    String referrer = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Bundle extras = intent.getExtras();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (extras != null) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Uri referrerUri = extras.get(Intent.EXTRA_REFERRER);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (referrerUri != null) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            referrer = referrerUri.toString();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create and track the event</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    DeepLinkReceived event = new DeepLinkReceived(deepLinkUrl).referrer(referrer);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tracker.track(event);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The tracker keeps memory of the tracked Deep Link event and will attach a Deep Link entity to the first ScreenView tracked in the tracker. This is helpful during the analysis of the data because it will be clear the relation between the content visualized by the user (ScreenView event) and source (DeepLink entity) that originated that visualisation.</p><p>This behaviour is enabled by default but it can be disabled from the <code>TrackerConfiguration</code>.</p><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">TrackerConfiguration config = new TrackerConfiguration()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .deepLinkContext(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>DeepLinkReceived</code> event can be used in pair with a <code>campaign-attribution-enrichment</code> appropriately enabled in the Snowplow pipeline. It works exactly like for <code>PageView</code> events in the web/JS tracker. When the user taps on an advertising banner or a marketing email or message, it can trigger the launch of the app through the Deep Linking feature. The referral from the advertising campaigns, websites, or other source can be composed by UTM parameters used to attribute the user activity back to the campaign. The Campaign Attribution Enrichment can parse the DeepLinkReceived event extracting the UTM parameters in the deep link url.</p></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/tracking-events/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-09T12:18:35.000Z">Sep 9, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/quick-start-guide/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick Start Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v3-x/remote-configuration/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Remote Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#session-context" class="table-of-contents__link toc-highlight">Session Context</a><ul><li><a href="#session-callback" class="table-of-contents__link toc-highlight">Session callback</a></li></ul></li><li><a href="#custom-event-context" class="table-of-contents__link toc-highlight">Custom Event Context</a></li><li><a href="#tracking-events-with-custom-context" class="table-of-contents__link toc-highlight">Tracking events with Custom Context</a></li><li><a href="#self-describing" class="table-of-contents__link toc-highlight">Self Describing</a></li><li><a href="#structured" class="table-of-contents__link toc-highlight">Structured</a></li><li><a href="#timing" class="table-of-contents__link toc-highlight">Timing</a></li><li><a href="#screen-view" class="table-of-contents__link toc-highlight">Screen View</a></li><li><a href="#consent" class="table-of-contents__link toc-highlight">Consent</a><ul><li><a href="#consent-granted" class="table-of-contents__link toc-highlight">Consent Granted</a></li><li><a href="#consent-withdrawn" class="table-of-contents__link toc-highlight">Consent Withdrawn</a></li></ul></li><li><a href="#ecommerce-transaction" class="table-of-contents__link toc-highlight">Ecommerce Transaction</a></li><li><a href="#push-and-local-notification" class="table-of-contents__link toc-highlight">Push and Local Notification</a></li><li><a href="#deep-link" class="table-of-contents__link toc-highlight">Deep Link</a></li><li><a href="#session-context-1" class="table-of-contents__link toc-highlight">Session Context</a><ul><li><a href="#session-callback-1" class="table-of-contents__link toc-highlight">Session callback</a></li></ul></li><li><a href="#custom-event-context-1" class="table-of-contents__link toc-highlight">Custom Event Context</a></li><li><a href="#tracking-events-with-custom-context-1" class="table-of-contents__link toc-highlight">Tracking events with Custom Context</a></li><li><a href="#self-describing-1" class="table-of-contents__link toc-highlight">Self Describing</a></li><li><a href="#structured-1" class="table-of-contents__link toc-highlight">Structured</a></li><li><a href="#timing-1" class="table-of-contents__link toc-highlight">Timing</a></li><li><a href="#screen-view-1" class="table-of-contents__link toc-highlight">Screen View</a></li><li><a href="#consent-1" class="table-of-contents__link toc-highlight">Consent</a><ul><li><a href="#consent-granted-1" class="table-of-contents__link toc-highlight">Consent Granted</a></li><li><a href="#consent-withdrawn-1" class="table-of-contents__link toc-highlight">Consent Withdrawn</a></li></ul></li><li><a href="#ecommerce-transaction-1" class="table-of-contents__link toc-highlight">Ecommerce Transaction</a></li><li><a href="#push-and-local-notification-1" class="table-of-contents__link toc-highlight">Push and Local Notification</a></li><li><a href="#deep-link-1" class="table-of-contents__link toc-highlight">Deep Link</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/cookie-preferences/">Change cookie preferences</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/terms-and-conditions/">Terms and conditions</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a25030c0.js"></script>
<script src="/assets/js/main.cac1a3dd.js"></script>
</body>
</html>