<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="Snowplow Documentation" href="/opensearch.xml"><title data-rh="true">Databricks loader | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplow.io/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Databricks loader | Snowplow Documentation"><meta data-rh="true" name="description" content="Setting up Databricks"><meta data-rh="true" property="og:description" content="Setting up Databricks"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplow.io/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/"><link data-rh="true" rel="alternate" href="https://docs.snowplow.io/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplow.io/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9HS3C2MKTH-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c14a5ea9.css">
<link rel="preload" href="/assets/js/runtime~main.a25030c0.js" as="script">
<link rel="preload" href="/assets/js/main.cac1a3dd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">ðŸ‘“ Participate in research that will shape the future of Snowplow Open Source! <a target="_blank" rel="noopener noreferrer" href="https://docs.google.com/forms/d/e/1FAIpQLSeZ1WIQO50N5bb6nIVb6CqIolkCrunimkQtMLpSU31wNKC6GQ/viewform">Apply here.</a></div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link nav-link__first customized_AOMy navbar__link--active" href="/docs/">Docs</a><a href="https://discourse.snowplow.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://try.snowplowanalytics.com/?utm_content=hero-cta&amp;utm_campaign=snowplow-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Try Snowplow</a><a href="https://go.snowplowanalytics.com/l/571483/2021-02-19/3sn5nml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Book a demo</a><div class="toggle_vylO extraSpace_k8HL"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s extraPadding_YQbj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp/">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-on-snowplow-open-source/">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow/">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start/">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline/">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design/">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/collecting-data/">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data/">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data/">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations/">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/managing-data-quality/">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console/">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/pipeline-components-and-applications/">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/version-compatibility-matrix/">Version compatibility matrix</a><button aria-label="Toggle the collapsible sidebar category &#x27;Version compatibility matrix&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/stream-collector/">Stream Collector</a><button aria-label="Toggle the collapsible sidebar category &#x27;Stream Collector&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/sqs2kinesis/">Sqs2kinesis</a><button aria-label="Toggle the collapsible sidebar category &#x27;Sqs2kinesis&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/enrichment-components/">Enrichment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enrichment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/">Loaders and storage targets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Loaders and storage targets&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/s3-loader/">S3 Loader</a><button aria-label="Toggle the collapsible sidebar category &#x27;S3 Loader&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/">RDB Loader</a><button aria-label="Toggle the collapsible sidebar category &#x27;RDB Loader&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/transforming-enriched-data/">Transforming enriched data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Transforming enriched data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/">Loading transformed data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Loading transformed data&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/redshift-loader/">Redshift loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/snowflake-loader/">Snowflake loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/">Databricks loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/monitoring/">Monitoring</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/rdb-loader-configuration-reference/">RDB Loader configuration reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;RDB Loader configuration reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/previous-versions/">Previous versions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Previous versions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-snowflake-loader/">Snowflake Loader</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowflake Loader&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/bigquery-loader/">BigQuery Loader</a><button aria-label="Toggle the collapsible sidebar category &#x27;BigQuery Loader&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/google-cloud-storage-loader/">Google Cloud Storage Loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/elasticsearch-loader/">Elasticsearch Loader</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-postgres-loader/">Postgres Loader</a><button aria-label="Toggle the collapsible sidebar category &#x27;Postgres Loader&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/events-manifest-populator/">Events Manifest Populator</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/loaders-storage-targets/emr-etl-runner/">EmrEtlRunner</a><button aria-label="Toggle the collapsible sidebar category &#x27;EmrEtlRunner&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/iglu/">Iglu</a><button aria-label="Toggle the collapsible sidebar category &#x27;Iglu&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline-components-and-applications/dataflow-runner/">Dataflow Runner</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/snowplow-mini/">Snowplow Mini</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Mini&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/piinguin/">Piinguin</a><button aria-label="Toggle the collapsible sidebar category &#x27;Piinguin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pipeline-components-and-applications/right-to-be-forgotten-spark-application/">Right to be Forgotten Spark Application</a><button aria-label="Toggle the collapsible sidebar category &#x27;Right to be Forgotten Spark Application&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing/">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pipeline-components-and-applications/"><span itemprop="name">Pipeline Components and Applications</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pipeline-components-and-applications/loaders-storage-targets/"><span itemprop="name">Loaders and storage targets</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/"><span itemprop="name">RDB Loader</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/"><span itemprop="name">Loading transformed data</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Databricks loader</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Databricks loader</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-databricks">Setting up Databricks<a class="hash-link" href="#setting-up-databricks" title="Direct link to heading">â€‹</a></h2><p>The following resources need to be created:</p><ul><li><a href="https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html" target="_blank" rel="noopener noreferrer">AWS instance profile</a> for giving permission to Databricks cluster to access S3 buckets securely</li><li><a href="https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html#step-5-add-the-instance-profile-to-databricks" target="_blank" rel="noopener noreferrer">Databricks cluster</a> configured with the instance profile created above</li><li><a href="https://docs.databricks.com/dev-tools/api/latest/authentication.html" target="_blank" rel="noopener noreferrer">Databricks access token</a></li></ul><p>Also, <code>events</code> table needs to be created before starting the application for the first time:</p><p><strong>Statement for creating events table</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE IF NOT EXISTS snowplow.events (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- App</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  app_id                      VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  platform                    VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Date/time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  etl_tstamp                  TIMESTAMP,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  collector_tstamp            TIMESTAMP       NOT NULL,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dvce_created_tstamp         TIMESTAMP,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Event</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event                       VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_id                    CHAR(36)        NOT NULL,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  txn_id                      INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Namespacing and versioning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  name_tracker                VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v_tracker                   VARCHAR(100),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v_collector                 VARCHAR(100)    NOT NULL,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v_etl                       VARCHAR(100)    NOT NULL,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- User and visit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user_id                     VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user_ipaddress              VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user_fingerprint            VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  domain_userid               VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  domain_sessionidx           SMALLINT,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network_userid              VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Location</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_country                 CHAR(2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_region                  CHAR(3),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_city                    VARCHAR(75),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_zipcode                 VARCHAR(15),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_latitude                DOUBLE,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_longitude               DOUBLE,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_region_name             VARCHAR(100),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- IP lookups</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip_isp                      VARCHAR(100),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip_organization             VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip_domain                   VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip_netspeed                 VARCHAR(100),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Page</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_url                    VARCHAR(4096),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_title                  VARCHAR(2000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_referrer               VARCHAR(4096),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Page URL components</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_urlscheme              VARCHAR(16),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_urlhost                VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_urlport                INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_urlpath                VARCHAR(3000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_urlquery               VARCHAR(6000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  page_urlfragment            VARCHAR(3000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Referrer URL components</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_urlscheme              VARCHAR(16),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_urlhost                VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_urlport                INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_urlpath                VARCHAR(6000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_urlquery               VARCHAR(6000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_urlfragment            VARCHAR(3000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Referrer details</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_medium                 VARCHAR(25),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_source                 VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_term                   VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Marketing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_medium                  VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_source                  VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_term                    VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_content                 VARCHAR(500),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_campaign                VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Custom structured event</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  se_category                 VARCHAR(1000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  se_action                   VARCHAR(1000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  se_label                    VARCHAR(4096),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  se_property                 VARCHAR(1000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  se_value                    DOUBLE,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Ecommerce</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_orderid                  VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_affiliation              VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_total                    DECIMAL(18,2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_tax                      DECIMAL(18,2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_shipping                 DECIMAL(18,2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_city                     VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_state                    VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_country                  VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_orderid                  VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_sku                      VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_name                     VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_category                 VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_price                    DECIMAL(18,2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_quantity                 INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Page ping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pp_xoffset_min              INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pp_xoffset_max              INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pp_yoffset_min              INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pp_yoffset_max              INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- User Agent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  useragent                   VARCHAR(1000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Browser</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_name                     VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_family                   VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_version                  VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_type                     VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_renderengine             VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_lang                     VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_pdf             BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_flash           BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_java            BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_director        BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_quicktime       BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_realplayer      BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_windowsmedia    BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_gears           BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_features_silverlight     BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_cookies                  BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_colordepth               VARCHAR(12),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_viewwidth                INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  br_viewheight               INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Operating System</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  os_name                     VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  os_family                   VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  os_manufacturer             VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  os_timezone                 VARCHAR(255),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Device/Hardware</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dvce_type                   VARCHAR(50),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dvce_ismobile               BOOLEAN,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dvce_screenwidth            INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dvce_screenheight           INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Document</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  doc_charset                 VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  doc_width                   INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  doc_height                  INTEGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Currency</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_currency                 CHAR(3),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_total_base               DECIMAL(18, 2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_tax_base                 DECIMAL(18, 2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tr_shipping_base            DECIMAL(18, 2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_currency                 CHAR(3),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ti_price_base               DECIMAL(18, 2),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  base_currency               CHAR(3),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Geolocation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  geo_timezone                VARCHAR(64),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Click ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_clickid                 VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mkt_network                 VARCHAR(64),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- ETL tags</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  etl_tags                    VARCHAR(500),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Time event was sent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dvce_sent_tstamp            TIMESTAMP,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Referer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_domain_userid          VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  refr_dvce_tstamp            TIMESTAMP,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Session ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  domain_sessionid            CHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Derived timestamp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  derived_tstamp              TIMESTAMP,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Event schema</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_vendor                VARCHAR(1000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_name                  VARCHAR(1000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_format                VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_version               VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Event fingerprint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_fingerprint           VARCHAR(128),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- True timestamp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  true_tstamp                 TIMESTAMP,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -- Collector timestamp date for partitioning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  collector_tstamp_date       DATE GENERATED ALWAYS AS (DATE(collector_tstamp))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PARTITIONED BY (collector_tstamp_date, event_name);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="downloading-the-artefact">Downloading the artefact<a class="hash-link" href="#downloading-the-artefact" title="Direct link to heading">â€‹</a></h3><p>The asset is published as a jar file attached to the <a href="https://github.com/snowplow/snowplow-rdb-loader/releases" target="_blank" rel="noopener noreferrer">Github release notes</a> for each version.</p><p>It&#x27;s also available as a Docker image on Docker Hub under <code>snowplow/rdb-loader-databricks:4.2.0</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-rdb-loader-databricks">Configuring <code>rdb-loader-databricks</code><a class="hash-link" href="#configuring-rdb-loader-databricks" title="Direct link to heading">â€‹</a></h3><p>The loader takes two configuration files:</p><ul><li>a <code>config.hocon</code> file with application settings</li><li>an <code>iglu_resolver.json</code> file with the resolver configuration for your <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu</a> schema registry.</li></ul><p>An example of the minimal required config for the Databricks loader can be found <a href="https://github.com/snowplow/snowplow-rdb-loader/blob/master/config/databricks.config.minimal.hocon" target="_blank" rel="noopener noreferrer">here</a> and a more detailed one <a href="https://github.com/snowplow/snowplow-rdb-loader/blob/master/config/databricks.config.reference.hocon" target="_blank" rel="noopener noreferrer">here</a>. For details about each setting, see the <a href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/rdb-loader-configuration-reference/">configuration reference</a>.</p><p>See <a href="/docs/pipeline-components-and-applications/iglu/iglu-resolver/">here</a> for details on how to prepare the Iglu resolver file.</p><p><strong>NOTE:</strong> All self-describing schemas for events processed by RDB Loader <strong>must</strong> be hosted on <a href="/docs/pipeline-components-and-applications/iglu/iglu-repositories/iglu-server/">Iglu Server</a> 0.6.0 or above. <a href="/docs/pipeline-components-and-applications/iglu/iglu-repositories/iglu-central/">Iglu Central</a> is a registry containing Snowplow-authored schemas. If you want to use them alongside your own, you will need to add it to your resolver file. Keep it mind that it could override your own private schemas if you give it higher priority. For details on this see <a href="https://discourse.snowplow.io/t/important-changes-to-iglu-centrals-api-for-schema-lists/5720#how-will-this-affect-my-snowplow-pipeline-3" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-databricks-loader">Running the Databricks loader<a class="hash-link" href="#running-the-databricks-loader" title="Direct link to heading">â€‹</a></h3><p>The two config files need to be passed in as base64-encoded strings:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ docker run snowplow/rdb-loader-databricks:4.2.0 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --iglu-config $RESOLVER_BASE64 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --config $CONFIG_BASE64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/databricks-loader/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-09T12:18:35.000Z">Sep 9, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/snowflake-loader/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Snowflake loader</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0/loading-transformed-data/monitoring/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monitoring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-databricks" class="table-of-contents__link toc-highlight">Setting up Databricks</a><ul><li><a href="#downloading-the-artefact" class="table-of-contents__link toc-highlight">Downloading the artefact</a></li><li><a href="#configuring-rdb-loader-databricks" class="table-of-contents__link toc-highlight">Configuring <code>rdb-loader-databricks</code></a></li><li><a href="#running-the-databricks-loader" class="table-of-contents__link toc-highlight">Running the Databricks loader</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/cookie-preferences/">Change cookie preferences</a><span class="footer__link-separator">Â·</span><a class="footer__link-item" href="/terms-and-conditions/">Terms and conditions</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a25030c0.js"></script>
<script src="/assets/js/main.cac1a3dd.js"></script>
</body>
</html>